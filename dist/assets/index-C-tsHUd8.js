(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Sm={exports:{}},qu={};var p_;function fw(){if(p_)return qu;p_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:d,ref:o!==void 0?o:null,props:u}}return qu.Fragment=e,qu.jsx=n,qu.jsxs=n,qu}var g_;function dw(){return g_||(g_=1,Sm.exports=fw()),Sm.exports}var D=dw(),wm={exports:{}},it={};var y_;function mw(){if(y_)return it;y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.iterator;function ne(K){return K===null||typeof K!="object"?null:(K=P&&K[P]||K["@@iterator"],typeof K=="function"?K:null)}var me={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pe=Object.assign,fe={};function Se(K,ye,De){this.props=K,this.context=ye,this.refs=fe,this.updater=De||me}Se.prototype.isReactComponent={},Se.prototype.setState=function(K,ye){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ye,"setState")},Se.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function Te(){}Te.prototype=Se.prototype;function Ne(K,ye,De){this.props=K,this.context=ye,this.refs=fe,this.updater=De||me}var We=Ne.prototype=new Te;We.constructor=Ne,pe(We,Se.prototype),We.isPureReactComponent=!0;var st=Array.isArray;function Ye(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function L(K,ye,De){var Ue=De.ref;return{$$typeof:i,type:K,key:ye,ref:Ue!==void 0?Ue:null,props:De}}function G(K,ye){return L(K.type,ye,K.props)}function F(K){return typeof K=="object"&&K!==null&&K.$$typeof===i}function W(K){var ye={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(De){return ye[De]})}var k=/\/+/g;function Ht(K,ye){return typeof K=="object"&&K!==null&&K.key!=null?W(""+K.key):ye.toString(36)}function en(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(Ye,Ye):(K.status="pending",K.then(function(ye){K.status==="pending"&&(K.status="fulfilled",K.value=ye)},function(ye){K.status==="pending"&&(K.status="rejected",K.reason=ye)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function he(K,ye,De,Ue,Qe){var Je=typeof K;(Je==="undefined"||Je==="boolean")&&(K=null);var mt=!1;if(K===null)mt=!0;else switch(Je){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(K.$$typeof){case i:case e:mt=!0;break;case R:return mt=K._init,he(mt(K._payload),ye,De,Ue,Qe)}}if(mt)return Qe=Qe(K),mt=Ue===""?"."+Ht(K,0):Ue,st(Qe)?(De="",mt!=null&&(De=mt.replace(k,"$&/")+"/"),he(Qe,ye,De,"",function(Qi){return Qi})):Qe!=null&&(F(Qe)&&(Qe=G(Qe,De+(Qe.key==null||K&&K.key===Qe.key?"":(""+Qe.key).replace(k,"$&/")+"/")+mt)),ye.push(Qe)),1;mt=0;var pn=Ue===""?".":Ue+":";if(st(K))for(var ke=0;ke<K.length;ke++)Ue=K[ke],Je=pn+Ht(Ue,ke),mt+=he(Ue,ye,De,Je,Qe);else if(ke=ne(K),typeof ke=="function")for(K=ke.call(K),ke=0;!(Ue=K.next()).done;)Ue=Ue.value,Je=pn+Ht(Ue,ke++),mt+=he(Ue,ye,De,Je,Qe);else if(Je==="object"){if(typeof K.then=="function")return he(en(K),ye,De,Ue,Qe);throw ye=String(K),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return mt}function Pe(K,ye,De){if(K==null)return K;var Ue=[],Qe=0;return he(K,Ue,"","",function(Je){return ye.call(De,Je,Qe++)}),Ue}function Be(K){if(K._status===-1){var ye=K._result;ye=ye(),ye.then(function(De){(K._status===0||K._status===-1)&&(K._status=1,K._result=De)},function(De){(K._status===0||K._status===-1)&&(K._status=2,K._result=De)}),K._status===-1&&(K._status=0,K._result=ye)}if(K._status===1)return K._result.default;throw K._result}var ht=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ft={map:Pe,forEach:function(K,ye,De){Pe(K,function(){ye.apply(this,arguments)},De)},count:function(K){var ye=0;return Pe(K,function(){ye++}),ye},toArray:function(K){return Pe(K,function(ye){return ye})||[]},only:function(K){if(!F(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return it.Activity=I,it.Children=ft,it.Component=Se,it.Fragment=n,it.Profiler=o,it.PureComponent=Ne,it.StrictMode=a,it.Suspense=v,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,it.__COMPILER_RUNTIME={__proto__:null,c:function(K){return N.H.useMemoCache(K)}},it.cache=function(K){return function(){return K.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(K,ye,De){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Ue=pe({},K.props),Qe=K.key;if(ye!=null)for(Je in ye.key!==void 0&&(Qe=""+ye.key),ye)!M.call(ye,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&ye.ref===void 0||(Ue[Je]=ye[Je]);var Je=arguments.length-2;if(Je===1)Ue.children=De;else if(1<Je){for(var mt=Array(Je),pn=0;pn<Je;pn++)mt[pn]=arguments[pn+2];Ue.children=mt}return L(K.type,Qe,Ue)},it.createContext=function(K){return K={$$typeof:d,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:u,_context:K},K},it.createElement=function(K,ye,De){var Ue,Qe={},Je=null;if(ye!=null)for(Ue in ye.key!==void 0&&(Je=""+ye.key),ye)M.call(ye,Ue)&&Ue!=="key"&&Ue!=="__self"&&Ue!=="__source"&&(Qe[Ue]=ye[Ue]);var mt=arguments.length-2;if(mt===1)Qe.children=De;else if(1<mt){for(var pn=Array(mt),ke=0;ke<mt;ke++)pn[ke]=arguments[ke+2];Qe.children=pn}if(K&&K.defaultProps)for(Ue in mt=K.defaultProps,mt)Qe[Ue]===void 0&&(Qe[Ue]=mt[Ue]);return L(K,Je,Qe)},it.createRef=function(){return{current:null}},it.forwardRef=function(K){return{$$typeof:y,render:K}},it.isValidElement=F,it.lazy=function(K){return{$$typeof:R,_payload:{_status:-1,_result:K},_init:Be}},it.memo=function(K,ye){return{$$typeof:E,type:K,compare:ye===void 0?null:ye}},it.startTransition=function(K){var ye=N.T,De={};N.T=De;try{var Ue=K(),Qe=N.S;Qe!==null&&Qe(De,Ue),typeof Ue=="object"&&Ue!==null&&typeof Ue.then=="function"&&Ue.then(Ye,ht)}catch(Je){ht(Je)}finally{ye!==null&&De.types!==null&&(ye.types=De.types),N.T=ye}},it.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},it.use=function(K){return N.H.use(K)},it.useActionState=function(K,ye,De){return N.H.useActionState(K,ye,De)},it.useCallback=function(K,ye){return N.H.useCallback(K,ye)},it.useContext=function(K){return N.H.useContext(K)},it.useDebugValue=function(){},it.useDeferredValue=function(K,ye){return N.H.useDeferredValue(K,ye)},it.useEffect=function(K,ye){return N.H.useEffect(K,ye)},it.useEffectEvent=function(K){return N.H.useEffectEvent(K)},it.useId=function(){return N.H.useId()},it.useImperativeHandle=function(K,ye,De){return N.H.useImperativeHandle(K,ye,De)},it.useInsertionEffect=function(K,ye){return N.H.useInsertionEffect(K,ye)},it.useLayoutEffect=function(K,ye){return N.H.useLayoutEffect(K,ye)},it.useMemo=function(K,ye){return N.H.useMemo(K,ye)},it.useOptimistic=function(K,ye){return N.H.useOptimistic(K,ye)},it.useReducer=function(K,ye,De){return N.H.useReducer(K,ye,De)},it.useRef=function(K){return N.H.useRef(K)},it.useState=function(K){return N.H.useState(K)},it.useSyncExternalStore=function(K,ye,De){return N.H.useSyncExternalStore(K,ye,De)},it.useTransition=function(){return N.H.useTransition()},it.version="19.2.4",it}var v_;function vp(){return v_||(v_=1,wm.exports=mw()),wm.exports}var oe=vp();const pw=yp(oe);var Am={exports:{}},Fu={},Rm={exports:{}},Cm={};var __;function gw(){return __||(__=1,(function(i){function e(he,Pe){var Be=he.length;he.push(Pe);e:for(;0<Be;){var ht=Be-1>>>1,ft=he[ht];if(0<o(ft,Pe))he[ht]=Pe,he[Be]=ft,Be=ht;else break e}}function n(he){return he.length===0?null:he[0]}function a(he){if(he.length===0)return null;var Pe=he[0],Be=he.pop();if(Be!==Pe){he[0]=Be;e:for(var ht=0,ft=he.length,K=ft>>>1;ht<K;){var ye=2*(ht+1)-1,De=he[ye],Ue=ye+1,Qe=he[Ue];if(0>o(De,Be))Ue<ft&&0>o(Qe,De)?(he[ht]=Qe,he[Ue]=Be,ht=Ue):(he[ht]=De,he[ye]=Be,ht=ye);else if(Ue<ft&&0>o(Qe,Be))he[ht]=Qe,he[Ue]=Be,ht=Ue;else break e}}return Pe}function o(he,Pe){var Be=he.sortIndex-Pe.sortIndex;return Be!==0?Be:he.id-Pe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var v=[],E=[],R=1,I=null,P=3,ne=!1,me=!1,pe=!1,fe=!1,Se=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,Ne=typeof setImmediate<"u"?setImmediate:null;function We(he){for(var Pe=n(E);Pe!==null;){if(Pe.callback===null)a(E);else if(Pe.startTime<=he)a(E),Pe.sortIndex=Pe.expirationTime,e(v,Pe);else break;Pe=n(E)}}function st(he){if(pe=!1,We(he),!me)if(n(v)!==null)me=!0,Ye||(Ye=!0,W());else{var Pe=n(E);Pe!==null&&en(st,Pe.startTime-he)}}var Ye=!1,N=-1,M=5,L=-1;function G(){return fe?!0:!(i.unstable_now()-L<M)}function F(){if(fe=!1,Ye){var he=i.unstable_now();L=he;var Pe=!0;try{e:{me=!1,pe&&(pe=!1,Te(N),N=-1),ne=!0;var Be=P;try{t:{for(We(he),I=n(v);I!==null&&!(I.expirationTime>he&&G());){var ht=I.callback;if(typeof ht=="function"){I.callback=null,P=I.priorityLevel;var ft=ht(I.expirationTime<=he);if(he=i.unstable_now(),typeof ft=="function"){I.callback=ft,We(he),Pe=!0;break t}I===n(v)&&a(v),We(he)}else a(v);I=n(v)}if(I!==null)Pe=!0;else{var K=n(E);K!==null&&en(st,K.startTime-he),Pe=!1}}break e}finally{I=null,P=Be,ne=!1}Pe=void 0}}finally{Pe?W():Ye=!1}}}var W;if(typeof Ne=="function")W=function(){Ne(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ht=k.port2;k.port1.onmessage=F,W=function(){Ht.postMessage(null)}}else W=function(){Se(F,0)};function en(he,Pe){N=Se(function(){he(i.unstable_now())},Pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(he){he.callback=null},i.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<he?Math.floor(1e3/he):5},i.unstable_getCurrentPriorityLevel=function(){return P},i.unstable_next=function(he){switch(P){case 1:case 2:case 3:var Pe=3;break;default:Pe=P}var Be=P;P=Pe;try{return he()}finally{P=Be}},i.unstable_requestPaint=function(){fe=!0},i.unstable_runWithPriority=function(he,Pe){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var Be=P;P=he;try{return Pe()}finally{P=Be}},i.unstable_scheduleCallback=function(he,Pe,Be){var ht=i.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?ht+Be:ht):Be=ht,he){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=Be+ft,he={id:R++,callback:Pe,priorityLevel:he,startTime:Be,expirationTime:ft,sortIndex:-1},Be>ht?(he.sortIndex=Be,e(E,he),n(v)===null&&he===n(E)&&(pe?(Te(N),N=-1):pe=!0,en(st,Be-ht))):(he.sortIndex=ft,e(v,he),me||ne||(me=!0,Ye||(Ye=!0,W()))),he},i.unstable_shouldYield=G,i.unstable_wrapCallback=function(he){var Pe=P;return function(){var Be=P;P=Pe;try{return he.apply(this,arguments)}finally{P=Be}}}})(Cm)),Cm}var E_;function yw(){return E_||(E_=1,Rm.exports=gw()),Rm.exports}var Im={exports:{}},or={};var b_;function vw(){if(b_)return or;b_=1;var i=vp();function e(v){var E="https://react.dev/errors/"+v;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)E+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,E,R){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:v,containerInfo:E,implementation:R}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,E){if(v==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,or.createPortal=function(v,E){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(e(299));return u(v,E,null,R)},or.flushSync=function(v){var E=d.T,R=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=E,a.p=R,a.d.f()}},or.preconnect=function(v,E){typeof v=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,a.d.C(v,E))},or.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},or.preinit=function(v,E){if(typeof v=="string"&&E&&typeof E.as=="string"){var R=E.as,I=y(R,E.crossOrigin),P=typeof E.integrity=="string"?E.integrity:void 0,ne=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;R==="style"?a.d.S(v,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:I,integrity:P,fetchPriority:ne}):R==="script"&&a.d.X(v,{crossOrigin:I,integrity:P,fetchPriority:ne,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},or.preinitModule=function(v,E){if(typeof v=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var R=y(E.as,E.crossOrigin);a.d.M(v,{crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&a.d.M(v)},or.preload=function(v,E){if(typeof v=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var R=E.as,I=y(R,E.crossOrigin);a.d.L(v,R,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},or.preloadModule=function(v,E){if(typeof v=="string")if(E){var R=y(E.as,E.crossOrigin);a.d.m(v,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:R,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else a.d.m(v)},or.requestFormReset=function(v){a.d.r(v)},or.unstable_batchedUpdates=function(v,E){return v(E)},or.useFormState=function(v,E,R){return d.H.useFormState(v,E,R)},or.useFormStatus=function(){return d.H.useHostTransitionStatus()},or.version="19.2.4",or}var T_;function _w(){if(T_)return Im.exports;T_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=vw(),Im.exports}var S_;function Ew(){if(S_)return Fu;S_=1;var i=yw(),e=vp(),n=_w();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function y(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function v(t){if(u(t)!==t)throw Error(a(188))}function E(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return v(f),t;if(p===l)return v(f),r;p=p.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=p;else{for(var T=!1,C=f.child;C;){if(C===s){T=!0,s=f,l=p;break}if(C===l){T=!0,l=f,s=p;break}C=C.sibling}if(!T){for(C=p.child;C;){if(C===s){T=!0,s=p,l=f;break}if(C===l){T=!0,l=p,s=f;break}C=C.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function R(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=R(t),r!==null)return r;t=t.sibling}return null}var I=Object.assign,P=Symbol.for("react.element"),ne=Symbol.for("react.transitional.element"),me=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),Ne=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function W(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function Ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pe:return"Fragment";case Se:return"Profiler";case fe:return"StrictMode";case st:return"Suspense";case Ye:return"SuspenseList";case L:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case me:return"Portal";case Ne:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case We:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Ht(t.type)||"Memo";case M:r=t._payload,t=t._init;try{return Ht(t(r))}catch{}}return null}var en=Array.isArray,he=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},ht=[],ft=-1;function K(t){return{current:t}}function ye(t){0>ft||(t.current=ht[ft],ht[ft]=null,ft--)}function De(t,r){ft++,ht[ft]=t.current,t.current=r}var Ue=K(null),Qe=K(null),Je=K(null),mt=K(null);function pn(t,r){switch(De(Je,r),De(Qe,t),De(Ue,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Uv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Uv(r),t=jv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ye(Ue),De(Ue,t)}function ke(){ye(Ue),ye(Qe),ye(Je)}function Qi(t){t.memoizedState!==null&&De(mt,t);var r=Ue.current,s=jv(r,t.type);r!==s&&(De(Qe,t),De(Ue,s))}function Mi(t){Qe.current===t&&(ye(Ue),ye(Qe)),mt.current===t&&(ye(mt),Uu._currentValue=Be)}var wt,li;function ui(t){if(wt===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);wt=r&&r[1]||"",li=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wt+t+li}var zr=!1;function Ta(t,r){if(!t||zr)return"";zr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ue){var se=ue}Reflect.construct(t,[],_e)}else{try{_e.call()}catch(ue){se=ue}t.call(_e.prototype)}}else{try{throw Error()}catch(ue){se=ue}(_e=t())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),T=p[0],C=p[1];if(T&&C){var U=T.split(`
`),ie=C.split(`
`);for(f=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;f<ie.length&&!ie[f].includes("DetermineComponentFrameRoot");)f++;if(l===U.length||f===ie.length)for(l=U.length-1,f=ie.length-1;1<=l&&0<=f&&U[l]!==ie[f];)f--;for(;1<=l&&0<=f;l--,f--)if(U[l]!==ie[f]){if(l!==1||f!==1)do if(l--,f--,0>f||U[l]!==ie[f]){var de=`
`+U[l].replace(" at new "," at ");return t.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",t.displayName)),de}while(1<=l&&0<=f);break}}}finally{zr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ui(s):""}function fo(t,r){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==r&&r!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Ta(t.type,!1);case 11:return Ta(t.type.render,!1);case 1:return Ta(t.type,!0);case 31:return ui("Activity");default:return""}}function mo(t){try{var r="",s=null;do r+=fo(t,s),s=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var hn=Object.prototype.hasOwnProperty,tn=i.unstable_scheduleCallback,Vn=i.unstable_cancelCallback,$o=i.unstable_shouldYield,Xi=i.unstable_requestPaint,jn=i.unstable_now,Br=i.unstable_getCurrentPriorityLevel,qr=i.unstable_ImmediatePriority,Fr=i.unstable_UserBlockingPriority,ci=i.unstable_NormalPriority,Sa=i.unstable_LowPriority,os=i.unstable_IdlePriority,wa=i.log,hi=i.unstable_setDisableYieldValue,nr=null,gn=null;function yn(t){if(typeof wa=="function"&&hi(t),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(nr,t)}catch{}}var Ve=Math.clz32?Math.clz32:Aa,$i=Math.log,vr=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-($i(t)/vr|0)|0}var Oe=256,Vi=262144,nn=4194304;function _r(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hr(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,p=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~p,l!==0?f=_r(l):(T&=C,T!==0?f=_r(T):s||(s=C&~t,s!==0&&(f=_r(s))))):(C=l&~p,C!==0?f=_r(C):T!==0?f=_r(T):s||(s=l&~t,s!==0&&(f=_r(s)))),f===0?0:r!==0&&r!==f&&(r&p)===0&&(p=f&-f,s=r&-r,p>=s||p===32&&(s&4194048)!==0)?r:f}function fr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function au(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var t=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),t}function Yn(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Er(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function po(t,r,s,l,f,p){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var C=t.entanglements,U=t.expirationTimes,ie=t.hiddenUpdates;for(s=T&~s;0<s;){var de=31-Ve(s),_e=1<<de;C[de]=0,U[de]=-1;var se=ie[de];if(se!==null)for(ie[de]=null,de=0;de<se.length;de++){var ue=se[de];ue!==null&&(ue.lane&=-536870913)}s&=~_e}l!==0&&fi(t,l,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(T&~r))}function fi(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Ve(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function Mt(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Ve(s),f=1<<l;f&r|t[l]&r&&(t[l]|=r),s&=~f}}function Jt(t,r){var s=r&-r;return s=(s&42)!==0?1:Ra(s),(s&(t.suspendedLanes|r))!==0?0:s}function Ra(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function br(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ca(){var t=Pe.p;return t!==0?t:(t=window.event,t===void 0?32:l_(t.type))}function rr(t,r){var s=Pe.p;try{return Pe.p=t,r()}finally{Pe.p=s}}var Kr=Math.random().toString(36).slice(2),kt="__reactFiber$"+Kr,Kt="__reactProps$"+Kr,kn="__reactContainer$"+Kr,ki="__reactEvents$"+Kr,su="__reactListeners$"+Kr,Gr="__reactHandles$"+Kr,go="__reactResources$"+Kr,zn="__reactMarker$"+Kr;function Ia(t){delete t[kt],delete t[Kt],delete t[ki],delete t[su],delete t[Gr]}function Tr(t){var r=t[kt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[kn]||s[kt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Gv(t);t!==null;){if(s=t[kt])return s;t=Gv(t)}return r}t=s,s=t.parentNode}return null}function Ct(t){if(t=t[kt]||t[kn]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function vn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function wn(t){var r=t[go];return r||(r=t[go]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function rn(t){t[zn]=!0}var di=new Set,Ji={};function Sr(t,r){wr(t,r),wr(t+"Capture",r)}function wr(t,r){for(Ji[t]=r,t=0;t<r.length;t++)di.add(r[t])}var Yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ls={},Zi={};function yo(t){return hn.call(Zi,t)?!0:hn.call(ls,t)?!1:Yr.test(t)?Zi[t]=!0:(ls[t]=!0,!1)}function ot(t,r,s){if(yo(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function ir(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function an(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ar(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function us(t,r,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){s=""+T,p.call(this,T)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ot(t){if(!t._valueTracker){var r=Ar(t)?"checked":"value";t._valueTracker=us(t,r,""+t[r])}}function Wi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Ar(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function gt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qr=/[\n"\\]/g;function An(t){return t.replace(Qr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xr(t,r,s,l,f,p,T,C){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+sn(r)):t.value!==""+sn(r)&&(t.value=""+sn(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?Oa(t,T,sn(r)):s!=null?Oa(t,T,sn(s)):l!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+sn(C):t.removeAttribute("name")}function cs(t,r,s,l,f,p,T,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),r!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Ot(t);return}s=s!=null?""+sn(s):"",r=r!=null?""+sn(r):s,C||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),Ot(t)}function Oa(t,r,s){r==="number"&&gt(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function $r(t,r,s,l){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+sn(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function vo(t,r,s){if(r!=null&&(r=""+sn(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+sn(s):""}function Jr(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(en(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=sn(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ot(t)}function Qn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pt(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Zo.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function hs(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&pt(t,f,l)}else for(var p in r)r.hasOwnProperty(p)&&pt(t,p,r[p])}function fs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(t){return fn.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ar(){}var Rr=null;function dr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Pt=null;function Bn(t){var r=Ct(t);if(r&&(t=r.stateNode)){var s=t[Kt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Xr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var f=l[Kt]||null;if(!f)throw Error(a(90));Xr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Wi(l)}break e;case"textarea":vo(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&$r(t,!!s.multiple,r,!1)}}}var mi=!1;function Cr(t,r,s){if(mi)return t(r,s);mi=!0;try{var l=t(r);return l}finally{if(mi=!1,(Pi!==null||Pt!==null)&&(ah(),Pi&&(r=Pi,t=Pt,Pt=Pi=null,Bn(r),t)))for(r=0;r<t.length;r++)Bn(t[r])}}function mr(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Kt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Da=!1;if(_n)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){Da=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{Da=!1}var Ir=null,ds=null,Li=null;function Ui(){if(Li)return Li;var t,r=ds,s=r.length,l,f="value"in Ir?Ir.value:Ir.textContent,p=f.length;for(t=0;t<s&&r[t]===f[t];t++);var T=s-t;for(l=1;l<=T&&r[s-l]===f[p-l];l++);return Li=f.slice(t,1<l?1-l:void 0)}function ji(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function pi(){return!0}function Wr(){return!1}function on(t){function r(s,l,f,p,T){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(s=t[C],this[C]=s?s(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pi:Wr,this.isPropagationStopped=Wr,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=on(zi),ei=I({},zi,{view:0,detail:0}),ea=on(ei),yi,ms,vi,ps=I({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(yi=t.screenX-vi.screenX,ms=t.screenY-vi.screenY):ms=yi=0,vi=t),yi)},movementY:function(t){return"movementY"in t?t.movementY:ms}}),xa=on(ps),Bi=I({},ps,{dataTransfer:0}),_o=on(Bi),Na=I({},ei,{relatedTarget:0}),_i=on(Na),ta=I({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eo=on(ta),gs=I({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qi=on(gs),ys=I({},zi,{data:0}),Or=on(ys),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_s={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function na(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=En[t])?!!r[t]:!1}function Dr(){return na}var qn=I({},ei,{key:function(t){if(t.key){var r=vs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ji(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_s[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?ji(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ji(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=on(qn),bo=I({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ei=on(bo),c=I({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),_=on(c),S=I({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),O=on(S),ee=I({},ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),le=on(ee),Ce=I({},zi,{newState:0,oldState:0}),nt=on(Ce),ln=[9,13,27,32],At=_n&&"CompositionEvent"in window,Lt=null;_n&&"documentMode"in document&&(Lt=document.documentMode);var xr=_n&&"TextEvent"in window&&!Lt,Nr=_n&&(!At||Lt&&8<Lt&&11>=Lt),pr=" ",ti=!1;function ra(t,r){switch(t){case"keyup":return ln.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Es(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function Ac(t,r){switch(t){case"compositionend":return Es(r);case"keypress":return r.which!==32?null:(ti=!0,pr);case"textInput":return t=r.data,t===pr&&ti?null:t;default:return null}}function Lf(t,r){if(Va)return t==="compositionend"||!At&&ra(t,r)?(t=Ui(),Li=ds=Ir=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Nr&&r.locale!=="ko"?null:r.data;default:return null}}var Rc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function el(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Rc[t.type]:r==="textarea"}function ou(t,r,s,l){Pi?Pt?Pt.push(l):Pt=[l]:Pi=l,r=fh(r,"onChange"),0<r.length&&(s=new gi("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var bs=null,To=null;function Uf(t){Nv(t,0)}function tl(t){var r=vn(t);if(Wi(r))return t}function So(t,r){if(t==="change")return r}var bi=!1;if(_n){var Gt;if(_n){var Ts="oninput"in document;if(!Ts){var gr=document.createElement("div");gr.setAttribute("oninput","return;"),Ts=typeof gr.oninput=="function"}Gt=Ts}else Gt=!1;bi=Gt&&(!document.documentMode||9<document.documentMode)}function Cc(){bs&&(bs.detachEvent("onpropertychange",nl),To=bs=null)}function nl(t){if(t.propertyName==="value"&&tl(To)){var r=[];ou(r,To,t,dr(t)),Cr(Uf,r)}}function Ic(t,r,s){t==="focusin"?(Cc(),bs=r,To=s,bs.attachEvent("onpropertychange",nl)):t==="focusout"&&Cc()}function ka(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tl(To)}function lu(t,r){if(t==="click")return tl(r)}function Ss(t,r){if(t==="input"||t==="change")return tl(r)}function ia(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var sr=typeof Object.is=="function"?Object.is:ia;function h(t,r){if(sr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!hn.call(r,f)||!sr(t[f],r[f]))return!1}return!0}function m(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g(t,r){var s=m(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=m(s)}}function b(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?b(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function w(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=gt(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=gt(t.document)}return r}function A(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var x=_n&&"documentMode"in document&&11>=document.documentMode,V=null,z=null,B=null,X=!1;function j(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;X||V==null||V!==gt(l)||(l=V,"selectionStart"in l&&A(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),B&&h(B,l)||(B=l,l=fh(z,"onSelect"),0<l.length&&(r=new gi("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=V)))}function J(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var q={animationend:J("Animation","AnimationEnd"),animationiteration:J("Animation","AnimationIteration"),animationstart:J("Animation","AnimationStart"),transitionrun:J("Transition","TransitionRun"),transitionstart:J("Transition","TransitionStart"),transitioncancel:J("Transition","TransitionCancel"),transitionend:J("Transition","TransitionEnd")},Y={},Q={};_n&&(Q=document.createElement("div").style,"AnimationEvent"in window||(delete q.animationend.animation,delete q.animationiteration.animation,delete q.animationstart.animation),"TransitionEvent"in window||delete q.transitionend.transition);function $(t){if(Y[t])return Y[t];if(!q[t])return t;var r=q[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Q)return Y[t]=r[s];return t}var te=$("animationend"),ae=$("animationiteration"),ce=$("animationstart"),ve=$("transitionrun"),Re=$("transitionstart"),Me=$("transitioncancel"),we=$("transitionend"),Ie=new Map,xe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xe.push("scrollEnd");function Ae(t,r){Ie.set(t,r),Sr(r,[t])}var Le=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},He=[],et=0,lt=0;function Fn(){for(var t=et,r=lt=et=0;r<t;){var s=He[r];He[r++]=null;var l=He[r];He[r++]=null;var f=He[r];He[r++]=null;var p=He[r];if(He[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}p!==0&&wo(s,f,p)}}function Ze(t,r,s,l){He[et++]=t,He[et++]=r,He[et++]=s,He[et++]=l,lt|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rn(t,r,s,l){return Ze(t,r,s,l),Cn(t)}function Zt(t,r){return Ze(t,null,null,r),Cn(t)}function wo(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,p=t.return;p!==null;)p.childLanes|=s,l=p.alternate,l!==null&&(l.childLanes|=s),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&r!==null&&(f=31-Ve(s),t=p.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=s|536870912),p):null}function Cn(t){if(50<xu)throw xu=0,Yd=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Mr={};function uu(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(t,r,s,l){return new uu(t,r,s,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pa(t,r){var s=t.alternate;return s===null?(s=ni(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function mg(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Oc(t,r,s,l,f,p){var T=0;if(l=t,typeof t=="function")jf(t)&&(T=1);else if(typeof t=="string")T=WS(t,s,Ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case L:return t=ni(31,s,r,f),t.elementType=L,t.lanes=p,t;case pe:return Ao(s.children,f,p,r);case fe:T=8,f|=24;break;case Se:return t=ni(12,s,r,f|2),t.elementType=Se,t.lanes=p,t;case st:return t=ni(13,s,r,f),t.elementType=st,t.lanes=p,t;case Ye:return t=ni(19,s,r,f),t.elementType=Ye,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ne:T=10;break e;case Te:T=9;break e;case We:T=11;break e;case N:T=14;break e;case M:T=16,l=null;break e}T=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=ni(T,s,r,f),r.elementType=t,r.type=l,r.lanes=p,r}function Ao(t,r,s,l){return t=ni(7,t,l,r),t.lanes=s,t}function zf(t,r,s){return t=ni(6,t,null,r),t.lanes=s,t}function pg(t){var r=ni(18,null,null,0);return r.stateNode=t,r}function Bf(t,r,s){return r=ni(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var gg=new WeakMap;function Ti(t,r){if(typeof t=="object"&&t!==null){var s=gg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:mo(r)},gg.set(t,r),r)}return{value:t,source:r,stack:mo(r)}}var rl=[],il=0,Dc=null,cu=0,Si=[],wi=0,ws=null,aa=1,sa="";function La(t,r){rl[il++]=cu,rl[il++]=Dc,Dc=t,cu=r}function yg(t,r,s){Si[wi++]=aa,Si[wi++]=sa,Si[wi++]=ws,ws=t;var l=aa;t=sa;var f=32-Ve(l)-1;l&=~(1<<f),s+=1;var p=32-Ve(r)+f;if(30<p){var T=f-f%5;p=(l&(1<<T)-1).toString(32),l>>=T,f-=T,aa=1<<32-Ve(r)+f|s<<f|l,sa=p+t}else aa=1<<p|s<<f|l,sa=t}function qf(t){t.return!==null&&(La(t,1),yg(t,1,0))}function Ff(t){for(;t===Dc;)Dc=rl[--il],rl[il]=null,cu=rl[--il],rl[il]=null;for(;t===ws;)ws=Si[--wi],Si[wi]=null,sa=Si[--wi],Si[wi]=null,aa=Si[--wi],Si[wi]=null}function vg(t,r){Si[wi++]=aa,Si[wi++]=sa,Si[wi++]=ws,aa=r.id,sa=r.overflow,ws=t}var Xn=null,Yt=null,Rt=!1,As=null,Ai=!1,Hf=Error(a(519));function Rs(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hu(Ti(r,t)),Hf}function _g(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[kt]=t,r[Kt]=l,s){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(s=0;s<Mu.length;s++)vt(Mu[s],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":vt("invalid",r),cs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":vt("invalid",r);break;case"textarea":vt("invalid",r),Jr(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||Pv(r.textContent,s)?(l.popover!=null&&(vt("beforetoggle",r),vt("toggle",r)),l.onScroll!=null&&vt("scroll",r),l.onScrollEnd!=null&&vt("scrollend",r),l.onClick!=null&&(r.onclick=ar),r=!0):r=!1,r||Rs(t,!0)}function Eg(t){for(Xn=t.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:Xn=Xn.return}}function al(t){if(t!==Xn)return!1;if(!Rt)return Eg(t),Rt=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||lm(t.type,t.memoizedProps)),s=!s),s&&Yt&&Rs(t),Eg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Yt=Kv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Yt=Kv(t)}else r===27?(r=Yt,zs(t.type)?(t=dm,dm=null,Yt=t):Yt=r):Yt=Xn?Ci(t.stateNode.nextSibling):null;return!0}function Ro(){Yt=Xn=null,Rt=!1}function Kf(){var t=As;return t!==null&&(Lr===null?Lr=t:Lr.push.apply(Lr,t),As=null),t}function hu(t){As===null?As=[t]:As.push(t)}var Gf=K(null),Co=null,Ua=null;function Cs(t,r,s){De(Gf,r._currentValue),r._currentValue=s}function ja(t){t._currentValue=Gf.current,ye(Gf)}function Yf(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Qf(t,r,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=f;for(var U=0;U<r.length;U++)if(C.context===r[U]){p.lanes|=s,C=p.alternate,C!==null&&(C.lanes|=s),Yf(p.return,s,t),l||(T=null);break e}p=C.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,p=T.alternate,p!==null&&(p.lanes|=s),Yf(T,s,t),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===t){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function sl(t,r,s,l){t=null;for(var f=r,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var C=f.type;sr(f.pendingProps.value,T.value)||(t!==null?t.push(C):t=[C])}}else if(f===mt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Uu):t=[Uu])}f=f.return}t!==null&&Qf(r,t,s,l),r.flags|=262144}function xc(t){for(t=t.firstContext;t!==null;){if(!sr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Io(t){Co=t,Ua=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $n(t){return bg(Co,t)}function Nc(t,r){return Co===null&&Io(t),bg(t,r)}function bg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Ua===null){if(t===null)throw Error(a(308));Ua=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ua=Ua.next=r;return s}var XT=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},$T=i.unstable_scheduleCallback,JT=i.unstable_NormalPriority,In={$$typeof:Ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new XT,data:new Map,refCount:0}}function fu(t){t.refCount--,t.refCount===0&&$T(JT,function(){t.controller.abort()})}var du=null,$f=0,ol=0,ll=null;function ZT(t,r){if(du===null){var s=du=[];$f=0,ol=Wd(),ll={status:"pending",value:void 0,then:function(l){s.push(l)}}}return $f++,r.then(Tg,Tg),r}function Tg(){if(--$f===0&&du!==null){ll!==null&&(ll.status="fulfilled");var t=du;du=null,ol=0,ll=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function WT(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Sg=he.S;he.S=function(t,r){sv=jn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZT(t,r),Sg!==null&&Sg(t,r)};var Oo=K(null);function Jf(){var t=Oo.current;return t!==null?t:Ft.pooledCache}function Mc(t,r){r===null?De(Oo,Oo.current):De(Oo,r.pool)}function wg(){var t=Jf();return t===null?null:{parent:In._currentValue,pool:t}}var ul=Error(a(460)),Zf=Error(a(474)),Vc=Error(a(542)),kc={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(ar,ar),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ig(t),t;default:if(typeof r.status=="string")r.then(ar,ar);else{if(t=Ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ig(t),t}throw xo=r,ul}}function Do(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xo=s,ul):s}}var xo=null;function Cg(){if(xo===null)throw Error(a(459));var t=xo;return xo=null,t}function Ig(t){if(t===ul||t===Vc)throw Error(a(483))}var cl=null,mu=0;function Pc(t){var r=mu;return mu+=1,cl===null&&(cl=[]),Rg(cl,t,r)}function pu(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Lc(t,r){throw r.$$typeof===P?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Og(t){function r(Z,H){if(t){var re=Z.deletions;re===null?(Z.deletions=[H],Z.flags|=16):re.push(H)}}function s(Z,H){if(!t)return null;for(;H!==null;)r(Z,H),H=H.sibling;return null}function l(Z){for(var H=new Map;Z!==null;)Z.key!==null?H.set(Z.key,Z):H.set(Z.index,Z),Z=Z.sibling;return H}function f(Z,H){return Z=Pa(Z,H),Z.index=0,Z.sibling=null,Z}function p(Z,H,re){return Z.index=re,t?(re=Z.alternate,re!==null?(re=re.index,re<H?(Z.flags|=67108866,H):re):(Z.flags|=67108866,H)):(Z.flags|=1048576,H)}function T(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function C(Z,H,re,ge){return H===null||H.tag!==6?(H=zf(re,Z.mode,ge),H.return=Z,H):(H=f(H,re),H.return=Z,H)}function U(Z,H,re,ge){var Ke=re.type;return Ke===pe?de(Z,H,re.props.children,ge,re.key):H!==null&&(H.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Do(Ke)===H.type)?(H=f(H,re.props),pu(H,re),H.return=Z,H):(H=Oc(re.type,re.key,re.props,null,Z.mode,ge),pu(H,re),H.return=Z,H)}function ie(Z,H,re,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==re.containerInfo||H.stateNode.implementation!==re.implementation?(H=Bf(re,Z.mode,ge),H.return=Z,H):(H=f(H,re.children||[]),H.return=Z,H)}function de(Z,H,re,ge,Ke){return H===null||H.tag!==7?(H=Ao(re,Z.mode,ge,Ke),H.return=Z,H):(H=f(H,re),H.return=Z,H)}function _e(Z,H,re){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=zf(""+H,Z.mode,re),H.return=Z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:return re=Oc(H.type,H.key,H.props,null,Z.mode,re),pu(re,H),re.return=Z,re;case me:return H=Bf(H,Z.mode,re),H.return=Z,H;case M:return H=Do(H),_e(Z,H,re)}if(en(H)||W(H))return H=Ao(H,Z.mode,re,null),H.return=Z,H;if(typeof H.then=="function")return _e(Z,Pc(H),re);if(H.$$typeof===Ne)return _e(Z,Nc(Z,H),re);Lc(Z,H)}return null}function se(Z,H,re,ge){var Ke=H!==null?H.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ke!==null?null:C(Z,H,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ne:return re.key===Ke?U(Z,H,re,ge):null;case me:return re.key===Ke?ie(Z,H,re,ge):null;case M:return re=Do(re),se(Z,H,re,ge)}if(en(re)||W(re))return Ke!==null?null:de(Z,H,re,ge,null);if(typeof re.then=="function")return se(Z,H,Pc(re),ge);if(re.$$typeof===Ne)return se(Z,H,Nc(Z,re),ge);Lc(Z,re)}return null}function ue(Z,H,re,ge,Ke){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Z=Z.get(re)||null,C(H,Z,""+ge,Ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case ne:return Z=Z.get(ge.key===null?re:ge.key)||null,U(H,Z,ge,Ke);case me:return Z=Z.get(ge.key===null?re:ge.key)||null,ie(H,Z,ge,Ke);case M:return ge=Do(ge),ue(Z,H,re,ge,Ke)}if(en(ge)||W(ge))return Z=Z.get(re)||null,de(H,Z,ge,Ke,null);if(typeof ge.then=="function")return ue(Z,H,re,Pc(ge),Ke);if(ge.$$typeof===Ne)return ue(Z,H,re,Nc(H,ge),Ke);Lc(H,ge)}return null}function ze(Z,H,re,ge){for(var Ke=null,Dt=null,qe=H,ct=H=0,Et=null;qe!==null&&ct<re.length;ct++){qe.index>ct?(Et=qe,qe=null):Et=qe.sibling;var xt=se(Z,qe,re[ct],ge);if(xt===null){qe===null&&(qe=Et);break}t&&qe&&xt.alternate===null&&r(Z,qe),H=p(xt,H,ct),Dt===null?Ke=xt:Dt.sibling=xt,Dt=xt,qe=Et}if(ct===re.length)return s(Z,qe),Rt&&La(Z,ct),Ke;if(qe===null){for(;ct<re.length;ct++)qe=_e(Z,re[ct],ge),qe!==null&&(H=p(qe,H,ct),Dt===null?Ke=qe:Dt.sibling=qe,Dt=qe);return Rt&&La(Z,ct),Ke}for(qe=l(qe);ct<re.length;ct++)Et=ue(qe,Z,ct,re[ct],ge),Et!==null&&(t&&Et.alternate!==null&&qe.delete(Et.key===null?ct:Et.key),H=p(Et,H,ct),Dt===null?Ke=Et:Dt.sibling=Et,Dt=Et);return t&&qe.forEach(function(Ks){return r(Z,Ks)}),Rt&&La(Z,ct),Ke}function Xe(Z,H,re,ge){if(re==null)throw Error(a(151));for(var Ke=null,Dt=null,qe=H,ct=H=0,Et=null,xt=re.next();qe!==null&&!xt.done;ct++,xt=re.next()){qe.index>ct?(Et=qe,qe=null):Et=qe.sibling;var Ks=se(Z,qe,xt.value,ge);if(Ks===null){qe===null&&(qe=Et);break}t&&qe&&Ks.alternate===null&&r(Z,qe),H=p(Ks,H,ct),Dt===null?Ke=Ks:Dt.sibling=Ks,Dt=Ks,qe=Et}if(xt.done)return s(Z,qe),Rt&&La(Z,ct),Ke;if(qe===null){for(;!xt.done;ct++,xt=re.next())xt=_e(Z,xt.value,ge),xt!==null&&(H=p(xt,H,ct),Dt===null?Ke=xt:Dt.sibling=xt,Dt=xt);return Rt&&La(Z,ct),Ke}for(qe=l(qe);!xt.done;ct++,xt=re.next())xt=ue(qe,Z,ct,xt.value,ge),xt!==null&&(t&&xt.alternate!==null&&qe.delete(xt.key===null?ct:xt.key),H=p(xt,H,ct),Dt===null?Ke=xt:Dt.sibling=xt,Dt=xt);return t&&qe.forEach(function(cw){return r(Z,cw)}),Rt&&La(Z,ct),Ke}function qt(Z,H,re,ge){if(typeof re=="object"&&re!==null&&re.type===pe&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case ne:e:{for(var Ke=re.key;H!==null;){if(H.key===Ke){if(Ke=re.type,Ke===pe){if(H.tag===7){s(Z,H.sibling),ge=f(H,re.props.children),ge.return=Z,Z=ge;break e}}else if(H.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===M&&Do(Ke)===H.type){s(Z,H.sibling),ge=f(H,re.props),pu(ge,re),ge.return=Z,Z=ge;break e}s(Z,H);break}else r(Z,H);H=H.sibling}re.type===pe?(ge=Ao(re.props.children,Z.mode,ge,re.key),ge.return=Z,Z=ge):(ge=Oc(re.type,re.key,re.props,null,Z.mode,ge),pu(ge,re),ge.return=Z,Z=ge)}return T(Z);case me:e:{for(Ke=re.key;H!==null;){if(H.key===Ke)if(H.tag===4&&H.stateNode.containerInfo===re.containerInfo&&H.stateNode.implementation===re.implementation){s(Z,H.sibling),ge=f(H,re.children||[]),ge.return=Z,Z=ge;break e}else{s(Z,H);break}else r(Z,H);H=H.sibling}ge=Bf(re,Z.mode,ge),ge.return=Z,Z=ge}return T(Z);case M:return re=Do(re),qt(Z,H,re,ge)}if(en(re))return ze(Z,H,re,ge);if(W(re)){if(Ke=W(re),typeof Ke!="function")throw Error(a(150));return re=Ke.call(re),Xe(Z,H,re,ge)}if(typeof re.then=="function")return qt(Z,H,Pc(re),ge);if(re.$$typeof===Ne)return qt(Z,H,Nc(Z,re),ge);Lc(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,H!==null&&H.tag===6?(s(Z,H.sibling),ge=f(H,re),ge.return=Z,Z=ge):(s(Z,H),ge=zf(re,Z.mode,ge),ge.return=Z,Z=ge),T(Z)):s(Z,H)}return function(Z,H,re,ge){try{mu=0;var Ke=qt(Z,H,re,ge);return cl=null,Ke}catch(qe){if(qe===ul||qe===Vc)throw qe;var Dt=ni(29,qe,null,Z.mode);return Dt.lanes=ge,Dt.return=Z,Dt}}}var No=Og(!0),Dg=Og(!1),Is=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Nt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Cn(t),wo(t,null,s),r}return Ze(t,l,r,s),Cn(t)}function gu(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Mt(t,s)}}function td(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,s=s.next}while(s!==null);p===null?f=p=r:p=p.next=r}else f=p=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var nd=!1;function yu(){if(nd){var t=ll;if(t!==null)throw t}}function vu(t,r,s,l){nd=!1;var f=t.updateQueue;Is=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var U=C,ie=U.next;U.next=null,T===null?p=ie:T.next=ie,T=U;var de=t.alternate;de!==null&&(de=de.updateQueue,C=de.lastBaseUpdate,C!==T&&(C===null?de.firstBaseUpdate=ie:C.next=ie,de.lastBaseUpdate=U))}if(p!==null){var _e=f.baseState;T=0,de=ie=U=null,C=p;do{var se=C.lane&-536870913,ue=se!==C.lane;if(ue?(_t&se)===se:(l&se)===se){se!==0&&se===ol&&(nd=!0),de!==null&&(de=de.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ze=t,Xe=C;se=r;var qt=s;switch(Xe.tag){case 1:if(ze=Xe.payload,typeof ze=="function"){_e=ze.call(qt,_e,se);break e}_e=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Xe.payload,se=typeof ze=="function"?ze.call(qt,_e,se):ze,se==null)break e;_e=I({},_e,se);break e;case 2:Is=!0}}se=C.callback,se!==null&&(t.flags|=64,ue&&(t.flags|=8192),ue=f.callbacks,ue===null?f.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:C.tag,payload:C.payload,callback:C.callback,next:null},de===null?(ie=de=ue,U=_e):de=de.next=ue,T|=se;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ue=C,C=ue.next,ue.next=null,f.lastBaseUpdate=ue,f.shared.pending=null}}while(!0);de===null&&(U=_e),f.baseState=U,f.firstBaseUpdate=ie,f.lastBaseUpdate=de,p===null&&(f.shared.lanes=0),ks|=T,t.lanes=T,t.memoizedState=_e}}function xg(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function Ng(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)xg(s[t],r)}var hl=K(null),Uc=K(0);function Mg(t,r){t=Qa,De(Uc,t),De(hl,r),Qa=t|r.baseLanes}function rd(){De(Uc,Qa),De(hl,hl.current)}function id(){Qa=Uc.current,ye(hl),ye(Uc)}var ri=K(null),Ri=null;function xs(t){var r=t.alternate;De(bn,bn.current&1),De(ri,t),Ri===null&&(r===null||hl.current!==null||r.memoizedState!==null)&&(Ri=t)}function ad(t){De(bn,bn.current),De(ri,t),Ri===null&&(Ri=t)}function Vg(t){t.tag===22?(De(bn,bn.current),De(ri,t),Ri===null&&(Ri=t)):Ns()}function Ns(){De(bn,bn.current),De(ri,ri.current)}function ii(t){ye(ri),Ri===t&&(Ri=null),ye(bn)}var bn=K(0);function jc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hm(s)||fm(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var za=0,ut=null,zt=null,On=null,zc=!1,fl=!1,Mo=!1,Bc=0,_u=0,dl=null,eS=0;function dn(){throw Error(a(321))}function sd(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!sr(t[s],r[s]))return!1;return!0}function od(t,r,s,l,f,p){return za=p,ut=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,he.H=t===null||t.memoizedState===null?yy:Td,Mo=!1,p=s(l,f),Mo=!1,fl&&(p=Pg(r,s,l,f)),kg(t),p}function kg(t){he.H=Tu;var r=zt!==null&&zt.next!==null;if(za=0,On=zt=ut=null,zc=!1,_u=0,dl=null,r)throw Error(a(300));t===null||Dn||(t=t.dependencies,t!==null&&xc(t)&&(Dn=!0))}function Pg(t,r,s,l){ut=t;var f=0;do{if(fl&&(dl=null),_u=0,fl=!1,25<=f)throw Error(a(301));if(f+=1,On=zt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}he.H=vy,p=r(s,l)}while(fl);return p}function tS(){var t=he.H,r=t.useState()[0];return r=typeof r.then=="function"?Eu(r):r,t=t.useState()[0],(zt!==null?zt.memoizedState:null)!==t&&(ut.flags|=1024),r}function ld(){var t=Bc!==0;return Bc=0,t}function ud(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function cd(t){if(zc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}zc=!1}za=0,On=zt=ut=null,fl=!1,_u=Bc=0,dl=null}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?ut.memoizedState=On=t:On=On.next=t,On}function Tn(){if(zt===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var r=On===null?ut.memoizedState:On.next;if(r!==null)On=r,zt=t;else{if(t===null)throw ut.alternate===null?Error(a(467)):Error(a(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},On===null?ut.memoizedState=On=t:On=On.next=t}return On}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eu(t){var r=_u;return _u+=1,dl===null&&(dl=[]),t=Rg(dl,t,r),r=ut,(On===null?r.memoizedState:On.next)===null&&(r=r.alternate,he.H=r===null||r.memoizedState===null?yy:Td),t}function Fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Eu(t);if(t.$$typeof===Ne)return $n(t)}throw Error(a(438,String(t)))}function hd(t){var r=null,s=ut.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=ut.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=qc(),ut.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=G;return r.index++,s}function Ba(t,r){return typeof r=="function"?r(t):r}function Hc(t){var r=Tn();return fd(r,zt,t)}function fd(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,p=l.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}r.baseQueue=f=p,l.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{r=f.next;var C=T=null,U=null,ie=r,de=!1;do{var _e=ie.lane&-536870913;if(_e!==ie.lane?(_t&_e)===_e:(za&_e)===_e){var se=ie.revertLane;if(se===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),_e===ol&&(de=!0);else if((za&se)===se){ie=ie.next,se===ol&&(de=!0);continue}else _e={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},U===null?(C=U=_e,T=p):U=U.next=_e,ut.lanes|=se,ks|=se;_e=ie.action,Mo&&s(p,_e),p=ie.hasEagerState?ie.eagerState:s(p,_e)}else se={lane:_e,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},U===null?(C=U=se,T=p):U=U.next=se,ut.lanes|=_e,ks|=_e;ie=ie.next}while(ie!==null&&ie!==r);if(U===null?T=p:U.next=C,!sr(p,t.memoizedState)&&(Dn=!0,de&&(s=ll,s!==null)))throw s;t.memoizedState=p,t.baseState=T,t.baseQueue=U,l.lastRenderedState=p}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dd(t){var r=Tn(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,p=r.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do p=t(p,T.action),T=T.next;while(T!==f);sr(p,r.memoizedState)||(Dn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),s.lastRenderedState=p}return[p,l]}function Lg(t,r,s){var l=ut,f=Tn(),p=Rt;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=r();var T=!sr((zt||f).memoizedState,s);if(T&&(f.memoizedState=s,Dn=!0),f=f.queue,gd(zg.bind(null,l,f,t),[t]),f.getSnapshot!==r||T||On!==null&&On.memoizedState.tag&1){if(l.flags|=2048,ml(9,{destroy:void 0},jg.bind(null,l,f,s,r),null),Ft===null)throw Error(a(349));p||(za&127)!==0||Ug(l,r,s)}return s}function Ug(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=ut.updateQueue,r===null?(r=qc(),ut.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function jg(t,r,s,l){r.value=s,r.getSnapshot=l,Bg(r)&&qg(t)}function zg(t,r,s){return s(function(){Bg(r)&&qg(t)})}function Bg(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!sr(t,s)}catch{return!0}}function qg(t){var r=Zt(t,2);r!==null&&Ur(r,t,2)}function md(t){var r=yr();if(typeof t=="function"){var s=t;if(t=s(),Mo){yn(!0);try{s()}finally{yn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},r}function Fg(t,r,s,l){return t.baseState=s,fd(t,zt,typeof l=="function"?l:Ba)}function nS(t,r,s,l,f){if(Yc(t))throw Error(a(485));if(t=r.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};he.T!==null?s(!0):p.isTransition=!1,l(p),s=r.pending,s===null?(p.next=r.pending=p,Hg(r,p)):(p.next=s.next,r.pending=s.next=p)}}function Hg(t,r){var s=r.action,l=r.payload,f=t.state;if(r.isTransition){var p=he.T,T={};he.T=T;try{var C=s(f,l),U=he.S;U!==null&&U(T,C),Kg(t,r,C)}catch(ie){pd(t,r,ie)}finally{p!==null&&T.types!==null&&(p.types=T.types),he.T=p}}else try{p=s(f,l),Kg(t,r,p)}catch(ie){pd(t,r,ie)}}function Kg(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Gg(t,r,l)},function(l){return pd(t,r,l)}):Gg(t,r,s)}function Gg(t,r,s){r.status="fulfilled",r.value=s,Yg(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,Hg(t,s)))}function pd(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Yg(r),r=r.next;while(r!==l)}t.action=null}function Yg(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Qg(t,r){return r}function Xg(t,r){if(Rt){var s=Ft.formState;if(s!==null){e:{var l=ut;if(Rt){if(Yt){t:{for(var f=Yt,p=Ai;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ci(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Yt=Ci(f.nextSibling),l=f.data==="F!";break e}}Rs(l)}l=!1}l&&(r=s[0])}}return s=yr(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:r},s.queue=l,s=my.bind(null,ut,l),l.dispatch=s,l=md(!1),p=bd.bind(null,ut,!1,l.queue),l=yr(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,s=nS.bind(null,ut,f,p,s),f.dispatch=s,l.memoizedState=t,[r,s,!1]}function $g(t){var r=Tn();return Jg(r,zt,t)}function Jg(t,r,s){if(r=fd(t,r,Qg)[0],t=Hc(Ba)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Eu(r)}catch(T){throw T===ul?Vc:T}else l=r;r=Tn();var f=r.queue,p=f.dispatch;return s!==r.memoizedState&&(ut.flags|=2048,ml(9,{destroy:void 0},rS.bind(null,f,s),null)),[l,p,t]}function rS(t,r){t.action=r}function Zg(t){var r=Tn(),s=zt;if(s!==null)return Jg(r,s,t);Tn(),r=r.memoizedState,s=Tn();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function ml(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=ut.updateQueue,r===null&&(r=qc(),ut.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function Wg(){return Tn().memoizedState}function Kc(t,r,s,l){var f=yr();ut.flags|=t,f.memoizedState=ml(1|r,{destroy:void 0},s,l===void 0?null:l)}function Gc(t,r,s,l){var f=Tn();l=l===void 0?null:l;var p=f.memoizedState.inst;zt!==null&&l!==null&&sd(l,zt.memoizedState.deps)?f.memoizedState=ml(r,p,s,l):(ut.flags|=t,f.memoizedState=ml(1|r,p,s,l))}function ey(t,r){Kc(8390656,8,t,r)}function gd(t,r){Gc(2048,8,t,r)}function iS(t){ut.flags|=4;var r=ut.updateQueue;if(r===null)r=qc(),ut.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function ty(t){var r=Tn().memoizedState;return iS({ref:r,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function ny(t,r){return Gc(4,2,t,r)}function ry(t,r){return Gc(4,4,t,r)}function iy(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ay(t,r,s){s=s!=null?s.concat([t]):null,Gc(4,4,iy.bind(null,r,t),s)}function yd(){}function sy(t,r){var s=Tn();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&sd(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function oy(t,r){var s=Tn();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&sd(r,l[1]))return l[0];if(l=t(),Mo){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[l,r],l}function vd(t,r,s){return s===void 0||(za&1073741824)!==0&&(_t&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=lv(),ut.lanes|=t,ks|=t,s)}function ly(t,r,s,l){return sr(s,r)?s:hl.current!==null?(t=vd(t,s,l),sr(t,r)||(Dn=!0),t):(za&42)===0||(za&1073741824)!==0&&(_t&261930)===0?(Dn=!0,t.memoizedState=s):(t=lv(),ut.lanes|=t,ks|=t,r)}function uy(t,r,s,l,f){var p=Pe.p;Pe.p=p!==0&&8>p?p:8;var T=he.T,C={};he.T=C,bd(t,!1,r,s);try{var U=f(),ie=he.S;if(ie!==null&&ie(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var de=WT(U,l);bu(t,r,de,oi(t))}else bu(t,r,l,oi(t))}catch(_e){bu(t,r,{then:function(){},status:"rejected",reason:_e},oi())}finally{Pe.p=p,T!==null&&C.types!==null&&(T.types=C.types),he.T=T}}function aS(){}function _d(t,r,s,l){if(t.tag!==5)throw Error(a(476));var f=cy(t).queue;uy(t,f,r,Be,s===null?aS:function(){return hy(t),s(l)})}function cy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:Be},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function hy(t){var r=cy(t);r.next===null&&(r=t.alternate.memoizedState),bu(t,r.next.queue,{},oi())}function Ed(){return $n(Uu)}function fy(){return Tn().memoizedState}function dy(){return Tn().memoizedState}function sS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=oi();t=Os(s);var l=Ds(r,t,s);l!==null&&(Ur(l,r,s),gu(l,r,s)),r={cache:Xf()},t.payload=r;return}r=r.return}}function oS(t,r,s){var l=oi();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yc(t)?py(r,s):(s=Rn(t,r,s,l),s!==null&&(Ur(s,t,l),gy(s,r,l)))}function my(t,r,s){var l=oi();bu(t,r,s,l)}function bu(t,r,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yc(t))py(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,C=p(T,s);if(f.hasEagerState=!0,f.eagerState=C,sr(C,T))return Ze(t,r,f,0),Ft===null&&Fn(),!1}catch{}if(s=Rn(t,r,f,l),s!==null)return Ur(s,t,l),gy(s,r,l),!0}return!1}function bd(t,r,s,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yc(t)){if(r)throw Error(a(479))}else r=Rn(t,s,l,2),r!==null&&Ur(r,t,2)}function Yc(t){var r=t.alternate;return t===ut||r!==null&&r===ut}function py(t,r){fl=zc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function gy(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,Mt(t,s)}}var Tu={readContext:$n,use:Fc,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Tu.useEffectEvent=dn;var yy={readContext:$n,use:Fc,useCallback:function(t,r){return yr().memoizedState=[t,r===void 0?null:r],t},useContext:$n,useEffect:ey,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Kc(4194308,4,iy.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Kc(4194308,4,t,r)},useInsertionEffect:function(t,r){Kc(4,2,t,r)},useMemo:function(t,r){var s=yr();r=r===void 0?null:r;var l=t();if(Mo){yn(!0);try{t()}finally{yn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=yr();if(s!==void 0){var f=s(r);if(Mo){yn(!0);try{s(r)}finally{yn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=oS.bind(null,ut,t),[l.memoizedState,t]},useRef:function(t){var r=yr();return t={current:t},r.memoizedState=t},useState:function(t){t=md(t);var r=t.queue,s=my.bind(null,ut,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:yd,useDeferredValue:function(t,r){var s=yr();return vd(s,t,r)},useTransition:function(){var t=md(!1);return t=uy.bind(null,ut,t.queue,!0,!1),yr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=ut,f=yr();if(Rt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),Ft===null)throw Error(a(349));(_t&127)!==0||Ug(l,r,s)}f.memoizedState=s;var p={value:s,getSnapshot:r};return f.queue=p,ey(zg.bind(null,l,p,t),[t]),l.flags|=2048,ml(9,{destroy:void 0},jg.bind(null,l,p,s,r),null),s},useId:function(){var t=yr(),r=Ft.identifierPrefix;if(Rt){var s=sa,l=aa;s=(l&~(1<<32-Ve(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Bc++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=eS++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Ed,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var r=yr();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=bd.bind(null,ut,!0,s),s.dispatch=r,[t,r]},useMemoCache:hd,useCacheRefresh:function(){return yr().memoizedState=sS.bind(null,ut)},useEffectEvent:function(t){var r=yr(),s={impl:t};return r.memoizedState=s,function(){if((Nt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Td={readContext:$n,use:Fc,useCallback:sy,useContext:$n,useEffect:gd,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:Hc,useRef:Wg,useState:function(){return Hc(Ba)},useDebugValue:yd,useDeferredValue:function(t,r){var s=Tn();return ly(s,zt.memoizedState,t,r)},useTransition:function(){var t=Hc(Ba)[0],r=Tn().memoizedState;return[typeof t=="boolean"?t:Eu(t),r]},useSyncExternalStore:Lg,useId:fy,useHostTransitionStatus:Ed,useFormState:$g,useActionState:$g,useOptimistic:function(t,r){var s=Tn();return Fg(s,zt,t,r)},useMemoCache:hd,useCacheRefresh:dy};Td.useEffectEvent=ty;var vy={readContext:$n,use:Fc,useCallback:sy,useContext:$n,useEffect:gd,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:dd,useRef:Wg,useState:function(){return dd(Ba)},useDebugValue:yd,useDeferredValue:function(t,r){var s=Tn();return zt===null?vd(s,t,r):ly(s,zt.memoizedState,t,r)},useTransition:function(){var t=dd(Ba)[0],r=Tn().memoizedState;return[typeof t=="boolean"?t:Eu(t),r]},useSyncExternalStore:Lg,useId:fy,useHostTransitionStatus:Ed,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,r){var s=Tn();return zt!==null?Fg(s,zt,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:hd,useCacheRefresh:dy};vy.useEffectEvent=ty;function Sd(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:I({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var wd={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=oi(),f=Os(l);f.payload=r,s!=null&&(f.callback=s),r=Ds(t,f,l),r!==null&&(Ur(r,t,l),gu(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=oi(),f=Os(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Ds(t,f,l),r!==null&&(Ur(r,t,l),gu(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=oi(),l=Os(s);l.tag=2,r!=null&&(l.callback=r),r=Ds(t,l,s),r!==null&&(Ur(r,t,s),gu(r,t,s))}};function _y(t,r,s,l,f,p,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,T):r.prototype&&r.prototype.isPureReactComponent?!h(s,l)||!h(f,p):!0}function Ey(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&wd.enqueueReplaceState(r,r.state,null)}function Vo(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=I({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function by(t){Le(t)}function Ty(t){console.error(t)}function Sy(t){Le(t)}function Qc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function wy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(t,r,s){return s=Os(s),s.tag=3,s.payload={element:null},s.callback=function(){Qc(t,r)},s}function Ay(t){return t=Os(t),t.tag=3,t}function Ry(t,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=l.value;t.payload=function(){return f(p)},t.callback=function(){wy(r,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){wy(r,s,l),typeof f!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function lS(t,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&sl(r,s,f,!0),s=ri.current,s!==null){switch(s.tag){case 31:case 13:return Ri===null?sh():s.alternate===null&&mn===0&&(mn=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===kc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),$d(t,l,f)),!1;case 22:return s.flags|=65536,l===kc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),$d(t,l,f)),!1}throw Error(a(435,s.tag))}return $d(t,l,f),sh(),!1}if(Rt)return r=ri.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Hf&&(t=Error(a(422),{cause:l}),hu(Ti(t,s)))):(l!==Hf&&(r=Error(a(423),{cause:l}),hu(Ti(r,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ti(l,s),f=Ad(t.stateNode,l,f),td(t,f),mn!==4&&(mn=2)),!1;var p=Error(a(520),{cause:l});if(p=Ti(p,s),Du===null?Du=[p]:Du.push(p),mn!==4&&(mn=2),r===null)return!0;l=Ti(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ad(s.stateNode,l,t),td(s,t),!1;case 1:if(r=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ps===null||!Ps.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ay(f),Ry(f,t,s,l),td(s,f),!1}s=s.return}while(s!==null);return!1}var Rd=Error(a(461)),Dn=!1;function Jn(t,r,s,l){r.child=t===null?Dg(r,null,s,l):No(r,t.child,s,l)}function Cy(t,r,s,l,f){s=s.render;var p=r.ref;if("ref"in l){var T={};for(var C in l)C!=="ref"&&(T[C]=l[C])}else T=l;return Io(r),l=od(t,r,s,T,p,f),C=ld(),t!==null&&!Dn?(ud(t,r,f),qa(t,r,f)):(Rt&&C&&qf(r),r.flags|=1,Jn(t,r,l,f),r.child)}function Iy(t,r,s,l,f){if(t===null){var p=s.type;return typeof p=="function"&&!jf(p)&&p.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=p,Oy(t,r,p,l,f)):(t=Oc(s.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!Vd(t,f)){var T=p.memoizedProps;if(s=s.compare,s=s!==null?s:h,s(T,l)&&t.ref===r.ref)return qa(t,r,f)}return r.flags|=1,t=Pa(p,l),t.ref=r.ref,t.return=r,r.child=t}function Oy(t,r,s,l,f){if(t!==null){var p=t.memoizedProps;if(h(p,l)&&t.ref===r.ref)if(Dn=!1,r.pendingProps=l=p,Vd(t,f))(t.flags&131072)!==0&&(Dn=!0);else return r.lanes=t.lanes,qa(t,r,f)}return Cd(t,r,s,l,f)}function Dy(t,r,s,l){var f=l.children,p=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~p}else l=0,r.child=null;return xy(t,r,p,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mc(r,p!==null?p.cachePool:null),p!==null?Mg(r,p):rd(),Vg(r);else return l=r.lanes=536870912,xy(t,r,p!==null?p.baseLanes|s:s,s,l)}else p!==null?(Mc(r,p.cachePool),Mg(r,p),Ns(),r.memoizedState=null):(t!==null&&Mc(r,null),rd(),Ns());return Jn(t,r,f,s),r.child}function Su(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function xy(t,r,s,l,f){var p=Jf();return p=p===null?null:{parent:In._currentValue,pool:p},r.memoizedState={baseLanes:s,cachePool:p},t!==null&&Mc(r,null),rd(),Vg(r),t!==null&&sl(t,r,l,!0),r.childLanes=f,null}function Xc(t,r){return r=Jc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ny(t,r,s){return No(r,t.child,null,s),t=Xc(r,r.pendingProps),t.flags|=2,ii(r),r.memoizedState=null,t}function uS(t,r,s){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Rt){if(l.mode==="hidden")return t=Xc(r,l),r.lanes=536870912,Su(null,t);if(ad(r),(t=Yt)?(t=Hv(t,Ai),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ws!==null?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},s=pg(t),s.return=r,r.child=s,Xn=r,Yt=null)):t=null,t===null)throw Rs(r);return r.lanes=536870912,null}return Xc(r,l)}var p=t.memoizedState;if(p!==null){var T=p.dehydrated;if(ad(r),f)if(r.flags&256)r.flags&=-257,r=Ny(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Dn||sl(t,r,s,!1),f=(s&t.childLanes)!==0,Dn||f){if(l=Ft,l!==null&&(T=Jt(l,s),T!==0&&T!==p.retryLane))throw p.retryLane=T,Zt(t,T),Ur(l,t,T),Rd;sh(),r=Ny(t,r,s)}else t=p.treeContext,Yt=Ci(T.nextSibling),Xn=r,Rt=!0,As=null,Ai=!1,t!==null&&vg(r,t),r=Xc(r,l),r.flags|=4096;return r}return t=Pa(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function $c(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Cd(t,r,s,l,f){return Io(r),s=od(t,r,s,l,void 0,f),l=ld(),t!==null&&!Dn?(ud(t,r,f),qa(t,r,f)):(Rt&&l&&qf(r),r.flags|=1,Jn(t,r,s,f),r.child)}function My(t,r,s,l,f,p){return Io(r),r.updateQueue=null,s=Pg(r,l,s,f),kg(t),l=ld(),t!==null&&!Dn?(ud(t,r,p),qa(t,r,p)):(Rt&&l&&qf(r),r.flags|=1,Jn(t,r,s,p),r.child)}function Vy(t,r,s,l,f){if(Io(r),r.stateNode===null){var p=Mr,T=s.contextType;typeof T=="object"&&T!==null&&(p=$n(T)),p=new s(l,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=wd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=l,p.state=r.memoizedState,p.refs={},Wf(r),T=s.contextType,p.context=typeof T=="object"&&T!==null?$n(T):Mr,p.state=r.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Sd(r,s,T,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&wd.enqueueReplaceState(p,p.state,null),vu(r,l,p,f),yu(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){p=r.stateNode;var C=r.memoizedProps,U=Vo(s,C);p.props=U;var ie=p.context,de=s.contextType;T=Mr,typeof de=="object"&&de!==null&&(T=$n(de));var _e=s.getDerivedStateFromProps;de=typeof _e=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,de||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||ie!==T)&&Ey(r,p,l,T),Is=!1;var se=r.memoizedState;p.state=se,vu(r,l,p,f),yu(),ie=r.memoizedState,C||se!==ie||Is?(typeof _e=="function"&&(Sd(r,s,_e,l),ie=r.memoizedState),(U=Is||_y(r,s,U,l,se,ie,T))?(de||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=ie),p.props=l,p.state=ie,p.context=T,l=U):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,ed(t,r),T=r.memoizedProps,de=Vo(s,T),p.props=de,_e=r.pendingProps,se=p.context,ie=s.contextType,U=Mr,typeof ie=="object"&&ie!==null&&(U=$n(ie)),C=s.getDerivedStateFromProps,(ie=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==_e||se!==U)&&Ey(r,p,l,U),Is=!1,se=r.memoizedState,p.state=se,vu(r,l,p,f),yu();var ue=r.memoizedState;T!==_e||se!==ue||Is||t!==null&&t.dependencies!==null&&xc(t.dependencies)?(typeof C=="function"&&(Sd(r,s,C,l),ue=r.memoizedState),(de=Is||_y(r,s,de,l,se,ue,U)||t!==null&&t.dependencies!==null&&xc(t.dependencies))?(ie||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,ue,U),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,ue,U)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=ue),p.props=l,p.state=ue,p.context=U,l=de):(typeof p.componentDidUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&se===t.memoizedState||(r.flags|=1024),l=!1)}return p=l,$c(t,r),l=(r.flags&128)!==0,p||l?(p=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,t!==null&&l?(r.child=No(r,t.child,null,f),r.child=No(r,null,s,f)):Jn(t,r,s,f),r.memoizedState=p.state,t=r.child):t=qa(t,r,f),t}function ky(t,r,s,l){return Ro(),r.flags|=256,Jn(t,r,s,l),r.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(t){return{baseLanes:t,cachePool:wg()}}function Dd(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=si),t}function Py(t,r,s){var l=r.pendingProps,f=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=t!==null&&t.memoizedState===null?!1:(bn.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(Rt){if(f?xs(r):Ns(),(t=Yt)?(t=Hv(t,Ai),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:ws!==null?{id:aa,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},s=pg(t),s.return=r,r.child=s,Xn=r,Yt=null)):t=null,t===null)throw Rs(r);return fm(t)?r.lanes=32:r.lanes=536870912,null}var C=l.children;return l=l.fallback,f?(Ns(),f=r.mode,C=Jc({mode:"hidden",children:C},f),l=Ao(l,f,s,null),C.return=r,l.return=r,C.sibling=l,r.child=C,l=r.child,l.memoizedState=Od(s),l.childLanes=Dd(t,T,s),r.memoizedState=Id,Su(null,l)):(xs(r),xd(r,C))}var U=t.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(p)r.flags&256?(xs(r),r.flags&=-257,r=Nd(t,r,s)):r.memoizedState!==null?(Ns(),r.child=t.child,r.flags|=128,r=null):(Ns(),C=l.fallback,f=r.mode,l=Jc({mode:"visible",children:l.children},f),C=Ao(C,f,s,null),C.flags|=2,l.return=r,C.return=r,l.sibling=C,r.child=l,No(r,t.child,null,s),l=r.child,l.memoizedState=Od(s),l.childLanes=Dd(t,T,s),r.memoizedState=Id,r=Su(null,l));else if(xs(r),fm(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var ie=T.dgst;T=ie,l=Error(a(419)),l.stack="",l.digest=T,hu({value:l,source:null,stack:null}),r=Nd(t,r,s)}else if(Dn||sl(t,r,s,!1),T=(s&t.childLanes)!==0,Dn||T){if(T=Ft,T!==null&&(l=Jt(T,s),l!==0&&l!==U.retryLane))throw U.retryLane=l,Zt(t,l),Ur(T,t,l),Rd;hm(C)||sh(),r=Nd(t,r,s)}else hm(C)?(r.flags|=192,r.child=t.child,r=null):(t=U.treeContext,Yt=Ci(C.nextSibling),Xn=r,Rt=!0,As=null,Ai=!1,t!==null&&vg(r,t),r=xd(r,l.children),r.flags|=4096);return r}return f?(Ns(),C=l.fallback,f=r.mode,U=t.child,ie=U.sibling,l=Pa(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,ie!==null?C=Pa(ie,C):(C=Ao(C,f,s,null),C.flags|=2),C.return=r,l.return=r,l.sibling=C,r.child=l,Su(null,l),l=r.child,C=t.child.memoizedState,C===null?C=Od(s):(f=C.cachePool,f!==null?(U=In._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=wg(),C={baseLanes:C.baseLanes|s,cachePool:f}),l.memoizedState=C,l.childLanes=Dd(t,T,s),r.memoizedState=Id,Su(t.child,l)):(xs(r),s=t.child,t=s.sibling,s=Pa(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=s,r.memoizedState=null,s)}function xd(t,r){return r=Jc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Jc(t,r){return t=ni(22,t,null,r),t.lanes=0,t}function Nd(t,r,s){return No(r,t.child,null,s),t=xd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ly(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Yf(t.return,r,s)}function Md(t,r,s,l,f,p){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:p}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=l,T.tail=s,T.tailMode=f,T.treeForkCount=p)}function Uy(t,r,s){var l=r.pendingProps,f=l.revealOrder,p=l.tail;l=l.children;var T=bn.current,C=(T&2)!==0;if(C?(T=T&1|2,r.flags|=128):T&=1,De(bn,T),Jn(t,r,l,s),l=Rt?cu:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,s,r);else if(t.tag===19)Ly(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&jc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Md(r,!1,f,s,p,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&jc(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Md(r,!0,s,null,p,l);break;case"together":Md(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function qa(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ks|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(sl(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=Pa(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=Pa(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function Vd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&xc(t)))}function cS(t,r,s){switch(r.tag){case 3:pn(r,r.stateNode.containerInfo),Cs(r,In,t.memoizedState.cache),Ro();break;case 27:case 5:Qi(r);break;case 4:pn(r,r.stateNode.containerInfo);break;case 10:Cs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ad(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(xs(r),r.flags|=128,null):(s&r.child.childLanes)!==0?Py(t,r,s):(xs(r),t=qa(t,r,s),t!==null?t.sibling:null);xs(r);break;case 19:var f=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(sl(t,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return Uy(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),De(bn,bn.current),l)break;return null;case 22:return r.lanes=0,Dy(t,r,s,r.pendingProps);case 24:Cs(r,In,t.memoizedState.cache)}return qa(t,r,s)}function jy(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Dn=!0;else{if(!Vd(t,s)&&(r.flags&128)===0)return Dn=!1,cS(t,r,s);Dn=(t.flags&131072)!==0}else Dn=!1,Rt&&(r.flags&1048576)!==0&&yg(r,cu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Do(r.elementType),r.type=t,typeof t=="function")jf(t)?(l=Vo(t,l),r.tag=1,r=Vy(null,r,t,l,s)):(r.tag=0,r=Cd(null,r,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===We){r.tag=11,r=Cy(null,r,t,l,s);break e}else if(f===N){r.tag=14,r=Iy(null,r,t,l,s);break e}}throw r=Ht(t)||t,Error(a(306,r,""))}}return r;case 0:return Cd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Vo(l,r.pendingProps),Vy(t,r,l,f,s);case 3:e:{if(pn(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var p=r.memoizedState;f=p.element,ed(t,r),vu(r,l,null,s);var T=r.memoizedState;if(l=T.cache,Cs(r,In,l),l!==p.cache&&Qf(r,[In],s,!0),yu(),l=T.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=ky(t,r,l,s);break e}else if(l!==f){f=Ti(Error(a(424)),r),hu(f),r=ky(t,r,l,s);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Yt=Ci(t.firstChild),Xn=r,Rt=!0,As=null,Ai=!0,s=Dg(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ro(),l===f){r=qa(t,r,s);break e}Jn(t,r,l,s)}r=r.child}return r;case 26:return $c(t,r),t===null?(s=$v(r.type,null,r.pendingProps,null))?r.memoizedState=s:Rt||(s=r.type,t=r.pendingProps,l=dh(Je.current).createElement(s),l[kt]=r,l[Kt]=t,Zn(l,s,t),rn(l),r.stateNode=l):r.memoizedState=$v(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Qi(r),t===null&&Rt&&(l=r.stateNode=Yv(r.type,r.pendingProps,Je.current),Xn=r,Ai=!0,f=Yt,zs(r.type)?(dm=f,Yt=Ci(l.firstChild)):Yt=f),Jn(t,r,r.pendingProps.children,s),$c(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Rt&&((f=l=Yt)&&(l=zS(l,r.type,r.pendingProps,Ai),l!==null?(r.stateNode=l,Xn=r,Yt=Ci(l.firstChild),Ai=!1,f=!0):f=!1),f||Rs(r)),Qi(r),f=r.type,p=r.pendingProps,T=t!==null?t.memoizedProps:null,l=p.children,lm(f,p)?l=null:T!==null&&lm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=od(t,r,tS,null,null,s),Uu._currentValue=f),$c(t,r),Jn(t,r,l,s),r.child;case 6:return t===null&&Rt&&((t=s=Yt)&&(s=BS(s,r.pendingProps,Ai),s!==null?(r.stateNode=s,Xn=r,Yt=null,t=!0):t=!1),t||Rs(r)),null;case 13:return Py(t,r,s);case 4:return pn(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=No(r,null,l,s):Jn(t,r,l,s),r.child;case 11:return Cy(t,r,r.type,r.pendingProps,s);case 7:return Jn(t,r,r.pendingProps,s),r.child;case 8:return Jn(t,r,r.pendingProps.children,s),r.child;case 12:return Jn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Cs(r,r.type,l.value),Jn(t,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Io(r),f=$n(f),l=l(f),r.flags|=1,Jn(t,r,l,s),r.child;case 14:return Iy(t,r,r.type,r.pendingProps,s);case 15:return Oy(t,r,r.type,r.pendingProps,s);case 19:return Uy(t,r,s);case 31:return uS(t,r,s);case 22:return Dy(t,r,s,r.pendingProps);case 24:return Io(r),l=$n(In),t===null?(f=Jf(),f===null&&(f=Ft,p=Xf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),r.memoizedState={parent:l,cache:f},Wf(r),Cs(r,In,f)):((t.lanes&s)!==0&&(ed(t,r),vu(r,null,null,s),yu()),f=t.memoizedState,p=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Cs(r,In,l)):(l=p.cache,Cs(r,In,l),l!==f.cache&&Qf(r,[In],s,!0))),Jn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Fa(t){t.flags|=4}function kd(t,r,s,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(fv())t.flags|=8192;else throw xo=kc,Zf}else t.flags&=-16777217}function zy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t_(r))if(fv())t.flags|=8192;else throw xo=kc,Zf}function Zc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Jo():536870912,t.lanes|=r,vl|=r)}function wu(t,r){if(!Rt)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Qt(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function hS(t,r,s){var l=r.pendingProps;switch(Ff(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(r),null;case 1:return Qt(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ja(In),ke(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(al(r)?Fa(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kf())),Qt(r),null;case 26:var f=r.type,p=r.memoizedState;return t===null?(Fa(r),p!==null?(Qt(r),zy(r,p)):(Qt(r),kd(r,f,null,l,s))):p?p!==t.memoizedState?(Fa(r),Qt(r),zy(r,p)):(Qt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fa(r),Qt(r),kd(r,f,t,l,s)),null;case 27:if(Mi(r),s=Je.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fa(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Qt(r),null}t=Ue.current,al(r)?_g(r):(t=Yv(f,l,s),r.stateNode=t,Fa(r))}return Qt(r),null;case 5:if(Mi(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fa(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Qt(r),null}if(p=Ue.current,al(r))_g(r);else{var T=dh(Je.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?T.createElement("select",{is:l.is}):T.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?T.createElement(f,{is:l.is}):T.createElement(f)}}p[kt]=r,p[Kt]=l;e:for(T=r.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===r)break e;for(;T.sibling===null;){if(T.return===null||T.return===r)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}r.stateNode=p;e:switch(Zn(p,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fa(r)}}return Qt(r),kd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Fa(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=Je.current,al(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,f=Xn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[kt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Pv(t.nodeValue,s)),t||Rs(r,!0)}else t=dh(t).createTextNode(l),t[kt]=r,r.stateNode=t}return Qt(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(l=al(r),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kt]=r}else Ro(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Qt(r),t=!1}else s=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(ii(r),r):(ii(r),null);if((r.flags&128)!==0)throw Error(a(558))}return Qt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=al(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[kt]=r}else Ro(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Qt(r),f=!1}else f=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ii(r),r):(ii(r),null)}return ii(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),Zc(r,r.updateQueue),Qt(r),null);case 4:return ke(),t===null&&rm(r.stateNode.containerInfo),Qt(r),null;case 10:return ja(r.type),Qt(r),null;case 19:if(ye(bn),l=r.memoizedState,l===null)return Qt(r),null;if(f=(r.flags&128)!==0,p=l.rendering,p===null)if(f)wu(l,!1);else{if(mn!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(p=jc(t),p!==null){for(r.flags|=128,wu(l,!1),t=p.updateQueue,r.updateQueue=t,Zc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)mg(s,t),s=s.sibling;return De(bn,bn.current&1|2),Rt&&La(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&jn()>rh&&(r.flags|=128,f=!0,wu(l,!1),r.lanes=4194304)}else{if(!f)if(t=jc(p),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Zc(r,t),wu(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!Rt)return Qt(r),null}else 2*jn()-l.renderingStartTime>rh&&s!==536870912&&(r.flags|=128,f=!0,wu(l,!1),r.lanes=4194304);l.isBackwards?(p.sibling=r.child,r.child=p):(t=l.last,t!==null?t.sibling=p:r.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=jn(),t.sibling=null,s=bn.current,De(bn,f?s&1|2:s&1),Rt&&La(r,l.treeForkCount),t):(Qt(r),null);case 22:case 23:return ii(r),id(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Qt(r),r.subtreeFlags&6&&(r.flags|=8192)):Qt(r),s=r.updateQueue,s!==null&&Zc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&ye(Oo),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),ja(In),Qt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function fS(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ja(In),ke(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Mi(r),null;case 31:if(r.memoizedState!==null){if(ii(r),r.alternate===null)throw Error(a(340));Ro()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(ii(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ro()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ye(bn),null;case 4:return ke(),null;case 10:return ja(r.type),null;case 22:case 23:return ii(r),id(),t!==null&&ye(Oo),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ja(In),null;case 25:return null;default:return null}}function By(t,r){switch(Ff(r),r.tag){case 3:ja(In),ke();break;case 26:case 27:case 5:Mi(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&ii(r);break;case 13:ii(r);break;case 19:ye(bn);break;case 10:ja(r.type);break;case 22:case 23:ii(r),id(),t!==null&&ye(Oo);break;case 24:ja(In)}}function Au(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var p=s.create,T=s.inst;l=p(),T.destroy=l}s=s.next}while(s!==f)}}catch(C){jt(r,r.return,C)}}function Ms(t,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var p=f.next;l=p;do{if((l.tag&t)===t){var T=l.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,f=r;var U=s,ie=C;try{ie()}catch(de){jt(f,U,de)}}}l=l.next}while(l!==p)}}catch(de){jt(r,r.return,de)}}function qy(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{Ng(r,s)}catch(l){jt(t,t.return,l)}}}function Fy(t,r,s){s.props=Vo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){jt(t,r,l)}}function Ru(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){jt(t,r,f)}}function oa(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){jt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){jt(t,r,f)}else s.current=null}function Hy(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){jt(t,t.return,f)}}function Pd(t,r,s){try{var l=t.stateNode;VS(l,t.type,s,r),l[Kt]=r}catch(f){jt(t,t.return,f)}}function Ky(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zs(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ky(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ar));else if(l!==4&&(l===27&&zs(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Ud(t,r,s),t=t.sibling;t!==null;)Ud(t,r,s),t=t.sibling}function Wc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&zs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Wc(t,r,s),t=t.sibling;t!==null;)Wc(t,r,s),t=t.sibling}function Gy(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Zn(r,l,s),r[kt]=t,r[Kt]=s}catch(p){jt(t,t.return,p)}}var Ha=!1,xn=!1,jd=!1,Yy=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function dS(t,r){if(t=t.containerInfo,sm=Eh,t=w(t),A(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var T=0,C=-1,U=-1,ie=0,de=0,_e=t,se=null;t:for(;;){for(var ue;_e!==s||f!==0&&_e.nodeType!==3||(C=T+f),_e!==p||l!==0&&_e.nodeType!==3||(U=T+l),_e.nodeType===3&&(T+=_e.nodeValue.length),(ue=_e.firstChild)!==null;)se=_e,_e=ue;for(;;){if(_e===t)break t;if(se===s&&++ie===f&&(C=T),se===p&&++de===l&&(U=T),(ue=_e.nextSibling)!==null)break;_e=se,se=_e.parentNode}_e=ue}s=C===-1||U===-1?null:{start:C,end:U}}else s=null}s=s||{start:0,end:0}}else s=null;for(om={focusedElem:t,selectionRange:s},Eh=!1,Hn=r;Hn!==null;)if(r=Hn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Hn=t;else for(;Hn!==null;){switch(r=Hn,p=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,s=r,f=p.memoizedProps,p=p.memoizedState,l=s.stateNode;try{var ze=Vo(s.type,f);t=l.getSnapshotBeforeUpdate(ze,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(Xe){jt(s,s.return,Xe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)cm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Hn=t;break}Hn=r.return}}function Qy(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(t,s),l&4&&Au(5,s);break;case 1:if(Ga(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(T){jt(s,s.return,T)}else{var f=Vo(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){jt(s,s.return,T)}}l&64&&qy(s),l&512&&Ru(s,s.return);break;case 3:if(Ga(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{Ng(t,r)}catch(T){jt(s,s.return,T)}}break;case 27:r===null&&l&4&&Gy(s);case 26:case 5:Ga(t,s),r===null&&l&4&&Hy(s),l&512&&Ru(s,s.return);break;case 12:Ga(t,s);break;case 31:Ga(t,s),l&4&&Jy(t,s);break;case 13:Ga(t,s),l&4&&Zy(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=TS.bind(null,s),qS(t,s))));break;case 22:if(l=s.memoizedState!==null||Ha,!l){r=r!==null&&r.memoizedState!==null||xn,f=Ha;var p=xn;Ha=l,(xn=r)&&!p?Ya(t,s,(s.subtreeFlags&8772)!==0):Ga(t,s),Ha=f,xn=p}break;case 30:break;default:Ga(t,s)}}function Xy(t){var r=t.alternate;r!==null&&(t.alternate=null,Xy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ia(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,Vr=!1;function Ka(t,r,s){for(s=s.child;s!==null;)$y(t,r,s),s=s.sibling}function $y(t,r,s){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(nr,s)}catch{}switch(s.tag){case 26:xn||oa(s,r),Ka(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xn||oa(s,r);var l=Wt,f=Vr;zs(s.type)&&(Wt=s.stateNode,Vr=!1),Ka(t,r,s),ku(s.stateNode),Wt=l,Vr=f;break;case 5:xn||oa(s,r);case 6:if(l=Wt,f=Vr,Wt=null,Ka(t,r,s),Wt=l,Vr=f,Wt!==null)if(Vr)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(s.stateNode)}catch(p){jt(s,r,p)}else try{Wt.removeChild(s.stateNode)}catch(p){jt(s,r,p)}break;case 18:Wt!==null&&(Vr?(t=Wt,qv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Rl(t)):qv(Wt,s.stateNode));break;case 4:l=Wt,f=Vr,Wt=s.stateNode.containerInfo,Vr=!0,Ka(t,r,s),Wt=l,Vr=f;break;case 0:case 11:case 14:case 15:Ms(2,s,r),xn||Ms(4,s,r),Ka(t,r,s);break;case 1:xn||(oa(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fy(s,r,l)),Ka(t,r,s);break;case 21:Ka(t,r,s);break;case 22:xn=(l=xn)||s.memoizedState!==null,Ka(t,r,s),xn=l;break;default:Ka(t,r,s)}}function Jy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Rl(t)}catch(s){jt(r,r.return,s)}}}function Zy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rl(t)}catch(s){jt(r,r.return,s)}}function mS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Yy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Yy),r;default:throw Error(a(435,t.tag))}}function eh(t,r){var s=mS(t);r.forEach(function(l){if(!s.has(l)){s.add(l);var f=SS.bind(null,t,l);l.then(f,f)}})}function kr(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],p=t,T=r,C=T;e:for(;C!==null;){switch(C.tag){case 27:if(zs(C.type)){Wt=C.stateNode,Vr=!1;break e}break;case 5:Wt=C.stateNode,Vr=!1;break e;case 3:case 4:Wt=C.stateNode.containerInfo,Vr=!0;break e}C=C.return}if(Wt===null)throw Error(a(160));$y(p,T,f),Wt=null,Vr=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Wy(r,t),r=r.sibling}var Fi=null;function Wy(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kr(r,t),Pr(t),l&4&&(Ms(3,t,t.return),Au(3,t),Ms(5,t,t.return));break;case 1:kr(r,t),Pr(t),l&512&&(xn||s===null||oa(s,s.return)),l&64&&Ha&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Fi;if(kr(r,t),Pr(t),l&512&&(xn||s===null||oa(s,s.return)),l&4){var p=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":p=f.getElementsByTagName("title")[0],(!p||p[zn]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(l),f.head.insertBefore(p,f.querySelector("head > title"))),Zn(p,l,s),p[kt]=t,rn(p),l=p;break e;case"link":var T=Wv("link","href",f).get(l+(s.href||""));if(T){for(var C=0;C<T.length;C++)if(p=T[C],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(C,1);break t}}p=f.createElement(l),Zn(p,l,s),f.head.appendChild(p);break;case"meta":if(T=Wv("meta","content",f).get(l+(s.content||""))){for(C=0;C<T.length;C++)if(p=T[C],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(C,1);break t}}p=f.createElement(l),Zn(p,l,s),f.head.appendChild(p);break;default:throw Error(a(468,l))}p[kt]=t,rn(p),l=p}t.stateNode=l}else e_(f,t.type,t.stateNode);else t.stateNode=Zv(f,l,t.memoizedProps);else p!==l?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,l===null?e_(f,t.type,t.stateNode):Zv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,s.memoizedProps)}break;case 27:kr(r,t),Pr(t),l&512&&(xn||s===null||oa(s,s.return)),s!==null&&l&4&&Pd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(kr(r,t),Pr(t),l&512&&(xn||s===null||oa(s,s.return)),t.flags&32){f=t.stateNode;try{Qn(f,"")}catch(ze){jt(t,t.return,ze)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Pd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(kr(r,t),Pr(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ze){jt(t,t.return,ze)}}break;case 3:if(gh=null,f=Fi,Fi=mh(r.containerInfo),kr(r,t),Fi=f,Pr(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Rl(r.containerInfo)}catch(ze){jt(t,t.return,ze)}jd&&(jd=!1,ev(t));break;case 4:l=Fi,Fi=mh(t.stateNode.containerInfo),kr(r,t),Pr(t),Fi=l;break;case 12:kr(r,t),Pr(t);break;case 31:kr(r,t),Pr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,eh(t,l)));break;case 13:kr(r,t),Pr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nh=jn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,eh(t,l)));break;case 22:f=t.memoizedState!==null;var U=s!==null&&s.memoizedState!==null,ie=Ha,de=xn;if(Ha=ie||f,xn=de||U,kr(r,t),xn=de,Ha=ie,Pr(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||U||Ha||xn||ko(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){U=s=r;try{if(p=U.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=U.stateNode;var _e=U.memoizedProps.style,se=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;C.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ze){jt(U,U.return,ze)}}}else if(r.tag===6){if(s===null){U=r;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(ze){jt(U,U.return,ze)}}}else if(r.tag===18){if(s===null){U=r;try{var ue=U.stateNode;f?Fv(ue,!0):Fv(U.stateNode,!1)}catch(ze){jt(U,U.return,ze)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,eh(t,s))));break;case 19:kr(r,t),Pr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,eh(t,l)));break;case 30:break;case 21:break;default:kr(r,t),Pr(t)}}function Pr(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(Ky(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,p=Ld(t);Wc(t,p,f);break;case 5:var T=s.stateNode;s.flags&32&&(Qn(T,""),s.flags&=-33);var C=Ld(t);Wc(t,C,T);break;case 3:case 4:var U=s.stateNode.containerInfo,ie=Ld(t);Ud(t,ie,U);break;default:throw Error(a(161))}}catch(de){jt(t,t.return,de)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ga(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Qy(t,r.alternate,r),r=r.sibling}function ko(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ms(4,r,r.return),ko(r);break;case 1:oa(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Fy(r,r.return,s),ko(r);break;case 27:ku(r.stateNode);case 26:case 5:oa(r,r.return),ko(r);break;case 22:r.memoizedState===null&&ko(r);break;case 30:ko(r);break;default:ko(r)}t=t.sibling}}function Ya(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(f,p,s),Au(4,p);break;case 1:if(Ya(f,p,s),l=p,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ie){jt(l,l.return,ie)}if(l=p,f=l.updateQueue,f!==null){var C=l.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)xg(U[f],C)}catch(ie){jt(l,l.return,ie)}}s&&T&64&&qy(p),Ru(p,p.return);break;case 27:Gy(p);case 26:case 5:Ya(f,p,s),s&&l===null&&T&4&&Hy(p),Ru(p,p.return);break;case 12:Ya(f,p,s);break;case 31:Ya(f,p,s),s&&T&4&&Jy(f,p);break;case 13:Ya(f,p,s),s&&T&4&&Zy(f,p);break;case 22:p.memoizedState===null&&Ya(f,p,s),Ru(p,p.return);break;case 30:break;default:Ya(f,p,s)}r=r.sibling}}function zd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&fu(s))}function Bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fu(t))}function Hi(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(t,r,s,l),r=r.sibling}function tv(t,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(t,r,s,l),f&2048&&Au(9,r);break;case 1:Hi(t,r,s,l);break;case 3:Hi(t,r,s,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fu(t)));break;case 12:if(f&2048){Hi(t,r,s,l),t=r.stateNode;try{var p=r.memoizedProps,T=p.id,C=p.onPostCommit;typeof C=="function"&&C(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){jt(r,r.return,U)}}else Hi(t,r,s,l);break;case 31:Hi(t,r,s,l);break;case 13:Hi(t,r,s,l);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?Hi(t,r,s,l):Cu(t,r):p._visibility&2?Hi(t,r,s,l):(p._visibility|=2,pl(t,r,s,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&zd(T,r);break;case 24:Hi(t,r,s,l),f&2048&&Bd(r.alternate,r);break;default:Hi(t,r,s,l)}}function pl(t,r,s,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=t,T=r,C=s,U=l,ie=T.flags;switch(T.tag){case 0:case 11:case 15:pl(p,T,C,U,f),Au(8,T);break;case 23:break;case 22:var de=T.stateNode;T.memoizedState!==null?de._visibility&2?pl(p,T,C,U,f):Cu(p,T):(de._visibility|=2,pl(p,T,C,U,f)),f&&ie&2048&&zd(T.alternate,T);break;case 24:pl(p,T,C,U,f),f&&ie&2048&&Bd(T.alternate,T);break;default:pl(p,T,C,U,f)}r=r.sibling}}function Cu(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,f=l.flags;switch(l.tag){case 22:Cu(s,l),f&2048&&zd(l.alternate,l);break;case 24:Cu(s,l),f&2048&&Bd(l.alternate,l);break;default:Cu(s,l)}r=r.sibling}}var Iu=8192;function gl(t,r,s){if(t.subtreeFlags&Iu)for(t=t.child;t!==null;)nv(t,r,s),t=t.sibling}function nv(t,r,s){switch(t.tag){case 26:gl(t,r,s),t.flags&Iu&&t.memoizedState!==null&&ew(s,Fi,t.memoizedState,t.memoizedProps);break;case 5:gl(t,r,s);break;case 3:case 4:var l=Fi;Fi=mh(t.stateNode.containerInfo),gl(t,r,s),Fi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Iu,Iu=16777216,gl(t,r,s),Iu=l):gl(t,r,s));break;default:gl(t,r,s)}}function rv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ou(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Hn=l,av(l,t)}rv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:Ou(t),t.flags&2048&&Ms(9,t,t.return);break;case 3:Ou(t);break;case 12:Ou(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,th(t)):Ou(t);break;default:Ou(t)}}function th(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Hn=l,av(l,t)}rv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ms(8,r,r.return),th(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,th(r));break;default:th(r)}t=t.sibling}}function av(t,r){for(;Hn!==null;){var s=Hn;switch(s.tag){case 0:case 11:case 15:Ms(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fu(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Hn=l;else e:for(s=t;Hn!==null;){l=Hn;var f=l.sibling,p=l.return;if(Xy(l),l===s){Hn=null;break e}if(f!==null){f.return=p,Hn=f;break e}Hn=p}}}var pS={getCacheForType:function(t){var r=$n(In),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return $n(In).controller.signal}},gS=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ft=null,yt=null,_t=0,Ut=0,ai=null,Vs=!1,yl=!1,qd=!1,Qa=0,mn=0,ks=0,Po=0,Fd=0,si=0,vl=0,Du=null,Lr=null,Hd=!1,nh=0,sv=0,rh=1/0,ih=null,Ps=null,Pn=0,Ls=null,_l=null,Xa=0,Kd=0,Gd=null,ov=null,xu=0,Yd=null;function oi(){return(Nt&2)!==0&&_t!==0?_t&-_t:he.T!==null?Wd():Ca()}function lv(){if(si===0)if((_t&536870912)===0||Rt){var t=Vi;Vi<<=1,(Vi&3932160)===0&&(Vi=262144),si=t}else si=536870912;return t=ri.current,t!==null&&(t.flags|=32),si}function Ur(t,r,s){(t===Ft&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)&&(El(t,0),Us(t,_t,si,!1)),Er(t,s),((Nt&2)===0||t!==Ft)&&(t===Ft&&((Nt&2)===0&&(Po|=s),mn===4&&Us(t,_t,si,!1)),la(t))}function uv(t,r,s){if((Nt&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&t.expiredLanes)===0||fr(t,r),f=l?_S(t,r):Xd(t,r,!0),p=l;do{if(f===0){yl&&!l&&Us(t,r,0,!1);break}else{if(s=t.current.alternate,p&&!yS(s)){f=Xd(t,r,!1),p=!1;continue}if(f===2){if(p=r,t.errorRecoveryDisabledLanes&p)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var C=t;f=Du;var U=C.current.memoizedState.isDehydrated;if(U&&(El(C,T).flags|=256),T=Xd(C,T,!1),T!==2){if(qd&&!U){C.errorRecoveryDisabledLanes|=p,Po|=p,f=4;break e}p=Lr,Lr=f,p!==null&&(Lr===null?Lr=p:Lr.push.apply(Lr,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){El(t,0),Us(t,r,0,!0);break}e:{switch(l=t,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Us(l,r,si,!Vs);break e;case 2:Lr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=nh+300-jn(),10<f)){if(Us(l,r,si,!Vs),Hr(l,0,!0)!==0)break e;Xa=r,l.timeoutHandle=zv(cv.bind(null,l,s,Lr,ih,Hd,r,si,Po,vl,Vs,p,"Throttled",-0,0),f);break e}cv(l,s,Lr,ih,Hd,r,si,Po,vl,Vs,p,null,-0,0)}}break}while(!0);la(t)}function cv(t,r,s,l,f,p,T,C,U,ie,de,_e,se,ue){if(t.timeoutHandle=-1,_e=r.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ar},nv(r,p,_e);var ze=(p&62914560)===p?nh-jn():(p&4194048)===p?sv-jn():0;if(ze=tw(_e,ze),ze!==null){Xa=p,t.cancelPendingCommit=ze(vv.bind(null,t,r,p,s,l,f,T,C,U,de,_e,null,se,ue)),Us(t,p,T,!ie);return}}vv(t,r,p,s,l,f,T,C,U)}function yS(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],p=f.getSnapshot;f=f.value;try{if(!sr(p(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Us(t,r,s,l){r&=~Fd,r&=~Po,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var p=31-Ve(f),T=1<<p;l[p]=-1,f&=~T}s!==0&&fi(t,s,r)}function ah(){return(Nt&6)===0?(Nu(0),!1):!0}function Qd(){if(yt!==null){if(Ut===0)var t=yt.return;else t=yt,Ua=Co=null,cd(t),cl=null,mu=0,t=yt;for(;t!==null;)By(t.alternate,t),t=t.return;yt=null}}function El(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,LS(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Xa=0,Qd(),Ft=t,yt=s=Pa(t.current,null),_t=r,Ut=0,ai=null,Vs=!1,yl=fr(t,r),qd=!1,vl=si=Fd=Po=ks=mn=0,Lr=Du=null,Hd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Ve(l),p=1<<f;r|=t[f],l&=~p}return Qa=r,Fn(),s}function hv(t,r){ut=null,he.H=Tu,r===ul||r===Vc?(r=Cg(),Ut=3):r===Zf?(r=Cg(),Ut=4):Ut=r===Rd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ai=r,yt===null&&(mn=1,Qc(t,Ti(r,t.current)))}function fv(){var t=ri.current;return t===null?!0:(_t&4194048)===_t?Ri===null:(_t&62914560)===_t||(_t&536870912)!==0?t===Ri:!1}function dv(){var t=he.H;return he.H=Tu,t===null?Tu:t}function mv(){var t=he.A;return he.A=pS,t}function sh(){mn=4,Vs||(_t&4194048)!==_t&&ri.current!==null||(yl=!0),(ks&134217727)===0&&(Po&134217727)===0||Ft===null||Us(Ft,_t,si,!1)}function Xd(t,r,s){var l=Nt;Nt|=2;var f=dv(),p=mv();(Ft!==t||_t!==r)&&(ih=null,El(t,r)),r=!1;var T=mn;e:do try{if(Ut!==0&&yt!==null){var C=yt,U=ai;switch(Ut){case 8:Qd(),T=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(r=!0);var ie=Ut;if(Ut=0,ai=null,bl(t,C,U,ie),s&&yl){T=0;break e}break;default:ie=Ut,Ut=0,ai=null,bl(t,C,U,ie)}}vS(),T=mn;break}catch(de){hv(t,de)}while(!0);return r&&t.shellSuspendCounter++,Ua=Co=null,Nt=l,he.H=f,he.A=p,yt===null&&(Ft=null,_t=0,Fn()),T}function vS(){for(;yt!==null;)pv(yt)}function _S(t,r){var s=Nt;Nt|=2;var l=dv(),f=mv();Ft!==t||_t!==r?(ih=null,rh=jn()+500,El(t,r)):yl=fr(t,r);e:do try{if(Ut!==0&&yt!==null){r=yt;var p=ai;t:switch(Ut){case 1:Ut=0,ai=null,bl(t,r,p,1);break;case 2:case 9:if(Ag(p)){Ut=0,ai=null,gv(r);break}r=function(){Ut!==2&&Ut!==9||Ft!==t||(Ut=7),la(t)},p.then(r,r);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:Ag(p)?(Ut=0,ai=null,gv(r)):(Ut=0,ai=null,bl(t,r,p,7));break;case 5:var T=null;switch(yt.tag){case 26:T=yt.memoizedState;case 5:case 27:var C=yt;if(T?t_(T):C.stateNode.complete){Ut=0,ai=null;var U=C.sibling;if(U!==null)yt=U;else{var ie=C.return;ie!==null?(yt=ie,oh(ie)):yt=null}break t}}Ut=0,ai=null,bl(t,r,p,5);break;case 6:Ut=0,ai=null,bl(t,r,p,6);break;case 8:Qd(),mn=6;break e;default:throw Error(a(462))}}ES();break}catch(de){hv(t,de)}while(!0);return Ua=Co=null,he.H=l,he.A=f,Nt=s,yt!==null?0:(Ft=null,_t=0,Fn(),mn)}function ES(){for(;yt!==null&&!$o();)pv(yt)}function pv(t){var r=jy(t.alternate,t,Qa);t.memoizedProps=t.pendingProps,r===null?oh(t):yt=r}function gv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=My(s,r,r.pendingProps,r.type,void 0,_t);break;case 11:r=My(s,r,r.pendingProps,r.type.render,r.ref,_t);break;case 5:cd(r);default:By(s,r),r=yt=mg(r,Qa),r=jy(s,r,Qa)}t.memoizedProps=t.pendingProps,r===null?oh(t):yt=r}function bl(t,r,s,l){Ua=Co=null,cd(r),cl=null,mu=0;var f=r.return;try{if(lS(t,f,r,s,_t)){mn=1,Qc(t,Ti(s,t.current)),yt=null;return}}catch(p){if(f!==null)throw yt=f,p;mn=1,Qc(t,Ti(s,t.current)),yt=null;return}r.flags&32768?(Rt||l===1?t=!0:yl||(_t&536870912)!==0?t=!1:(Vs=t=!0,(l===2||l===9||l===3||l===6)&&(l=ri.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(r,t)):oh(r)}function oh(t){var r=t;do{if((r.flags&32768)!==0){yv(r,Vs);return}t=r.return;var s=hS(r.alternate,r,Qa);if(s!==null){yt=s;return}if(r=r.sibling,r!==null){yt=r;return}yt=r=t}while(r!==null);mn===0&&(mn=5)}function yv(t,r){do{var s=fS(t.alternate,t);if(s!==null){s.flags&=32767,yt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){yt=t;return}yt=t=s}while(t!==null);mn=6,yt=null}function vv(t,r,s,l,f,p,T,C,U){t.cancelPendingCommit=null;do lh();while(Pn!==0);if((Nt&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=lt,po(t,s,p,T,C,U),t===Ft&&(yt=Ft=null,_t=0),_l=r,Ls=t,Xa=s,Kd=p,Gd=f,ov=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wS(ci,function(){return Sv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=he.T,he.T=null,f=Pe.p,Pe.p=2,T=Nt,Nt|=4;try{dS(t,r,s)}finally{Nt=T,Pe.p=f,he.T=l}}Pn=1,_v(),Ev(),bv()}}function _v(){if(Pn===1){Pn=0;var t=Ls,r=_l,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=he.T,he.T=null;var l=Pe.p;Pe.p=2;var f=Nt;Nt|=4;try{Wy(r,t);var p=om,T=w(t.containerInfo),C=p.focusedElem,U=p.selectionRange;if(T!==C&&C&&C.ownerDocument&&b(C.ownerDocument.documentElement,C)){if(U!==null&&A(C)){var ie=U.start,de=U.end;if(de===void 0&&(de=ie),"selectionStart"in C)C.selectionStart=ie,C.selectionEnd=Math.min(de,C.value.length);else{var _e=C.ownerDocument||document,se=_e&&_e.defaultView||window;if(se.getSelection){var ue=se.getSelection(),ze=C.textContent.length,Xe=Math.min(U.start,ze),qt=U.end===void 0?Xe:Math.min(U.end,ze);!ue.extend&&Xe>qt&&(T=qt,qt=Xe,Xe=T);var Z=g(C,Xe),H=g(C,qt);if(Z&&H&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==H.node||ue.focusOffset!==H.offset)){var re=_e.createRange();re.setStart(Z.node,Z.offset),ue.removeAllRanges(),Xe>qt?(ue.addRange(re),ue.extend(H.node,H.offset)):(re.setEnd(H.node,H.offset),ue.addRange(re))}}}}for(_e=[],ue=C;ue=ue.parentNode;)ue.nodeType===1&&_e.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<_e.length;C++){var ge=_e[C];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Eh=!!sm,om=sm=null}finally{Nt=f,Pe.p=l,he.T=s}}t.current=r,Pn=2}}function Ev(){if(Pn===2){Pn=0;var t=Ls,r=_l,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=he.T,he.T=null;var l=Pe.p;Pe.p=2;var f=Nt;Nt|=4;try{Qy(t,r.alternate,r)}finally{Nt=f,Pe.p=l,he.T=s}}Pn=3}}function bv(){if(Pn===4||Pn===3){Pn=0,Xi();var t=Ls,r=_l,s=Xa,l=ov;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pn=5:(Pn=0,_l=Ls=null,Tv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ps=null),br(s),r=r.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(nr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=he.T,f=Pe.p,Pe.p=2,he.T=null;try{for(var p=t.onRecoverableError,T=0;T<l.length;T++){var C=l[T];p(C.value,{componentStack:C.stack})}}finally{he.T=r,Pe.p=f}}(Xa&3)!==0&&lh(),la(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===Yd?xu++:(xu=0,Yd=t):xu=0,Nu(0)}}function Tv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,fu(r)))}function lh(){return _v(),Ev(),bv(),Sv()}function Sv(){if(Pn!==5)return!1;var t=Ls,r=Kd;Kd=0;var s=br(Xa),l=he.T,f=Pe.p;try{Pe.p=32>s?32:s,he.T=null,s=Gd,Gd=null;var p=Ls,T=Xa;if(Pn=0,_l=Ls=null,Xa=0,(Nt&6)!==0)throw Error(a(331));var C=Nt;if(Nt|=4,iv(p.current),tv(p,p.current,T,s),Nt=C,Nu(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(nr,p)}catch{}return!0}finally{Pe.p=f,he.T=l,Tv(t,r)}}function wv(t,r,s){r=Ti(s,r),r=Ad(t.stateNode,r,2),t=Ds(t,r,2),t!==null&&(Er(t,2),la(t))}function jt(t,r,s){if(t.tag===3)wv(t,t,s);else for(;r!==null;){if(r.tag===3){wv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ps===null||!Ps.has(l))){t=Ti(s,t),s=Ay(2),l=Ds(r,s,2),l!==null&&(Ry(s,l,r,t),Er(l,2),la(l));break}}r=r.return}}function $d(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new gS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(qd=!0,f.add(s),t=bS.bind(null,t,r,s),r.then(t,t))}function bS(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ft===t&&(_t&s)===s&&(mn===4||mn===3&&(_t&62914560)===_t&&300>jn()-nh?(Nt&2)===0&&El(t,0):Fd|=s,vl===_t&&(vl=0)),la(t)}function Av(t,r){r===0&&(r=Jo()),t=Zt(t,r),t!==null&&(Er(t,r),la(t))}function TS(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Av(t,s)}function SS(t,r){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),Av(t,s)}function wS(t,r){return tn(t,r)}var uh=null,Tl=null,Jd=!1,ch=!1,Zd=!1,js=0;function la(t){t!==Tl&&t.next===null&&(Tl===null?uh=Tl=t:Tl=Tl.next=t),ch=!0,Jd||(Jd=!0,RS())}function Nu(t,r){if(!Zd&&ch){Zd=!0;do for(var s=!1,l=uh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var p=0;else{var T=l.suspendedLanes,C=l.pingedLanes;p=(1<<31-Ve(42|t)+1)-1,p&=f&~(T&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Ov(l,p))}else p=_t,p=Hr(l,l===Ft?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||fr(l,p)||(s=!0,Ov(l,p));l=l.next}while(s);Zd=!1}}function AS(){Rv()}function Rv(){ch=Jd=!1;var t=0;js!==0&&PS()&&(t=js);for(var r=jn(),s=null,l=uh;l!==null;){var f=l.next,p=Cv(l,r);p===0?(l.next=null,s===null?uh=f:s.next=f,f===null&&(Tl=s)):(s=l,(t!==0||(p&3)!==0)&&(ch=!0)),l=f}Pn!==0&&Pn!==5||Nu(t),js!==0&&(js=0)}function Cv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var T=31-Ve(p),C=1<<T,U=f[T];U===-1?((C&s)===0||(C&l)!==0)&&(f[T]=au(C,r)):U<=r&&(t.expiredLanes|=C),p&=~C}if(r=Ft,s=_t,s=Hr(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(Ut===2||Ut===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vn(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||fr(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Vn(l),br(s)){case 2:case 8:s=Fr;break;case 32:s=ci;break;case 268435456:s=os;break;default:s=ci}return l=Iv.bind(null,t),s=tn(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Vn(l),t.callbackPriority=2,t.callbackNode=null,2}function Iv(t,r){if(Pn!==0&&Pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(lh()&&t.callbackNode!==s)return null;var l=_t;return l=Hr(t,t===Ft?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uv(t,l,r),Cv(t,jn()),t.callbackNode!=null&&t.callbackNode===s?Iv.bind(null,t):null)}function Ov(t,r){if(lh())return null;uv(t,r,!0)}function RS(){US(function(){(Nt&6)!==0?tn(qr,AS):Rv()})}function Wd(){if(js===0){var t=ol;t===0&&(t=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),js=t}return js}function Dv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zr(""+t)}function xv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function CS(t,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var p=Dv((f[Kt]||null).action),T=l.submitter;T&&(r=(r=T[Kt]||null)?Dv(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var C=new gi("action","action",null,l,f);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(js!==0){var U=T?xv(f,T):new FormData(f);_d(s,{pending:!0,data:U,method:f.method,action:p},null,U)}}else typeof p=="function"&&(C.preventDefault(),U=T?xv(f,T):new FormData(f),_d(s,{pending:!0,data:U,method:f.method,action:p},p,U))},currentTarget:f}]})}}for(var em=0;em<xe.length;em++){var tm=xe[em],IS=tm.toLowerCase(),OS=tm[0].toUpperCase()+tm.slice(1);Ae(IS,"on"+OS)}Ae(te,"onAnimationEnd"),Ae(ae,"onAnimationIteration"),Ae(ce,"onAnimationStart"),Ae("dblclick","onDoubleClick"),Ae("focusin","onFocus"),Ae("focusout","onBlur"),Ae(ve,"onTransitionRun"),Ae(Re,"onTransitionStart"),Ae(Me,"onTransitionCancel"),Ae(we,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function Nv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var p=void 0;if(r)for(var T=l.length-1;0<=T;T--){var C=l[T],U=C.instance,ie=C.currentTarget;if(C=C.listener,U!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=ie;try{p(f)}catch(de){Le(de)}f.currentTarget=null,p=U}else for(T=0;T<l.length;T++){if(C=l[T],U=C.instance,ie=C.currentTarget,C=C.listener,U!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=ie;try{p(f)}catch(de){Le(de)}f.currentTarget=null,p=U}}}}function vt(t,r){var s=r[ki];s===void 0&&(s=r[ki]=new Set);var l=t+"__bubble";s.has(l)||(Mv(r,t,2,!1),s.add(l))}function nm(t,r,s){var l=0;r&&(l|=4),Mv(s,t,l,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[hh]){t[hh]=!0,di.forEach(function(s){s!=="selectionchange"&&(DS.has(s)||nm(s,!1,t),nm(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[hh]||(r[hh]=!0,nm("selectionchange",!1,r))}}function Mv(t,r,s,l){switch(l_(r)){case 2:var f=iw;break;case 8:f=aw;break;default:f=vm}s=f.bind(null,r,s,t),f=void 0,!Da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function im(t,r,s,l,f){var p=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var C=l.stateNode.containerInfo;if(C===f)break;if(T===4)for(T=l.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;C!==null;){if(T=Tr(C),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){l=p=T;continue e}C=C.parentNode}}l=l.return}Cr(function(){var ie=p,de=dr(s),_e=[];e:{var se=Ie.get(t);if(se!==void 0){var ue=gi,ze=t;switch(t){case"keypress":if(ji(s)===0)break e;case"keydown":case"keyup":ue=Ma;break;case"focusin":ze="focus",ue=_i;break;case"focusout":ze="blur",ue=_i;break;case"beforeblur":case"afterblur":ue=_i;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=_o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=_;break;case te:case ae:case ce:ue=Eo;break;case we:ue=O;break;case"scroll":case"scrollend":ue=ea;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Ei;break;case"toggle":case"beforetoggle":ue=nt}var Xe=(r&4)!==0,qt=!Xe&&(t==="scroll"||t==="scrollend"),Z=Xe?se!==null?se+"Capture":null:se;Xe=[];for(var H=ie,re;H!==null;){var ge=H;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||Z===null||(ge=mr(H,Z),ge!=null&&Xe.push(Vu(H,ge,re))),qt)break;H=H.return}0<Xe.length&&(se=new ue(se,ze,null,s,de),_e.push({event:se,listeners:Xe}))}}if((r&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",se&&s!==Rr&&(ze=s.relatedTarget||s.fromElement)&&(Tr(ze)||ze[kn]))break e;if((ue||se)&&(se=de.window===de?de:(se=de.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(ze=s.relatedTarget||s.toElement,ue=ie,ze=ze?Tr(ze):null,ze!==null&&(qt=u(ze),Xe=ze.tag,ze!==qt||Xe!==5&&Xe!==27&&Xe!==6)&&(ze=null)):(ue=null,ze=ie),ue!==ze)){if(Xe=xa,ge="onMouseLeave",Z="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Xe=Ei,ge="onPointerLeave",Z="onPointerEnter",H="pointer"),qt=ue==null?se:vn(ue),re=ze==null?se:vn(ze),se=new Xe(ge,H+"leave",ue,s,de),se.target=qt,se.relatedTarget=re,ge=null,Tr(de)===ie&&(Xe=new Xe(Z,H+"enter",ze,s,de),Xe.target=re,Xe.relatedTarget=qt,ge=Xe),qt=ge,ue&&ze)t:{for(Xe=xS,Z=ue,H=ze,re=0,ge=Z;ge;ge=Xe(ge))re++;ge=0;for(var Ke=H;Ke;Ke=Xe(Ke))ge++;for(;0<re-ge;)Z=Xe(Z),re--;for(;0<ge-re;)H=Xe(H),ge--;for(;re--;){if(Z===H||H!==null&&Z===H.alternate){Xe=Z;break t}Z=Xe(Z),H=Xe(H)}Xe=null}else Xe=null;ue!==null&&Vv(_e,se,ue,Xe,!1),ze!==null&&qt!==null&&Vv(_e,qt,ze,Xe,!0)}}e:{if(se=ie?vn(ie):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var Dt=So;else if(el(se))if(bi)Dt=Ss;else{Dt=ka;var qe=Ic}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&fs(ie.elementType)&&(Dt=So):Dt=lu;if(Dt&&(Dt=Dt(t,ie))){ou(_e,Dt,s,de);break e}qe&&qe(t,se,ie),t==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&Oa(se,"number",se.value)}switch(qe=ie?vn(ie):window,t){case"focusin":(el(qe)||qe.contentEditable==="true")&&(V=qe,z=ie,B=null);break;case"focusout":B=z=V=null;break;case"mousedown":X=!0;break;case"contextmenu":case"mouseup":case"dragend":X=!1,j(_e,s,de);break;case"selectionchange":if(x)break;case"keydown":case"keyup":j(_e,s,de)}var ct;if(At)e:{switch(t){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Va?ra(t,s)&&(Et="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Et="onCompositionStart");Et&&(Nr&&s.locale!=="ko"&&(Va||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Va&&(ct=Ui()):(Ir=de,ds="value"in Ir?Ir.value:Ir.textContent,Va=!0)),qe=fh(ie,Et),0<qe.length&&(Et=new Or(Et,t,null,s,de),_e.push({event:Et,listeners:qe}),ct?Et.data=ct:(ct=Es(s),ct!==null&&(Et.data=ct)))),(ct=xr?Ac(t,s):Lf(t,s))&&(Et=fh(ie,"onBeforeInput"),0<Et.length&&(qe=new Or("onBeforeInput","beforeinput",null,s,de),_e.push({event:qe,listeners:Et}),qe.data=ct)),CS(_e,t,ie,s,de)}Nv(_e,r)})}function Vu(t,r,s){return{instance:t,listener:r,currentTarget:s}}function fh(t,r){for(var s=r+"Capture",l=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=mr(t,s),f!=null&&l.unshift(Vu(t,f,p)),f=mr(t,r),f!=null&&l.push(Vu(t,f,p))),t.tag===3)return l;t=t.return}return[]}function xS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vv(t,r,s,l,f){for(var p=r._reactName,T=[];s!==null&&s!==l;){var C=s,U=C.alternate,ie=C.stateNode;if(C=C.tag,U!==null&&U===l)break;C!==5&&C!==26&&C!==27||ie===null||(U=ie,f?(ie=mr(s,p),ie!=null&&T.unshift(Vu(s,ie,U))):f||(ie=mr(s,p),ie!=null&&T.push(Vu(s,ie,U)))),s=s.return}T.length!==0&&t.push({event:r,listeners:T})}var NS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(NS,`
`).replace(MS,"")}function Pv(t,r){return r=kv(r),kv(t)===r}function Bt(t,r,s,l,f,p){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Qn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Qn(t,""+l);break;case"className":ir(t,"class",l);break;case"tabIndex":ir(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(t,s,l);break;case"style":hs(t,l,p);break;case"data":if(r!=="object"){ir(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Zr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(r!=="input"&&Bt(t,r,"name",f.name,f,null),Bt(t,r,"formEncType",f.formEncType,f,null),Bt(t,r,"formMethod",f.formMethod,f,null),Bt(t,r,"formTarget",f.formTarget,f,null)):(Bt(t,r,"encType",f.encType,f,null),Bt(t,r,"method",f.method,f,null),Bt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Zr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ar);break;case"onScroll":l!=null&&vt("scroll",t);break;case"onScrollEnd":l!=null&&vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Zr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":vt("beforetoggle",t),vt("toggle",t),ot(t,"popover",l);break;case"xlinkActuate":an(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":an(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":an(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":an(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":an(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":an(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":an(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":an(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":an(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ot(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Wo.get(s)||s,ot(t,s,l))}}function am(t,r,s,l,f,p){switch(s){case"style":hs(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Qn(t,l):(typeof l=="number"||typeof l=="bigint")&&Qn(t,""+l);break;case"onScroll":l!=null&&vt("scroll",t);break;case"onScrollEnd":l!=null&&vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ar);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),p=t[Kt]||null,p=p!=null?p[s]:null,typeof p=="function"&&t.removeEventListener(r,p,f),typeof l=="function")){typeof p!="function"&&p!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ot(t,s,l)}}}function Zn(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",t),vt("load",t);var l=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var T=s[p];if(T!=null)switch(p){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Bt(t,r,p,T,s,null)}}f&&Bt(t,r,"srcSet",s.srcSet,s,null),l&&Bt(t,r,"src",s.src,s,null);return;case"input":vt("invalid",t);var C=p=T=f=null,U=null,ie=null;for(l in s)if(s.hasOwnProperty(l)){var de=s[l];if(de!=null)switch(l){case"name":f=de;break;case"type":T=de;break;case"checked":U=de;break;case"defaultChecked":ie=de;break;case"value":p=de;break;case"defaultValue":C=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,r));break;default:Bt(t,r,l,de,s,null)}}cs(t,p,C,U,ie,T,f,!1);return;case"select":vt("invalid",t),l=T=p=null;for(f in s)if(s.hasOwnProperty(f)&&(C=s[f],C!=null))switch(f){case"value":p=C;break;case"defaultValue":T=C;break;case"multiple":l=C;default:Bt(t,r,f,C,s,null)}r=p,s=T,t.multiple=!!l,r!=null?$r(t,!!l,r,!1):s!=null&&$r(t,!!l,s,!0);return;case"textarea":vt("invalid",t),p=f=l=null;for(T in s)if(s.hasOwnProperty(T)&&(C=s[T],C!=null))switch(T){case"value":l=C;break;case"defaultValue":f=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:Bt(t,r,T,C,s,null)}Jr(t,l,f,p);return;case"option":for(U in s)s.hasOwnProperty(U)&&(l=s[U],l!=null)&&(U==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Bt(t,r,U,l,s,null));return;case"dialog":vt("beforetoggle",t),vt("toggle",t),vt("cancel",t),vt("close",t);break;case"iframe":case"object":vt("load",t);break;case"video":case"audio":for(l=0;l<Mu.length;l++)vt(Mu[l],t);break;case"image":vt("error",t),vt("load",t);break;case"details":vt("toggle",t);break;case"embed":case"source":case"link":vt("error",t),vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in s)if(s.hasOwnProperty(ie)&&(l=s[ie],l!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Bt(t,r,ie,l,s,null)}return;default:if(fs(r)){for(de in s)s.hasOwnProperty(de)&&(l=s[de],l!==void 0&&am(t,r,de,l,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null&&Bt(t,r,C,l,s,null))}function VS(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,C=null,U=null,ie=null,de=null;for(ue in s){var _e=s[ue];if(s.hasOwnProperty(ue)&&_e!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":U=_e;default:l.hasOwnProperty(ue)||Bt(t,r,ue,null,l,_e)}}for(var se in l){var ue=l[se];if(_e=s[se],l.hasOwnProperty(se)&&(ue!=null||_e!=null))switch(se){case"type":p=ue;break;case"name":f=ue;break;case"checked":ie=ue;break;case"defaultChecked":de=ue;break;case"value":T=ue;break;case"defaultValue":C=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,r));break;default:ue!==_e&&Bt(t,r,se,ue,l,_e)}}Xr(t,T,C,U,ie,de,p,f);return;case"select":ue=T=C=se=null;for(p in s)if(U=s[p],s.hasOwnProperty(p)&&U!=null)switch(p){case"value":break;case"multiple":ue=U;default:l.hasOwnProperty(p)||Bt(t,r,p,null,l,U)}for(f in l)if(p=l[f],U=s[f],l.hasOwnProperty(f)&&(p!=null||U!=null))switch(f){case"value":se=p;break;case"defaultValue":C=p;break;case"multiple":T=p;default:p!==U&&Bt(t,r,f,p,l,U)}r=C,s=T,l=ue,se!=null?$r(t,!!s,se,!1):!!l!=!!s&&(r!=null?$r(t,!!s,r,!0):$r(t,!!s,s?[]:"",!1));return;case"textarea":ue=se=null;for(C in s)if(f=s[C],s.hasOwnProperty(C)&&f!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Bt(t,r,C,null,l,f)}for(T in l)if(f=l[T],p=s[T],l.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":se=f;break;case"defaultValue":ue=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Bt(t,r,T,f,l,p)}vo(t,se,ue);return;case"option":for(var ze in s)se=s[ze],s.hasOwnProperty(ze)&&se!=null&&!l.hasOwnProperty(ze)&&(ze==="selected"?t.selected=!1:Bt(t,r,ze,null,l,se));for(U in l)se=l[U],ue=s[U],l.hasOwnProperty(U)&&se!==ue&&(se!=null||ue!=null)&&(U==="selected"?t.selected=se&&typeof se!="function"&&typeof se!="symbol":Bt(t,r,U,se,l,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in s)se=s[Xe],s.hasOwnProperty(Xe)&&se!=null&&!l.hasOwnProperty(Xe)&&Bt(t,r,Xe,null,l,se);for(ie in l)if(se=l[ie],ue=s[ie],l.hasOwnProperty(ie)&&se!==ue&&(se!=null||ue!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,r));break;default:Bt(t,r,ie,se,l,ue)}return;default:if(fs(r)){for(var qt in s)se=s[qt],s.hasOwnProperty(qt)&&se!==void 0&&!l.hasOwnProperty(qt)&&am(t,r,qt,void 0,l,se);for(de in l)se=l[de],ue=s[de],!l.hasOwnProperty(de)||se===ue||se===void 0&&ue===void 0||am(t,r,de,se,l,ue);return}}for(var Z in s)se=s[Z],s.hasOwnProperty(Z)&&se!=null&&!l.hasOwnProperty(Z)&&Bt(t,r,Z,null,l,se);for(_e in l)se=l[_e],ue=s[_e],!l.hasOwnProperty(_e)||se===ue||se==null&&ue==null||Bt(t,r,_e,se,l,ue)}function Lv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],p=f.transferSize,T=f.initiatorType,C=f.duration;if(p&&C&&Lv(T)){for(T=0,C=f.responseEnd,l+=1;l<s.length;l++){var U=s[l],ie=U.startTime;if(ie>C)break;var de=U.transferSize,_e=U.initiatorType;de&&Lv(_e)&&(U=U.responseEnd,T+=de*(U<C?1:(C-ie)/(U-ie)))}if(--l,r+=8*(p+T)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,om=null;function dh(t){return t.nodeType===9?t:t.ownerDocument}function Uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function lm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var um=null;function PS(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var zv=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(jS)}:zv;function jS(t){setTimeout(function(){throw t})}function zs(t){return t==="head"}function qv(t,r){var s=r,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),Rl(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ku(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,ku(s);for(var p=s.firstChild;p;){var T=p.nextSibling,C=p.nodeName;p[zn]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=T}}else s==="body"&&ku(t.ownerDocument.body);s=f}while(s);Rl(r)}function Fv(t,r){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function cm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cm(s),Ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function zS(t,r,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zn])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Ci(t.nextSibling),t===null)break}return null}function BS(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ci(t.nextSibling),t===null))return null;return t}function Hv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ci(t.nextSibling),t===null))return null;return t}function hm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qS(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ci(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var dm=null;function Kv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return Ci(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function Gv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function Yv(t,r,s){switch(r=dh(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ku(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ia(t)}var Ii=new Map,Qv=new Set;function mh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $a=Pe.d;Pe.d={f:FS,r:HS,D:KS,C:GS,L:YS,m:QS,X:$S,S:XS,M:JS};function FS(){var t=$a.f(),r=ah();return t||r}function HS(t){var r=Ct(t);r!==null&&r.tag===5&&r.type==="form"?hy(r):$a.r(t)}var Sl=typeof document>"u"?null:document;function Xv(t,r,s){var l=Sl;if(l&&typeof r=="string"&&r){var f=An(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Qv.has(f)||(Qv.add(f),t={rel:t,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Zn(r,"link",t),rn(r),l.head.appendChild(r)))}}function KS(t){$a.D(t),Xv("dns-prefetch",t,null)}function GS(t,r){$a.C(t,r),Xv("preconnect",t,r)}function YS(t,r,s){$a.L(t,r,s);var l=Sl;if(l&&t&&r){var f='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+An(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+An(s.imageSizes)+'"]')):f+='[href="'+An(t)+'"]';var p=f;switch(r){case"style":p=wl(t);break;case"script":p=Al(t)}Ii.has(p)||(t=I({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),Ii.set(p,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Pu(p))||r==="script"&&l.querySelector(Lu(p))||(r=l.createElement("link"),Zn(r,"link",t),rn(r),l.head.appendChild(r)))}}function QS(t,r){$a.m(t,r);var s=Sl;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',p=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Al(t)}if(!Ii.has(p)&&(t=I({rel:"modulepreload",href:t},r),Ii.set(p,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Lu(p)))return}l=s.createElement("link"),Zn(l,"link",t),rn(l),s.head.appendChild(l)}}}function XS(t,r,s){$a.S(t,r,s);var l=Sl;if(l&&t){var f=wn(l).hoistableStyles,p=wl(t);r=r||"default";var T=f.get(p);if(!T){var C={loading:0,preload:null};if(T=l.querySelector(Pu(p)))C.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":r},s),(s=Ii.get(p))&&mm(t,s);var U=T=l.createElement("link");rn(U),Zn(U,"link",t),U._p=new Promise(function(ie,de){U.onload=ie,U.onerror=de}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ph(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:C},f.set(p,T)}}}function $S(t,r){$a.X(t,r);var s=Sl;if(s&&t){var l=wn(s).hoistableScripts,f=Al(t),p=l.get(f);p||(p=s.querySelector(Lu(f)),p||(t=I({src:t,async:!0},r),(r=Ii.get(f))&&pm(t,r),p=s.createElement("script"),rn(p),Zn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function JS(t,r){$a.M(t,r);var s=Sl;if(s&&t){var l=wn(s).hoistableScripts,f=Al(t),p=l.get(f);p||(p=s.querySelector(Lu(f)),p||(t=I({src:t,async:!0,type:"module"},r),(r=Ii.get(f))&&pm(t,r),p=s.createElement("script"),rn(p),Zn(p,"link",t),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(f,p))}}function $v(t,r,s,l){var f=(f=Je.current)?mh(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=wl(s.href),s=wn(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=wl(s.href);var p=wn(f).hoistableStyles,T=p.get(t);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,T),(p=f.querySelector(Pu(t)))&&!p._p&&(T.instance=p,T.state.loading=5),Ii.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ii.set(t,s),p||ZS(f,t,s,T.state))),r&&l===null)throw Error(a(528,""));return T}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Al(s),s=wn(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function wl(t){return'href="'+An(t)+'"'}function Pu(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function ZS(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zn(r,"link",s),rn(r),t.head.appendChild(r))}function Al(t){return'[src="'+An(t)+'"]'}function Lu(t){return"script[async]"+t}function Zv(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+An(s.href)+'"]');if(l)return r.instance=l,rn(l),l;var f=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),rn(l),Zn(l,"style",f),ph(l,s.precedence,t),r.instance=l;case"stylesheet":f=wl(s.href);var p=t.querySelector(Pu(f));if(p)return r.state.loading|=4,r.instance=p,rn(p),p;l=Jv(s),(f=Ii.get(f))&&mm(l,f),p=(t.ownerDocument||t).createElement("link"),rn(p);var T=p;return T._p=new Promise(function(C,U){T.onload=C,T.onerror=U}),Zn(p,"link",l),r.state.loading|=4,ph(p,s.precedence,t),r.instance=p;case"script":return p=Al(s.src),(f=t.querySelector(Lu(p)))?(r.instance=f,rn(f),f):(l=s,(f=Ii.get(p))&&(l=I({},s),pm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),rn(f),Zn(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ph(l,s.precedence,t));return r.instance}function ph(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,p=f,T=0;T<l.length;T++){var C=l[T];if(C.dataset.precedence===r)p=C;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function mm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var gh=null;function Wv(t,r,s){if(gh===null){var l=new Map,f=gh=new Map;f.set(s,l)}else f=gh,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var p=s[f];if(!(p[zn]||p[kt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=t+T;var C=l.get(T);C?C.push(p):l.set(T,[p])}}return l}function e_(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function WS(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function t_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ew(t,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=wl(l.href),p=r.querySelector(Pu(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=yh.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=p,rn(p);return}p=r.ownerDocument||r,l=Jv(l),(f=Ii.get(f))&&mm(l,f),p=p.createElement("link"),rn(p);var T=p;T._p=new Promise(function(C,U){T.onload=C,T.onerror=U}),Zn(p,"link",l),s.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=yh.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var gm=0;function tw(t,r){return t.stylesheets&&t.count===0&&_h(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&_h(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+r);0<t.imgBytes&&gm===0&&(gm=62500*kS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_h(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>gm?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function yh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_h(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vh=null;function _h(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vh=new Map,r.forEach(nw,t),vh=null,yh.call(t))}function nw(t,r){if(!(r.state.loading&4)){var s=vh.get(t);if(s)var l=s.get(null);else{s=new Map,vh.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),p=s.get(T)||l,p===l&&s.set(null,f),s.set(T,f),this.count++,l=yh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Uu={$$typeof:Ne,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function rw(t,r,s,l,f,p,T,C,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function n_(t,r,s,l,f,p,T,C,U,ie,de,_e){return t=new rw(t,r,s,T,U,ie,de,_e,C),r=1,p===!0&&(r|=24),p=ni(3,null,null,r),t.current=p,p.stateNode=t,r=Xf(),r.refCount++,t.pooledCache=r,r.refCount++,p.memoizedState={element:l,isDehydrated:s,cache:r},Wf(p),t}function r_(t){return t?(t=Mr,t):Mr}function i_(t,r,s,l,f,p){f=r_(f),l.context===null?l.context=f:l.pendingContext=f,l=Os(r),l.payload={element:s},p=p===void 0?null:p,p!==null&&(l.callback=p),s=Ds(t,l,r),s!==null&&(Ur(s,t,r),gu(s,t,r))}function a_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function ym(t,r){a_(t,r),(t=t.alternate)&&a_(t,r)}function s_(t){if(t.tag===13||t.tag===31){var r=Zt(t,67108864);r!==null&&Ur(r,t,67108864),ym(t,67108864)}}function o_(t){if(t.tag===13||t.tag===31){var r=oi();r=Ra(r);var s=Zt(t,r);s!==null&&Ur(s,t,r),ym(t,r)}}var Eh=!0;function iw(t,r,s,l){var f=he.T;he.T=null;var p=Pe.p;try{Pe.p=2,vm(t,r,s,l)}finally{Pe.p=p,he.T=f}}function aw(t,r,s,l){var f=he.T;he.T=null;var p=Pe.p;try{Pe.p=8,vm(t,r,s,l)}finally{Pe.p=p,he.T=f}}function vm(t,r,s,l){if(Eh){var f=_m(l);if(f===null)im(t,r,l,bh,s),u_(t,l);else if(ow(f,t,r,s,l))l.stopPropagation();else if(u_(t,l),r&4&&-1<sw.indexOf(t)){for(;f!==null;){var p=Ct(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=_r(p.pendingLanes);if(T!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var U=1<<31-Ve(T);C.entanglements[1]|=U,T&=~U}la(p),(Nt&6)===0&&(rh=jn()+500,Nu(0))}}break;case 31:case 13:C=Zt(p,2),C!==null&&Ur(C,p,2),ah(),ym(p,2)}if(p=_m(l),p===null&&im(t,r,l,bh,s),p===f)break;f=p}f!==null&&l.stopPropagation()}else im(t,r,l,null,s)}}function _m(t){return t=dr(t),Em(t)}var bh=null;function Em(t){if(bh=null,t=Tr(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=d(r),t!==null)return t;t=null}else if(s===31){if(t=y(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return bh=t,null}function l_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case qr:return 2;case Fr:return 8;case ci:case Sa:return 32;case os:return 268435456;default:return 32}default:return 32}}var bm=!1,Bs=null,qs=null,Fs=null,ju=new Map,zu=new Map,Hs=[],sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(t,r){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":ju.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(r.pointerId)}}function Bu(t,r,s,l,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Ct(r),r!==null&&s_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function ow(t,r,s,l,f){switch(r){case"focusin":return Bs=Bu(Bs,t,r,s,l,f),!0;case"dragenter":return qs=Bu(qs,t,r,s,l,f),!0;case"mouseover":return Fs=Bu(Fs,t,r,s,l,f),!0;case"pointerover":var p=f.pointerId;return ju.set(p,Bu(ju.get(p)||null,t,r,s,l,f)),!0;case"gotpointercapture":return p=f.pointerId,zu.set(p,Bu(zu.get(p)||null,t,r,s,l,f)),!0}return!1}function c_(t){var r=Tr(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=d(s),r!==null){t.blockedOn=r,rr(t.priority,function(){o_(s)});return}}else if(r===31){if(r=y(s),r!==null){t.blockedOn=r,rr(t.priority,function(){o_(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=_m(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Rr=l,s.target.dispatchEvent(l),Rr=null}else return r=Ct(s),r!==null&&s_(r),t.blockedOn=s,!1;r.shift()}return!0}function h_(t,r,s){Th(t)&&s.delete(r)}function lw(){bm=!1,Bs!==null&&Th(Bs)&&(Bs=null),qs!==null&&Th(qs)&&(qs=null),Fs!==null&&Th(Fs)&&(Fs=null),ju.forEach(h_),zu.forEach(h_)}function Sh(t,r){t.blockedOn===r&&(t.blockedOn=null,bm||(bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lw)))}var wh=null;function f_(t){wh!==t&&(wh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){wh===t&&(wh=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Em(l||s)===null)continue;break}var p=Ct(s);p!==null&&(t.splice(r,3),r-=3,_d(p,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Rl(t){function r(U){return Sh(U,t)}Bs!==null&&Sh(Bs,t),qs!==null&&Sh(qs,t),Fs!==null&&Sh(Fs,t),ju.forEach(r),zu.forEach(r);for(var s=0;s<Hs.length;s++){var l=Hs[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hs.length&&(s=Hs[0],s.blockedOn===null);)c_(s),s.blockedOn===null&&Hs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],p=s[l+1],T=f[Kt]||null;if(typeof p=="function")T||f_(s);else if(T){var C=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[Kt]||null)C=T.formAction;else if(Em(f)!==null)continue}else C=T.action;typeof C=="function"?s[l+1]=C:(s.splice(l,3),l-=3),f_(s)}}}function d_(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Tm(t){this._internalRoot=t}Ah.prototype.render=Tm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=oi();i_(s,l,t,r,null,null)},Ah.prototype.unmount=Tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;i_(t.current,2,null,t,null,null),ah(),r[kn]=null}};function Ah(t){this._internalRoot=t}Ah.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ca();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Hs.length&&r!==0&&r<Hs[s].priority;s++);Hs.splice(s,0,t),s===0&&c_(t)}};var m_=e.version;if(m_!=="19.2.4")throw Error(a(527,m_,"19.2.4"));Pe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=E(r),t=t!==null?R(t):null,t=t===null?null:t.stateNode,t};var uw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{nr=Rh.inject(uw),gn=Rh}catch{}}return Fu.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",f=by,p=Ty,T=Sy;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError)),r=n_(t,1,!1,null,null,s,l,null,f,p,T,d_),t[kn]=r.current,rm(t),new Tm(r)},Fu.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,f="",p=by,T=Ty,C=Sy,U=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(U=s.formState)),r=n_(t,1,!0,r,s??null,l,f,U,p,T,C,d_),r.context=r_(null),s=r.current,l=oi(),l=Ra(l),f=Os(l),f.callback=null,Ds(s,f,l),s=l,r.current.lanes=s,Er(r,s),la(r),t[kn]=r.current,rm(t),new Ah(r)},Fu.version="19.2.4",Fu}var w_;function bw(){if(w_)return Am.exports;w_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Am.exports=Ew(),Am.exports}var Tw=bw();const Sw=yp(Tw);var A_="popstate";function ww(i={}){function e(a,o){let{pathname:u,search:d,hash:y}=a.location;return Hm("",{pathname:u,search:d,hash:y},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:nc(o)}return Rw(e,n,null,i)}function un(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function va(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aw(){return Math.random().toString(36).substring(2,10)}function R_(i,e){return{usr:i.state,key:i.key,idx:e}}function Hm(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ql(e):e,state:n,key:e&&e.key||a||Aw()}}function nc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ql(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function Rw(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,y="POP",v=null,E=R();E==null&&(E=0,d.replaceState({...d.state,idx:E},""));function R(){return(d.state||{idx:null}).idx}function I(){y="POP";let fe=R(),Se=fe==null?null:fe-E;E=fe,v&&v({action:y,location:pe.location,delta:Se})}function P(fe,Se){y="PUSH";let Te=Hm(pe.location,fe,Se);E=R()+1;let Ne=R_(Te,E),We=pe.createHref(Te);try{d.pushState(Ne,"",We)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(We)}u&&v&&v({action:y,location:pe.location,delta:1})}function ne(fe,Se){y="REPLACE";let Te=Hm(pe.location,fe,Se);E=R();let Ne=R_(Te,E),We=pe.createHref(Te);d.replaceState(Ne,"",We),u&&v&&v({action:y,location:pe.location,delta:0})}function me(fe){return Cw(fe)}let pe={get action(){return y},get location(){return i(o,d)},listen(fe){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(A_,I),v=fe,()=>{o.removeEventListener(A_,I),v=null}},createHref(fe){return e(o,fe)},createURL:me,encodeLocation(fe){let Se=me(fe);return{pathname:Se.pathname,search:Se.search,hash:Se.hash}},push:P,replace:ne,go(fe){return d.go(fe)}};return pe}function Cw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),un(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:nc(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function o0(i,e,n="/"){return Iw(i,e,n,!1)}function Iw(i,e,n,a){let o=typeof e=="string"?Ql(e):e,u=es(o.pathname||"/",n);if(u==null)return null;let d=l0(i);Ow(d);let y=null;for(let v=0;y==null&&v<d.length;++v){let E=zw(u);y=Uw(d[v],E,a)}return y}function l0(i,e=[],n=[],a="",o=!1){let u=(d,y,v=o,E)=>{let R={relativePath:E===void 0?d.path||"":E,caseSensitive:d.caseSensitive===!0,childrenIndex:y,route:d};if(R.relativePath.startsWith("/")){if(!R.relativePath.startsWith(a)&&v)return;un(R.relativePath.startsWith(a),`Absolute route path "${R.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),R.relativePath=R.relativePath.slice(a.length)}let I=Wa([a,R.relativePath]),P=n.concat(R);d.children&&d.children.length>0&&(un(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${I}".`),l0(d.children,e,P,I,v)),!(d.path==null&&!d.index)&&e.push({path:I,score:Pw(I,d.index),routesMeta:P})};return i.forEach((d,y)=>{if(d.path===""||!d.path?.includes("?"))u(d,y);else for(let v of u0(d.path))u(d,y,!0,v)}),e}function u0(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=u0(a.join("/")),y=[];return y.push(...d.map(v=>v===""?u:[u,v].join("/"))),o&&y.push(...d),y.map(v=>i.startsWith("/")&&v===""?"/":v)}function Ow(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Lw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Dw=/^:[\w-]+$/,xw=3,Nw=2,Mw=1,Vw=10,kw=-2,C_=i=>i==="*";function Pw(i,e){let n=i.split("/"),a=n.length;return n.some(C_)&&(a+=kw),e&&(a+=Nw),n.filter(o=>!C_(o)).reduce((o,u)=>o+(Dw.test(u)?xw:u===""?Mw:Vw),a)}function Lw(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function Uw(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",d=[];for(let y=0;y<a.length;++y){let v=a[y],E=y===a.length-1,R=u==="/"?e:e.slice(u.length)||"/",I=Xh({path:v.relativePath,caseSensitive:v.caseSensitive,end:E},R),P=v.route;if(!I&&E&&n&&!a[a.length-1].route.index&&(I=Xh({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},R)),!I)return null;Object.assign(o,I.params),d.push({params:o,pathname:Wa([u,I.pathname]),pathnameBase:Hw(Wa([u,I.pathnameBase])),route:P}),I.pathnameBase!=="/"&&(u=Wa([u,I.pathnameBase]))}return d}function Xh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=jw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),y=o.slice(1);return{params:a.reduce((E,{paramName:R,isOptional:I},P)=>{if(R==="*"){let me=y[P]||"";d=u.slice(0,u.length-me.length).replace(/(.)\/+$/,"$1")}const ne=y[P];return I&&!ne?E[R]=void 0:E[R]=(ne||"").replace(/%2F/g,"/"),E},{}),pathname:u,pathnameBase:d,pattern:i}}function jw(i,e=!1,n=!0){va(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,v)=>(a.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function zw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function es(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function qw(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Ql(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=I_(n.substring(1),"/"):u=I_(n,e)):u=e,{pathname:u,search:Kw(a),hash:Gw(o)}}function I_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Om(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fw(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c0(i){let e=Fw(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function h0(i,e,n,a=!1){let o;typeof i=="string"?o=Ql(i):(o={...i},un(!o.pathname||!o.pathname.includes("?"),Om("?","pathname","search",o)),un(!o.pathname||!o.pathname.includes("#"),Om("#","pathname","hash",o)),un(!o.search||!o.search.includes("#"),Om("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,y;if(d==null)y=n;else{let I=e.length-1;if(!a&&d.startsWith("..")){let P=d.split("/");for(;P[0]==="..";)P.shift(),I-=1;o.pathname=P.join("/")}y=I>=0?e[I]:"/"}let v=qw(o,y),E=d&&d!=="/"&&d.endsWith("/"),R=(u||d===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(E||R)&&(v.pathname+="/"),v}var Wa=i=>i.join("/").replace(/\/\/+/g,"/"),Hw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Kw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Gw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,Yw=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Qw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Xw(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var f0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d0(i,e){let n=i;if(typeof n!="string"||!Bw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(f0)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),y=es(d.pathname,e);d.origin===u.origin&&y!=null?n=y+d.search+d.hash:o=!0}catch{va(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m0=["POST","PUT","PATCH","DELETE"];new Set(m0);var $w=["GET",...m0];new Set($w);var Xl=oe.createContext(null);Xl.displayName="DataRouter";var yf=oe.createContext(null);yf.displayName="DataRouterState";var Jw=oe.createContext(!1),p0=oe.createContext({isTransitioning:!1});p0.displayName="ViewTransition";var Zw=oe.createContext(new Map);Zw.displayName="Fetchers";var Ww=oe.createContext(null);Ww.displayName="Await";var Ni=oe.createContext(null);Ni.displayName="Navigation";var fc=oe.createContext(null);fc.displayName="Location";var ba=oe.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var _p=oe.createContext(null);_p.displayName="RouteError";var g0="REACT_ROUTER_ERROR",eA="REDIRECT",tA="ROUTE_ERROR_RESPONSE";function nA(i){if(i.startsWith(`${g0}:${eA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rA(i){if(i.startsWith(`${g0}:${tA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Yw(e.status,e.statusText,e.data)}catch{}}function iA(i,{relative:e}={}){un(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=oe.useContext(Ni),{hash:o,pathname:u,search:d}=mc(i,{relative:e}),y=u;return n!=="/"&&(y=u==="/"?n:Wa([n,u])),a.createHref({pathname:y,search:d,hash:o})}function dc(){return oe.useContext(fc)!=null}function Ko(){return un(dc(),"useLocation() may be used only in the context of a <Router> component."),oe.useContext(fc).location}var y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v0(i){oe.useContext(Ni).static||oe.useLayoutEffect(i)}function $l(){let{isDataRoute:i}=oe.useContext(ba);return i?vA():aA()}function aA(){un(dc(),"useNavigate() may be used only in the context of a <Router> component.");let i=oe.useContext(Xl),{basename:e,navigator:n}=oe.useContext(Ni),{matches:a}=oe.useContext(ba),{pathname:o}=Ko(),u=JSON.stringify(c0(a)),d=oe.useRef(!1);return v0(()=>{d.current=!0}),oe.useCallback((v,E={})=>{if(va(d.current,y0),!d.current)return;if(typeof v=="number"){n.go(v);return}let R=h0(v,JSON.parse(u),o,E.relative==="path");i==null&&e!=="/"&&(R.pathname=R.pathname==="/"?e:Wa([e,R.pathname])),(E.replace?n.replace:n.push)(R,E.state,E)},[e,n,u,o,i])}oe.createContext(null);function sA(){let{matches:i}=oe.useContext(ba),e=i[i.length-1];return e?e.params:{}}function mc(i,{relative:e}={}){let{matches:n}=oe.useContext(ba),{pathname:a}=Ko(),o=JSON.stringify(c0(n));return oe.useMemo(()=>h0(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function oA(i,e){return _0(i,e)}function _0(i,e,n,a,o){un(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=oe.useContext(Ni),{matches:d}=oe.useContext(ba),y=d[d.length-1],v=y?y.params:{},E=y?y.pathname:"/",R=y?y.pathnameBase:"/",I=y&&y.route;{let Te=I&&I.path||"";b0(E,!I||Te.endsWith("*")||Te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${Te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Te}"> to <Route path="${Te==="/"?"*":`${Te}/*`}">.`)}let P=Ko(),ne;if(e){let Te=typeof e=="string"?Ql(e):e;un(R==="/"||Te.pathname?.startsWith(R),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${R}" but pathname "${Te.pathname}" was given in the \`location\` prop.`),ne=Te}else ne=P;let me=ne.pathname||"/",pe=me;if(R!=="/"){let Te=R.replace(/^\//,"").split("/");pe="/"+me.replace(/^\//,"").split("/").slice(Te.length).join("/")}let fe=o0(i,{pathname:pe});va(I||fe!=null,`No routes matched location "${ne.pathname}${ne.search}${ne.hash}" `),va(fe==null||fe[fe.length-1].route.element!==void 0||fe[fe.length-1].route.Component!==void 0||fe[fe.length-1].route.lazy!==void 0,`Matched leaf route at location "${ne.pathname}${ne.search}${ne.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Se=fA(fe&&fe.map(Te=>Object.assign({},Te,{params:Object.assign({},v,Te.params),pathname:Wa([R,u.encodeLocation?u.encodeLocation(Te.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Te.pathname]),pathnameBase:Te.pathnameBase==="/"?R:Wa([R,u.encodeLocation?u.encodeLocation(Te.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Te.pathnameBase])})),d,n,a,o);return e&&Se?oe.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ne},navigationType:"POP"}},Se):Se}function lA(){let i=yA(),e=Qw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:u},"ErrorBoundary")," or"," ",oe.createElement("code",{style:u},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:o},n):null,d)}var uA=oe.createElement(lA,null),E0=class extends oe.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=rA(i.digest);n&&(i=n)}let e=i!==void 0?oe.createElement(ba.Provider,{value:this.props.routeContext},oe.createElement(_p.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?oe.createElement(cA,{error:i},e):e}};E0.contextType=Jw;var Dm=new WeakMap;function cA({children:i,error:e}){let{basename:n}=oe.useContext(Ni);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=nA(e.digest);if(a){let o=Dm.get(e);if(o)throw o;let u=d0(a.location,n);if(f0&&!Dm.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Dm.set(e,d),d}return oe.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function hA({routeContext:i,match:e,children:n}){let a=oe.useContext(Xl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),oe.createElement(ba.Provider,{value:i},n)}function fA(i,e=[],n=null,a=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,d=n?.errors;if(d!=null){let R=u.findIndex(I=>I.route.id&&d?.[I.route.id]!==void 0);un(R>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,R+1))}let y=!1,v=-1;if(n)for(let R=0;R<u.length;R++){let I=u[R];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(v=R),I.route.id){let{loaderData:P,errors:ne}=n,me=I.route.loader&&!P.hasOwnProperty(I.route.id)&&(!ne||ne[I.route.id]===void 0);if(I.route.lazy||me){y=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let E=n&&a?(R,I)=>{a(R,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Xw(n.matches),errorInfo:I})}:void 0;return u.reduceRight((R,I,P)=>{let ne,me=!1,pe=null,fe=null;n&&(ne=d&&I.route.id?d[I.route.id]:void 0,pe=I.route.errorElement||uA,y&&(v<0&&P===0?(b0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),me=!0,fe=null):v===P&&(me=!0,fe=I.route.hydrateFallbackElement||null)));let Se=e.concat(u.slice(0,P+1)),Te=()=>{let Ne;return ne?Ne=pe:me?Ne=fe:I.route.Component?Ne=oe.createElement(I.route.Component,null):I.route.element?Ne=I.route.element:Ne=R,oe.createElement(hA,{match:I,routeContext:{outlet:R,matches:Se,isDataRoute:n!=null},children:Ne})};return n&&(I.route.ErrorBoundary||I.route.errorElement||P===0)?oe.createElement(E0,{location:n.location,revalidation:n.revalidation,component:pe,error:ne,children:Te(),routeContext:{outlet:null,matches:Se,isDataRoute:!0},onError:E}):Te()},null)}function Ep(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dA(i){let e=oe.useContext(Xl);return un(e,Ep(i)),e}function mA(i){let e=oe.useContext(yf);return un(e,Ep(i)),e}function pA(i){let e=oe.useContext(ba);return un(e,Ep(i)),e}function bp(i){let e=pA(i),n=e.matches[e.matches.length-1];return un(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function gA(){return bp("useRouteId")}function yA(){let i=oe.useContext(_p),e=mA("useRouteError"),n=bp("useRouteError");return i!==void 0?i:e.errors?.[n]}function vA(){let{router:i}=dA("useNavigate"),e=bp("useNavigate"),n=oe.useRef(!1);return v0(()=>{n.current=!0}),oe.useCallback(async(o,u={})=>{va(n.current,y0),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var O_={};function b0(i,e,n){!e&&!O_[i]&&(O_[i]=!0,va(!1,n))}oe.memo(_A);function _A({routes:i,future:e,state:n,onError:a}){return _0(i,void 0,n,a,e)}function Ys(i){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EA({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){un(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=i.replace(/^\/*/,"/"),v=oe.useMemo(()=>({basename:y,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[y,o,u,d]);typeof n=="string"&&(n=Ql(n));let{pathname:E="/",search:R="",hash:I="",state:P=null,key:ne="default"}=n,me=oe.useMemo(()=>{let pe=es(E,y);return pe==null?null:{location:{pathname:pe,search:R,hash:I,state:P,key:ne},navigationType:a}},[y,E,R,I,P,ne,a]);return va(me!=null,`<Router basename="${y}"> is not able to match the URL "${E}${R}${I}" because it does not start with the basename, so the <Router> won't render anything.`),me==null?null:oe.createElement(Ni.Provider,{value:v},oe.createElement(fc.Provider,{children:e,value:me}))}function bA({children:i,location:e}){return oA(Km(i),e)}function Km(i,e=[]){let n=[];return oe.Children.forEach(i,(a,o)=>{if(!oe.isValidElement(a))return;let u=[...e,o];if(a.type===oe.Fragment){n.push.apply(n,Km(a.props.children,u));return}un(a.type===Ys,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Km(a.props.children,u)),n.push(d)}),n}var Ph="get",Lh="application/x-www-form-urlencoded";function vf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function TA(i){return vf(i)&&i.tagName.toLowerCase()==="button"}function SA(i){return vf(i)&&i.tagName.toLowerCase()==="form"}function wA(i){return vf(i)&&i.tagName.toLowerCase()==="input"}function AA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RA(i,e){return i.button===0&&(!e||e==="_self")&&!AA(i)}var Ch=null;function CA(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var IA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(i){return i!=null&&!IA.has(i)?(va(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lh}"`),null):i}function OA(i,e){let n,a,o,u,d;if(SA(i)){let y=i.getAttribute("action");a=y?es(y,e):null,n=i.getAttribute("method")||Ph,o=xm(i.getAttribute("enctype"))||Lh,u=new FormData(i)}else if(TA(i)||wA(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=i.getAttribute("formaction")||y.getAttribute("action");if(a=v?es(v,e):null,n=i.getAttribute("formmethod")||y.getAttribute("method")||Ph,o=xm(i.getAttribute("formenctype"))||xm(y.getAttribute("enctype"))||Lh,u=new FormData(y,i),!CA()){let{name:E,type:R,value:I}=i;if(R==="image"){let P=E?`${E}.`:"";u.append(`${P}x`,"0"),u.append(`${P}y`,"0")}else E&&u.append(E,I)}}else{if(vf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ph,a=null,o=Lh,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function DA(i,e,n,a){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&es(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function xA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function MA(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await xA(u,n);return d.links?d.links():[]}return[]}));return LA(a.flat(1).filter(NA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D_(i,e,n,a,o,u){let d=(v,E)=>n[E]?v.route.id!==n[E].route.id:!0,y=(v,E)=>n[E].pathname!==v.pathname||n[E].route.path?.endsWith("*")&&n[E].params["*"]!==v.params["*"];return u==="assets"?e.filter((v,E)=>d(v,E)||y(v,E)):u==="data"?e.filter((v,E)=>{let R=a.routes[v.route.id];if(!R||!R.hasLoader)return!1;if(d(v,E)||y(v,E))return!0;if(v.route.shouldRevalidate){let I=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function VA(i,e,{includeHydrateFallback:n}={}){return kA(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function kA(i){return[...new Set(i)]}function PA(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function LA(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(PA(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function T0(){let i=oe.useContext(Xl);return Tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function UA(){let i=oe.useContext(yf);return Tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sp=oe.createContext(void 0);Sp.displayName="FrameworkContext";function S0(){let i=oe.useContext(Sp);return Tp(i,"You must render this element inside a <HydratedRouter> element"),i}function jA(i,e){let n=oe.useContext(Sp),[a,o]=oe.useState(!1),[u,d]=oe.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:E,onMouseLeave:R,onTouchStart:I}=e,P=oe.useRef(null);oe.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let pe=Se=>{Se.forEach(Te=>{d(Te.isIntersecting)})},fe=new IntersectionObserver(pe,{threshold:.5});return P.current&&fe.observe(P.current),()=>{fe.disconnect()}}},[i]),oe.useEffect(()=>{if(a){let pe=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(pe)}}},[a]);let ne=()=>{o(!0)},me=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,P,{}]:[u,P,{onFocus:Hu(y,ne),onBlur:Hu(v,me),onMouseEnter:Hu(E,ne),onMouseLeave:Hu(R,me),onTouchStart:Hu(I,ne)}]:[!1,P,{}]}function Hu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function zA({page:i,...e}){let{router:n}=T0(),a=oe.useMemo(()=>o0(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?oe.createElement(qA,{page:i,matches:a,...e}):null}function BA(i){let{manifest:e,routeModules:n}=S0(),[a,o]=oe.useState([]);return oe.useEffect(()=>{let u=!1;return MA(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),a}function qA({page:i,matches:e,...n}){let a=Ko(),{future:o,manifest:u,routeModules:d}=S0(),{basename:y}=T0(),{loaderData:v,matches:E}=UA(),R=oe.useMemo(()=>D_(i,e,E,u,a,"data"),[i,e,E,u,a]),I=oe.useMemo(()=>D_(i,e,E,u,a,"assets"),[i,e,E,u,a]),P=oe.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let pe=new Set,fe=!1;if(e.forEach(Te=>{let Ne=u.routes[Te.route.id];!Ne||!Ne.hasLoader||(!R.some(We=>We.route.id===Te.route.id)&&Te.route.id in v&&d[Te.route.id]?.shouldRevalidate||Ne.hasClientLoader?fe=!0:pe.add(Te.route.id))}),pe.size===0)return[];let Se=DA(i,y,o.unstable_trailingSlashAwareDataRequests,"data");return fe&&pe.size>0&&Se.searchParams.set("_routes",e.filter(Te=>pe.has(Te.route.id)).map(Te=>Te.route.id).join(",")),[Se.pathname+Se.search]},[y,o.unstable_trailingSlashAwareDataRequests,v,a,u,R,e,i,d]),ne=oe.useMemo(()=>VA(I,u),[I,u]),me=BA(I);return oe.createElement(oe.Fragment,null,P.map(pe=>oe.createElement("link",{key:pe,rel:"prefetch",as:"fetch",href:pe,...n})),ne.map(pe=>oe.createElement("link",{key:pe,rel:"modulepreload",href:pe,...n})),me.map(({key:pe,link:fe})=>oe.createElement("link",{key:pe,nonce:n.nonce,...fe,crossOrigin:fe.crossOrigin??n.crossOrigin})))}function FA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HA&&(window.__reactRouterVersion="7.13.0")}catch{}function KA({basename:i,children:e,unstable_useTransitions:n,window:a}){let o=oe.useRef();o.current==null&&(o.current=ww({window:a,v5Compat:!0}));let u=o.current,[d,y]=oe.useState({action:u.action,location:u.location}),v=oe.useCallback(E=>{n===!1?y(E):oe.startTransition(()=>y(E))},[n]);return oe.useLayoutEffect(()=>u.listen(v),[u,v]),oe.createElement(EA,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var w0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wp=oe.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:y,target:v,to:E,preventScrollReset:R,viewTransition:I,unstable_defaultShouldRevalidate:P,...ne},me){let{basename:pe,unstable_useTransitions:fe}=oe.useContext(Ni),Se=typeof E=="string"&&w0.test(E),Te=d0(E,pe);E=Te.to;let Ne=iA(E,{relative:o}),[We,st,Ye]=jA(a,ne),N=QA(E,{replace:d,state:y,target:v,preventScrollReset:R,relative:o,viewTransition:I,unstable_defaultShouldRevalidate:P,unstable_useTransitions:fe});function M(G){e&&e(G),G.defaultPrevented||N(G)}let L=oe.createElement("a",{...ne,...Ye,href:Te.absoluteURL||Ne,onClick:Te.isExternal||u?e:M,ref:FA(me,st),target:v,"data-discover":!Se&&n==="render"?"true":void 0});return We&&!Se?oe.createElement(oe.Fragment,null,L,oe.createElement(zA,{page:Ne})):L});wp.displayName="Link";var Gu=oe.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:y,children:v,...E},R){let I=mc(d,{relative:E.relative}),P=Ko(),ne=oe.useContext(yf),{navigator:me,basename:pe}=oe.useContext(Ni),fe=ne!=null&&WA(I)&&y===!0,Se=me.encodeLocation?me.encodeLocation(I).pathname:I.pathname,Te=P.pathname,Ne=ne&&ne.navigation&&ne.navigation.location?ne.navigation.location.pathname:null;n||(Te=Te.toLowerCase(),Ne=Ne?Ne.toLowerCase():null,Se=Se.toLowerCase()),Ne&&pe&&(Ne=es(Ne,pe)||Ne);const We=Se!=="/"&&Se.endsWith("/")?Se.length-1:Se.length;let st=Te===Se||!o&&Te.startsWith(Se)&&Te.charAt(We)==="/",Ye=Ne!=null&&(Ne===Se||!o&&Ne.startsWith(Se)&&Ne.charAt(Se.length)==="/"),N={isActive:st,isPending:Ye,isTransitioning:fe},M=st?e:void 0,L;typeof a=="function"?L=a(N):L=[a,st?"active":null,Ye?"pending":null,fe?"transitioning":null].filter(Boolean).join(" ");let G=typeof u=="function"?u(N):u;return oe.createElement(wp,{...E,"aria-current":M,className:L,ref:R,style:G,to:d,viewTransition:y},typeof v=="function"?v(N):v)});Gu.displayName="NavLink";var GA=oe.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:d=Ph,action:y,onSubmit:v,relative:E,preventScrollReset:R,viewTransition:I,unstable_defaultShouldRevalidate:P,...ne},me)=>{let{unstable_useTransitions:pe}=oe.useContext(Ni),fe=JA(),Se=ZA(y,{relative:E}),Te=d.toLowerCase()==="get"?"get":"post",Ne=typeof y=="string"&&w0.test(y),We=st=>{if(v&&v(st),st.defaultPrevented)return;st.preventDefault();let Ye=st.nativeEvent.submitter,N=Ye?.getAttribute("formmethod")||d,M=()=>fe(Ye||st.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:E,preventScrollReset:R,viewTransition:I,unstable_defaultShouldRevalidate:P});pe&&n!==!1?oe.startTransition(()=>M()):M()};return oe.createElement("form",{ref:me,method:Te,action:Se,onSubmit:a?v:We,...ne,"data-discover":!Ne&&i==="render"?"true":void 0})});GA.displayName="Form";function YA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A0(i){let e=oe.useContext(Xl);return un(e,YA(i)),e}function QA(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v}={}){let E=$l(),R=Ko(),I=mc(i,{relative:u});return oe.useCallback(P=>{if(RA(P,e)){P.preventDefault();let ne=n!==void 0?n:nc(R)===nc(I),me=()=>E(i,{replace:ne,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:y});v?oe.startTransition(()=>me()):me()}},[R,E,I,n,a,e,i,o,u,d,y,v])}var XA=0,$A=()=>`__${String(++XA)}__`;function JA(){let{router:i}=A0("useSubmit"),{basename:e}=oe.useContext(Ni),n=gA(),a=i.fetch,o=i.navigate;return oe.useCallback(async(u,d={})=>{let{action:y,method:v,encType:E,formData:R,body:I}=OA(u,e);if(d.navigate===!1){let P=d.fetcherKey||$A();await a(P,n,d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:R,body:I,formMethod:d.method||v,formEncType:d.encType||E,flushSync:d.flushSync})}else await o(d.action||y,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:R,body:I,formMethod:d.method||v,formEncType:d.encType||E,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,o,e,n])}function ZA(i,{relative:e}={}){let{basename:n}=oe.useContext(Ni),a=oe.useContext(ba);un(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...mc(i||".",{relative:e})},d=Ko();if(i==null){u.search=d.search;let y=new URLSearchParams(u.search),v=y.getAll("index");if(v.some(R=>R==="")){y.delete("index"),v.filter(I=>I).forEach(I=>y.append("index",I));let R=y.toString();u.search=R?`?${R}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wa([n,u.pathname])),nc(u)}function WA(i,{relative:e}={}){let n=oe.useContext(p0);un(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=A0("useViewTransitionState"),o=mc(i,{relative:e});if(!n.isTransitioning)return!1;let u=es(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=es(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Xh(o.pathname,d)!=null||Xh(o.pathname,u)!=null}const e1=()=>{};var x_={};const R0=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},t1=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],y=i[n++],v=((o&7)<<18|(u&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const u=i[n++],d=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,y=d?i[o+1]:0,v=o+2<i.length,E=v?i[o+2]:0,R=u>>2,I=(u&3)<<4|y>>4;let P=(y&15)<<2|E>>6,ne=E&63;v||(ne=64,d||(P=64)),a.push(n[R],n[I],n[P],n[ne])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(R0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):t1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],y=o<i.length?n[i.charAt(o)]:0;++o;const E=o<i.length?n[i.charAt(o)]:64;++o;const I=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||y==null||E==null||I==null)throw new n1;const P=u<<2|y>>4;if(a.push(P),E!==64){const ne=y<<4&240|E>>2;if(a.push(ne),I!==64){const me=E<<6&192|I;a.push(me)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(i){const e=R0(i);return C0.encodeByteArray(e,!0)},$h=function(i){return r1(i).replace(/\./g,"")},I0=function(i){try{return C0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function i1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const a1=()=>i1().__FIREBASE_DEFAULTS__,s1=()=>{if(typeof process>"u"||typeof x_>"u")return;const i=x_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},o1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&I0(i[1]);return e&&JSON.parse(e)},_f=()=>{try{return e1()||a1()||s1()||o1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},O0=i=>_f()?.emulatorHosts?.[i],l1=i=>{const e=O0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},D0=()=>_f()?.config,x0=i=>_f()?.[`_${i}`];class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Jl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(i){return(await fetch(i,{credentials:"include"})).ok}function c1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[$h(JSON.stringify(n)),$h(JSON.stringify(d)),""].join(".")}const $u={};function h1(){const i={prod:[],emulator:[]};for(const e of Object.keys($u))$u[e]?i.emulator.push(e):i.prod.push(e);return i}function f1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let N_=!1;function M0(i,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||$u[i]===e||$u[i]||N_)return;$u[i]=e;function n(P){return`__firebase__banner__${P}`}const a="__firebase__banner",u=h1().prod.length>0;function d(){const P=document.getElementById(a);P&&P.remove()}function y(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function v(P,ne){P.setAttribute("width","24"),P.setAttribute("id",ne),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function E(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{N_=!0,d()},P}function R(P,ne){P.setAttribute("id",ne),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function I(){const P=f1(a),ne=n("text"),me=document.getElementById(ne)||document.createElement("span"),pe=n("learnmore"),fe=document.getElementById(pe)||document.createElement("a"),Se=n("preprendIcon"),Te=document.getElementById(Se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const Ne=P.element;y(Ne),R(fe,pe);const We=E();v(Te,Se),Ne.append(Te,me,fe,We),document.body.appendChild(Ne)}u?(me.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,me.innerText="Preview backend running in this workspace."),me.setAttribute("id",ne)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function m1(){const i=_f()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function y1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const i=hr();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const T1="FirebaseError";class ss extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=T1,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?S1(u,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new ss(o,y,a)}}function S1(i,e){return i.replace(w1,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const w1=/\{\$([^}]+)}/g;function A1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function zo(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],d=e[o];if(M_(u)&&M_(d)){if(!zo(u,d))return!1}else if(u!==d)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function M_(i){return i!==null&&typeof i=="object"}function gc(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function R1(i,e){const n=new C1(i,e);return n.subscribe.bind(n)}class C1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");I1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Nm(){}function xi(i){return i&&i._delegate?i._delegate:i}class Bo{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lo="[DEFAULT]";class O1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new u1;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x1(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(u);a===y&&d.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D1(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(i){return i===Lo?void 0:i}function x1(i){return i.instantiationMode==="EAGER"}class N1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(bt||(bt={}));const M1={debug:bt.DEBUG,verbose:bt.VERBOSE,info:bt.INFO,warn:bt.WARN,error:bt.ERROR,silent:bt.SILENT},V1=bt.INFO,k1={[bt.DEBUG]:"log",[bt.VERBOSE]:"log",[bt.INFO]:"info",[bt.WARN]:"warn",[bt.ERROR]:"error"},P1=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=k1[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=P1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,bt.DEBUG,...e),this._logHandler(this,bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,bt.VERBOSE,...e),this._logHandler(this,bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,bt.INFO,...e),this._logHandler(this,bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,bt.WARN,...e),this._logHandler(this,bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,bt.ERROR,...e),this._logHandler(this,bt.ERROR,...e)}}const L1=(i,e)=>e.some(n=>i instanceof n);let V_,k_;function U1(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j1(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Gm=new WeakMap,k0=new WeakMap,Mm=new WeakMap,Rp=new WeakMap;function z1(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(eo(i.result)),o()},d=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&V0.set(n,i)}).catch(()=>{}),Rp.set(e,i),e}function B1(i){if(Gm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Gm.set(i,e)}let Ym={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Gm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||k0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function q1(i){Ym=i(Ym)}function F1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Vm(this),e,...n);return k0.set(a,e.sort?e.sort():[e]),eo(a)}:j1().includes(i)?function(...e){return i.apply(Vm(this),e),eo(V0.get(this))}:function(...e){return eo(i.apply(Vm(this),e))}}function H1(i){return typeof i=="function"?F1(i):(i instanceof IDBTransaction&&B1(i),L1(i,U1())?new Proxy(i,Ym):i)}function eo(i){if(i instanceof IDBRequest)return z1(i);if(Mm.has(i))return Mm.get(i);const e=H1(i);return e!==i&&(Mm.set(i,e),Rp.set(e,i)),e}const Vm=i=>Rp.get(i);function K1(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),y=eo(d);return a&&d.addEventListener("upgradeneeded",v=>{a(eo(d.result),v.oldVersion,v.newVersion,eo(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),y.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",E=>o(E.oldVersion,E.newVersion,E))}).catch(()=>{}),y}const G1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],km=new Map;function P_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Y1.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||G1.includes(n)))return;const u=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let E=v.store;return a&&(E=E.index(y.shift())),(await Promise.all([E[n](...y),o&&v.done]))[0]};return km.set(e,u),u}q1(i=>({...i,get:(e,n,a)=>P_(e,n)||i.get(e,n,a),has:(e,n)=>!!P_(e,n)||i.has(e,n)}));class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X1(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function X1(i){return i.getComponent()?.type==="VERSION"}const Qm="@firebase/app",L_="0.14.7";const ts=new Ap("@firebase/app"),$1="@firebase/app-compat",J1="@firebase/analytics-compat",Z1="@firebase/analytics",W1="@firebase/app-check-compat",eR="@firebase/app-check",tR="@firebase/auth",nR="@firebase/auth-compat",rR="@firebase/database",iR="@firebase/data-connect",aR="@firebase/database-compat",sR="@firebase/functions",oR="@firebase/functions-compat",lR="@firebase/installations",uR="@firebase/installations-compat",cR="@firebase/messaging",hR="@firebase/messaging-compat",fR="@firebase/performance",dR="@firebase/performance-compat",mR="@firebase/remote-config",pR="@firebase/remote-config-compat",gR="@firebase/storage",yR="@firebase/storage-compat",vR="@firebase/firestore",_R="@firebase/ai",ER="@firebase/firestore-compat",bR="firebase",TR="12.8.0";const Xm="[DEFAULT]",SR={[Qm]:"fire-core",[$1]:"fire-core-compat",[Z1]:"fire-analytics",[J1]:"fire-analytics-compat",[eR]:"fire-app-check",[W1]:"fire-app-check-compat",[tR]:"fire-auth",[nR]:"fire-auth-compat",[rR]:"fire-rtdb",[iR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[sR]:"fire-fn",[oR]:"fire-fn-compat",[lR]:"fire-iid",[uR]:"fire-iid-compat",[cR]:"fire-fcm",[hR]:"fire-fcm-compat",[fR]:"fire-perf",[dR]:"fire-perf-compat",[mR]:"fire-rc",[pR]:"fire-rc-compat",[gR]:"fire-gcs",[yR]:"fire-gcs-compat",[vR]:"fire-fst",[ER]:"fire-fst-compat",[_R]:"fire-vertex","fire-js":"fire-js",[bR]:"fire-js-all"};const Jh=new Map,wR=new Map,$m=new Map;function U_(i,e){try{i.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function jl(i){const e=i.name;if($m.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,i);for(const n of Jh.values())U_(n,i);for(const n of wR.values())U_(n,i);return!0}function Cp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ca(i){return i==null?!1:i.settings!==void 0}const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new pc("app","Firebase",AR);class RR{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}const Zl=TR;function P0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:Xm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw to.create("bad-app-name",{appName:String(o)});if(n||(n=D0()),!n)throw to.create("no-options");const u=Jh.get(o);if(u){if(zo(n,u.options)&&zo(a,u.config))return u;throw to.create("duplicate-app",{appName:o})}const d=new N1(o);for(const v of $m.values())d.addComponent(v);const y=new RR(n,a,d);return Jh.set(o,y),y}function L0(i=Xm){const e=Jh.get(i);if(!e&&i===Xm&&D0())return P0();if(!e)throw to.create("no-app",{appName:i});return e}function no(i,e,n){let a=SR[i]??i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}jl(new Bo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const CR="firebase-heartbeat-database",IR=1,rc="firebase-heartbeat-store";let Pm=null;function U0(){return Pm||(Pm=K1(CR,IR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(i=>{throw to.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function OR(i){try{const n=(await U0()).transaction(rc),a=await n.objectStore(rc).get(j0(i));return await n.done,a}catch(e){if(e instanceof ss)ts.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e?.message});ts.warn(n.message)}}}async function j_(i,e){try{const a=(await U0()).transaction(rc,"readwrite");await a.objectStore(rc).put(e,j0(i)),await a.done}catch(n){if(n instanceof ss)ts.warn(n.message);else{const a=to.create("idb-set",{originalErrorMessage:n?.message});ts.warn(a.message)}}}function j0(i){return`${i.name}!${i.options.appId}`}const DR=1024,xR=30;class NR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>xR){const o=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z_(),{heartbeatsToSend:n,unsentEntries:a}=MR(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ts.warn(e),""}}}function z_(){return new Date().toISOString().substring(0,10)}function MR(i,e=DR){const n=[];let a=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),B_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),B_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class VR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return j_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function B_(i){return $h(JSON.stringify({version:2,heartbeats:i})).length}function kR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}function PR(i){jl(new Bo("platform-logger",e=>new Q1(e),"PRIVATE")),jl(new Bo("heartbeat",e=>new NR(e),"PRIVATE")),no(Qm,L_,i),no(Qm,L_,"esm2020"),no("fire-js","")}PR("");function z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LR=z0,B0=new pc("auth","Firebase",z0());const Zh=new Ap("@firebase/auth");function UR(i,...e){Zh.logLevel<=bt.WARN&&Zh.warn(`Auth (${Zl}): ${i}`,...e)}function Uh(i,...e){Zh.logLevel<=bt.ERROR&&Zh.error(`Auth (${Zl}): ${i}`,...e)}function ns(i,...e){throw Ip(i,...e)}function ha(i,...e){return Ip(i,...e)}function q0(i,e,n){const a={...LR(),[e]:n};return new pc("auth","Firebase",a).create(e,{appName:i.name})}function jo(i){return q0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return B0.create(i,...e)}function tt(i,e,...n){if(!i)throw Ip(e,...n)}function Ja(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Uh(e),new Error(e)}function rs(i,e){i||Ja(e)}function Jm(){return typeof self<"u"&&self.location?.href||""}function jR(){return q_()==="http:"||q_()==="https:"}function q_(){return typeof self<"u"&&self.location?.protocol||null}function zR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jR()||g1()||"connection"in navigator)?navigator.onLine:!0}function BR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=d1()||y1()}get(){return zR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(i,e){rs(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class F0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HR=new yc(3e4,6e4);function Dp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Wl(i,e,n,a,o={}){return H0(i,o,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const y=gc({key:i.config.apiKey,...d}).slice(1),v=await i._getAdditionalHeaders();v["Content-Type"]="application/json",i.languageCode&&(v["X-Firebase-Locale"]=i.languageCode);const E={method:e,headers:v,...u};return p1()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&Jl(i.emulatorConfig.host)&&(E.credentials="include"),F0.fetch()(await K0(i,i.config.apiHost,n,y),E)})}async function H0(i,e,n){i._canInitEmulator=!1;const a={...qR,...e};try{const o=new GR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Ih(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const y=u.ok?d.errorMessage:d.error.message,[v,E]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(i,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ih(i,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ih(i,"user-disabled",d);const R=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw q0(i,R,E);ns(i,R)}}catch(o){if(o instanceof ss)throw o;ns(i,"network-request-failed",{message:String(o)})}}async function KR(i,e,n,a,o={}){const u=await Wl(i,e,n,a,o);return"mfaPendingCredential"in u&&ns(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function K0(i,e,n,a){const o=`${e}${n}?${a}`,u=i,d=u.config.emulator?Op(i.config,o):`${i.config.apiScheme}://${o}`;return FR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ha(this.auth,"network-request-failed")),HR.get())})}}function Ih(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ha(i,e,a);return o.customData._tokenResponse=n,o}async function YR(i,e){return Wl(i,"POST","/v1/accounts:delete",e)}async function Wh(i,e){return Wl(i,"POST","/v1/accounts:lookup",e)}function Ju(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QR(i,e=!1){const n=xi(i),a=await n.getIdToken(e),o=xp(a);tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:a,authTime:Ju(Lm(o.auth_time)),issuedAtTime:Ju(Lm(o.iat)),expirationTime:Ju(Lm(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Lm(i){return Number(i)*1e3}function xp(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=I0(n);return o?JSON.parse(o):(Uh("Failed to decode base64 JWT payload"),null)}catch(o){return Uh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function F_(i){const e=xp(i);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ic(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ss&&XR(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function XR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ju(this.lastLoginAt),this.creationTime=Ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ef(i){const e=i.auth,n=await i.getIdToken(),a=await ic(i,Wh(e,{idToken:n}));tt(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?G0(o.providerUserInfo):[],d=ZR(i.providerData,u),y=i.isAnonymous,v=!(i.email&&o.passwordHash)&&!d?.length,E=y?v:!1,R={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:E};Object.assign(i,R)}async function JR(i){const e=xi(i);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZR(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function G0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function WR(i,e){const n=await H0(i,{},async()=>{const a=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await K0(i,o,"/v1/token",`key=${u}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return i.emulatorConfig&&Jl(i.emulatorConfig.host)&&(v.credentials="include"),F0.fetch()(d,v)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eC(i,e){return Wl(i,"POST","/v2/accounts:revokeToken",Dp(i,e))}class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await WR(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,d=new Nl;return a&&(tt(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(tt(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(tt(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Ja("not implemented")}}function Gs(i,e){tt(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ki{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QR(this,e)}reload(){return JR(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await ef(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ca(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await ic(this,YR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,y=n.tenantId??void 0,v=n._redirectEventId??void 0,E=n.createdAt??void 0,R=n.lastLoginAt??void 0,{uid:I,emailVerified:P,isAnonymous:ne,providerData:me,stsTokenManager:pe}=n;tt(I&&pe,e,"internal-error");const fe=Nl.fromJSON(this.name,pe);tt(typeof I=="string",e,"internal-error"),Gs(a,e.name),Gs(o,e.name),tt(typeof P=="boolean",e,"internal-error"),tt(typeof ne=="boolean",e,"internal-error"),Gs(u,e.name),Gs(d,e.name),Gs(y,e.name),Gs(v,e.name),Gs(E,e.name),Gs(R,e.name);const Se=new Ki({uid:I,auth:e,email:o,emailVerified:P,displayName:a,isAnonymous:ne,photoURL:d,phoneNumber:u,tenantId:y,stsTokenManager:fe,createdAt:E,lastLoginAt:R});return me&&Array.isArray(me)&&(Se.providerData=me.map(Te=>({...Te}))),v&&(Se._redirectEventId=v),Se}static async _fromIdTokenResponse(e,n,a=!1){const o=new Nl;o.updateFromServerResponse(n);const u=new Ki({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ef(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?G0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,y=new Nl;y.updateFromIdToken(a);const v=new Ki({uid:o.localId,auth:e,stsTokenManager:y,isAnonymous:d}),E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(v,E),v}}const H_=new Map;function Za(i){rs(i instanceof Function,"Expected a class definition");let e=H_.get(i);return e?(rs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,H_.set(i,e),e)}class Y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y0.type="NONE";const K_=Y0;function jh(i,e,n){return`firebase:${i}:${e}:${n}`}class Ml{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=jh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?Ki._fromGetAccountInfoResponse(this.auth,n,e):null}return Ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Ml(Za(K_),e,a);const o=(await Promise.all(n.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let u=o[0]||Za(K_);const d=jh(a,e.config.apiKey,e.name);let y=null;for(const E of n)try{const R=await E._get(d);if(R){let I;if(typeof R=="string"){const P=await Wh(e,{idToken:R}).catch(()=>{});if(!P)break;I=await Ki._fromGetAccountInfoResponse(e,P,R)}else I=Ki._fromJSON(e,R);E!==u&&(y=I),u=E;break}}catch{}const v=o.filter(E=>E._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new Ml(u,e,a):(u=v[0],y&&await u._set(d,y.toJSON()),await Promise.all(n.map(async E=>{if(E!==u)try{await E._remove(d)}catch{}})),new Ml(u,e,a))}}function G_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W0(e))return"Blackberry";if(eb(e))return"Webos";if(X0(e))return"Safari";if((e.includes("chrome/")||$0(e))&&!e.includes("edge/"))return"Chrome";if(Z0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function Q0(i=hr()){return/firefox\//i.test(i)}function X0(i=hr()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $0(i=hr()){return/crios\//i.test(i)}function J0(i=hr()){return/iemobile/i.test(i)}function Z0(i=hr()){return/android/i.test(i)}function W0(i=hr()){return/blackberry/i.test(i)}function eb(i=hr()){return/webos/i.test(i)}function Np(i=hr()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function tC(i=hr()){return Np(i)&&!!window.navigator?.standalone}function nC(){return v1()&&document.documentMode===10}function tb(i=hr()){return Np(i)||Z0(i)||eb(i)||W0(i)||/windows phone/i.test(i)||J0(i)}function nb(i,e=[]){let n;switch(i){case"Browser":n=G_(hr());break;case"Worker":n=`${G_(hr())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${a}`}class rC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,y)=>{try{const v=e(u);d(v)}catch(v){y(v)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function iC(i,e={}){return Wl(i,"GET","/v2/passwordPolicy",Dp(i,e))}const aC=6;class sC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class oC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Za(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),a=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ca(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!u||u===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ca(this.app))return Promise.reject(jo(this));const n=e?xi(e):null;return n&&tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ca(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ca(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Za(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iC(this),n=new sC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await eC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Za(e)||this._popupRedirectResolver;tt(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Za(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(y,this,"internal-error"),y.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const v=e.addObserver(n,a,o);return()=>{d=!0,v()}}else{const v=e.addObserver(n);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ca(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mp(i){return xi(i)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=R1(n=>this.observer=n)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lC(i){Vp=i}function uC(i){return Vp.loadJS(i)}function cC(){return Vp.gapiScript}function hC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function fC(i,e){const n=Cp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(zo(u,e??{}))return o;ns(o,"already-initialized")}return n.initialize({options:e})}function dC(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Za);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function mC(i,e,n){const a=Mp(i);tt(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=rb(e),{host:d,port:y}=pC(e),v=y===null?"":`:${y}`,E={url:`${u}//${d}${v}/`},R=Object.freeze({host:d,port:y,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),tt(zo(E,a.config.emulator)&&zo(R,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=R,a.settings.appVerificationDisabledForTesting=!0,Jl(d)?(N0(`${u}//${d}${v}`),M0("Auth",!0)):gC()}function rb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pC(i){const e=rb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Q_(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:Q_(d)}}}function Q_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ib{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ja("not implemented")}_getIdTokenResponse(e){return Ja("not implemented")}_linkToIdToken(e,n){return Ja("not implemented")}_getReauthenticationResolver(e){return Ja("not implemented")}}async function Vl(i,e){return KR(i,"POST","/v1/accounts:signInWithIdp",Dp(i,e))}const yC="http://localhost";class qo extends ib{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ns("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const d=new qo(a,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Vl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:yC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}class ab{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vc extends ab{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends vc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Xs extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Xs.credential(n,a)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";class $s extends vc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";class Js extends vc{constructor(){super("twitter.com")}static credential(e,n){return qo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Js.credential(n,a)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";class zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Ki._fromIdTokenResponse(e,a,o),d=X_(a);return new zl({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=X_(a);return new zl({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function X_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class tf extends ss{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new tf(e,n,a,o)}}function sb(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(i,u,e,a):u})}async function vC(i,e,n=!1){const a=await ic(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return zl._forOperation(i,"link",a)}async function _C(i,e,n=!1){const{auth:a}=i;if(ca(a.app))return Promise.reject(jo(a));const o="reauthenticate";try{const u=await ic(i,sb(a,o,e,i),n);tt(u.idToken,a,"internal-error");const d=xp(u.idToken);tt(d,a,"internal-error");const{sub:y}=d;return tt(i.uid===y,a,"user-mismatch"),zl._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ns(a,"user-mismatch"),u}}async function EC(i,e,n=!1){if(ca(i.app))return Promise.reject(jo(i));const a="signIn",o=await sb(i,a,e),u=await zl._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function bC(i,e,n,a){return xi(i).onIdTokenChanged(e,n,a)}function TC(i,e,n){return xi(i).beforeAuthStateChanged(e,n)}function SC(i,e,n,a){return xi(i).onAuthStateChanged(e,n,a)}const nf="__sak";class ob{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wC=1e3,AC=10;class lb extends ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,y,v)=>{this.notifyListeners(d,v)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);nC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AC):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lb.type="LOCAL";const RC=lb;class ub extends ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ub.type="SESSION";const cb=ub;function CC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Ef(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async E=>E(n.origin,u)),v=await CC(y);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];function kp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}class IC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((y,v)=>{const E=kp("",20);o.port1.start();const R=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(I){const P=I;if(P.data.eventId===E)switch(P.data.status){case"ack":clearTimeout(R),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),y(P.data.response);break;default:clearTimeout(R),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:E,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function fa(){return window}function OC(i){fa().location.href=i}function hb(){return typeof fa().WorkerGlobalScope<"u"&&typeof fa().importScripts=="function"}async function DC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){return navigator?.serviceWorker?.controller||null}function NC(){return hb()?self:null}const fb="firebaseLocalStorageDb",MC=1,rf="firebaseLocalStorage",db="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(i,e){return i.transaction([rf],e?"readwrite":"readonly").objectStore(rf)}function VC(){const i=indexedDB.deleteDatabase(fb);return new _c(i).toPromise()}function Wm(){const i=indexedDB.open(fb,MC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(rf,{keyPath:db})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(rf)?e(a):(a.close(),await VC(),e(await Wm()))})})}async function $_(i,e,n){const a=bf(i,!0).put({[db]:e,value:n});return new _c(a).toPromise()}async function kC(i,e){const n=bf(i,!1).get(e),a=await new _c(n).toPromise();return a===void 0?null:a.value}function J_(i,e){const n=bf(i,!0).delete(e);return new _c(n).toPromise()}const PC=800,LC=3;class mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>LC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(NC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DC(),!this.activeServiceWorker)return;this.sender=new IC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await $_(e,nf,"1"),await J_(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>$_(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>kC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=bf(o,!1).getAll();return new _c(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mb.type="LOCAL";const UC=mb;new yc(3e4,6e4);function jC(i,e){return e?Za(e):(tt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Pp extends ib{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zC(i){return EC(i.auth,new Pp(i),i.bypassAuthState)}function BC(i){const{auth:e,user:n}=i;return tt(n,e,"internal-error"),_C(n,new Pp(i),i.bypassAuthState)}async function qC(i){const{auth:e,user:n}=i;return tt(n,e,"internal-error"),vC(n,new Pp(i),i.bypassAuthState)}class pb{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:d,type:y}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(E){this.reject(E)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zC;case"linkViaPopup":case"linkViaRedirect":return qC;case"reauthViaPopup":case"reauthViaRedirect":return BC;default:ns(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FC=new yc(2e3,1e4);class xl extends pb{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ha(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ha(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ha(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FC.get())};e()}}xl.currentPopupAction=null;const HC="pendingRedirect",zh=new Map;class KC extends pb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const a=await GC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(i,e){const n=XC(e),a=QC(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function YC(i,e){zh.set(i._key(),e)}function QC(i){return Za(i._redirectPersistence)}function XC(i){return jh(HC,i.config.apiKey,i.name)}async function $C(i,e,n=!1){if(ca(i.app))return Promise.reject(jo(i));const a=Mp(i),o=jC(a,e),d=await new KC(a,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const JC=600*1e3;class ZC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!gb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ha(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function gb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function WC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gb(i);default:return!1}}async function eI(i,e={}){return Wl(i,"GET","/v1/projects",e)}const tI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nI=/^https?/;async function rI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eI(i);for(const n of e)try{if(iI(n))return}catch{}ns(i,"unauthorized-domain")}function iI(i){const e=Jm(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!nI.test(n))return!1;if(tI.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const aI=new yc(3e4,6e4);function W_(){const i=fa().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function sI(i){return new Promise((e,n)=>{function a(){W_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W_(),n(ha(i,"network-request-failed"))},timeout:aI.get()})}if(fa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fa().gapi?.load)a();else{const o=hC("iframefcb");return fa()[o]=()=>{gapi.load?a():n(ha(i,"network-request-failed"))},uC(`${cC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Bh=null,e})}let Bh=null;function oI(i){return Bh=Bh||sI(i),Bh}const lI=new yc(5e3,15e3),uI="__/auth/iframe",cI="emulator/auth/iframe",hI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dI(i){const e=i.config;tt(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Op(e,cI):`https://${i.config.authDomain}/${uI}`,a={apiKey:e.apiKey,appName:i.name,v:Zl},o=fI.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${gc(a).slice(1)}`}async function mI(i){const e=await oI(i),n=fa().gapi;return tt(n,i,"internal-error"),e.open({where:document.body,url:dI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const d=ha(i,"network-request-failed"),y=fa().setTimeout(()=>{u(d)},lI.get());function v(){fa().clearTimeout(y),o(a)}a.ping(v).then(v,()=>{u(d)})}))}const pI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gI=500,yI=600,vI="_blank",_I="http://localhost";class eE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EI(i,e,n,a=gI,o=yI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v={...pI,width:a.toString(),height:o.toString(),top:u,left:d},E=hr().toLowerCase();n&&(y=$0(E)?vI:n),Q0(E)&&(e=e||_I,v.scrollbars="yes");const R=Object.entries(v).reduce((P,[ne,me])=>`${P}${ne}=${me},`,"");if(tC(E)&&y!=="_self")return bI(e||"",y),new eE(null);const I=window.open(e||"",y,R);tt(I,i,"popup-blocked");try{I.focus()}catch{}return new eE(I)}function bI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const TI="__/auth/handler",SI="emulator/auth/handler",wI=encodeURIComponent("fac");async function tE(i,e,n,a,o,u){tt(i.config.authDomain,i,"auth-domain-config-required"),tt(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Zl,eventId:o};if(e instanceof ab){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",A1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[R,I]of Object.entries({}))d[R]=I}if(e instanceof vc){const R=e.getScopes().filter(I=>I!=="");R.length>0&&(d.scopes=R.join(","))}i.tenantId&&(d.tid=i.tenantId);const y=d;for(const R of Object.keys(y))y[R]===void 0&&delete y[R];const v=await i._getAppCheckToken(),E=v?`#${wI}=${encodeURIComponent(v)}`:"";return`${AI(i)}?${gc(y).slice(1)}${E}`}function AI({config:i}){return i.emulator?Op(i,SI):`https://${i.authDomain}/${TI}`}const Um="webStorageSupport";class RI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=$C,this._overrideRedirectResult=YC}async _openPopup(e,n,a,o){rs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await tE(e,n,a,Jm(),o);return EI(e,u,kp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await tE(e,n,a,Jm(),o);return OC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rs(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await mI(e),a=new ZC(e);return n.register("authEvent",o=>(tt(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},o=>{const u=o?.[0]?.[Um];u!==void 0&&n(!!u),ns(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tb()||X0()||Np()}}const CI=RI;var nE="@firebase/auth",rE="1.12.0";class II{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DI(i){jl(new Bo("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(i)},E=new oC(a,o,u,v);return dC(E,n),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),jl(new Bo("auth-internal",e=>{const n=Mp(e.getProvider("auth").getImmediate());return(a=>new II(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(nE,rE,OI(i)),no(nE,rE,"esm2020")}const xI=300,NI=x0("authIdTokenMaxAge")||xI;let iE=null;const MI=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>NI)return;const o=n?.token;iE!==o&&(iE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VI(i=L0()){const e=Cp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=fC(i,{popupRedirectResolver:CI,persistence:[UC,RC,cb]}),a=x0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=MI(u.toString());TC(n,d,()=>d(n.currentUser)),bC(n,y=>d(y))}}const o=O0("auth");return o&&mC(n,`http://${o}`),n}function kI(){return document.getElementsByTagName("head")?.[0]??document}lC({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=ha("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",kI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DI("Browser");var PI="firebase",LI="12.8.0";no(PI,LI,"app");var aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ro,yb;(function(){var i;function e(N,M){function L(){}L.prototype=M.prototype,N.F=M.prototype,N.prototype=new L,N.prototype.constructor=N,N.D=function(G,F,W){for(var k=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)k[Ht-2]=arguments[Ht];return M.prototype[F].apply(G,k)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,M,L){L||(L=0);const G=Array(16);if(typeof M=="string")for(var F=0;F<16;++F)G[F]=M.charCodeAt(L++)|M.charCodeAt(L++)<<8|M.charCodeAt(L++)<<16|M.charCodeAt(L++)<<24;else for(F=0;F<16;++F)G[F]=M[L++]|M[L++]<<8|M[L++]<<16|M[L++]<<24;M=N.g[0],L=N.g[1],F=N.g[2];let W=N.g[3],k;k=M+(W^L&(F^W))+G[0]+3614090360&4294967295,M=L+(k<<7&4294967295|k>>>25),k=W+(F^M&(L^F))+G[1]+3905402710&4294967295,W=M+(k<<12&4294967295|k>>>20),k=F+(L^W&(M^L))+G[2]+606105819&4294967295,F=W+(k<<17&4294967295|k>>>15),k=L+(M^F&(W^M))+G[3]+3250441966&4294967295,L=F+(k<<22&4294967295|k>>>10),k=M+(W^L&(F^W))+G[4]+4118548399&4294967295,M=L+(k<<7&4294967295|k>>>25),k=W+(F^M&(L^F))+G[5]+1200080426&4294967295,W=M+(k<<12&4294967295|k>>>20),k=F+(L^W&(M^L))+G[6]+2821735955&4294967295,F=W+(k<<17&4294967295|k>>>15),k=L+(M^F&(W^M))+G[7]+4249261313&4294967295,L=F+(k<<22&4294967295|k>>>10),k=M+(W^L&(F^W))+G[8]+1770035416&4294967295,M=L+(k<<7&4294967295|k>>>25),k=W+(F^M&(L^F))+G[9]+2336552879&4294967295,W=M+(k<<12&4294967295|k>>>20),k=F+(L^W&(M^L))+G[10]+4294925233&4294967295,F=W+(k<<17&4294967295|k>>>15),k=L+(M^F&(W^M))+G[11]+2304563134&4294967295,L=F+(k<<22&4294967295|k>>>10),k=M+(W^L&(F^W))+G[12]+1804603682&4294967295,M=L+(k<<7&4294967295|k>>>25),k=W+(F^M&(L^F))+G[13]+4254626195&4294967295,W=M+(k<<12&4294967295|k>>>20),k=F+(L^W&(M^L))+G[14]+2792965006&4294967295,F=W+(k<<17&4294967295|k>>>15),k=L+(M^F&(W^M))+G[15]+1236535329&4294967295,L=F+(k<<22&4294967295|k>>>10),k=M+(F^W&(L^F))+G[1]+4129170786&4294967295,M=L+(k<<5&4294967295|k>>>27),k=W+(L^F&(M^L))+G[6]+3225465664&4294967295,W=M+(k<<9&4294967295|k>>>23),k=F+(M^L&(W^M))+G[11]+643717713&4294967295,F=W+(k<<14&4294967295|k>>>18),k=L+(W^M&(F^W))+G[0]+3921069994&4294967295,L=F+(k<<20&4294967295|k>>>12),k=M+(F^W&(L^F))+G[5]+3593408605&4294967295,M=L+(k<<5&4294967295|k>>>27),k=W+(L^F&(M^L))+G[10]+38016083&4294967295,W=M+(k<<9&4294967295|k>>>23),k=F+(M^L&(W^M))+G[15]+3634488961&4294967295,F=W+(k<<14&4294967295|k>>>18),k=L+(W^M&(F^W))+G[4]+3889429448&4294967295,L=F+(k<<20&4294967295|k>>>12),k=M+(F^W&(L^F))+G[9]+568446438&4294967295,M=L+(k<<5&4294967295|k>>>27),k=W+(L^F&(M^L))+G[14]+3275163606&4294967295,W=M+(k<<9&4294967295|k>>>23),k=F+(M^L&(W^M))+G[3]+4107603335&4294967295,F=W+(k<<14&4294967295|k>>>18),k=L+(W^M&(F^W))+G[8]+1163531501&4294967295,L=F+(k<<20&4294967295|k>>>12),k=M+(F^W&(L^F))+G[13]+2850285829&4294967295,M=L+(k<<5&4294967295|k>>>27),k=W+(L^F&(M^L))+G[2]+4243563512&4294967295,W=M+(k<<9&4294967295|k>>>23),k=F+(M^L&(W^M))+G[7]+1735328473&4294967295,F=W+(k<<14&4294967295|k>>>18),k=L+(W^M&(F^W))+G[12]+2368359562&4294967295,L=F+(k<<20&4294967295|k>>>12),k=M+(L^F^W)+G[5]+4294588738&4294967295,M=L+(k<<4&4294967295|k>>>28),k=W+(M^L^F)+G[8]+2272392833&4294967295,W=M+(k<<11&4294967295|k>>>21),k=F+(W^M^L)+G[11]+1839030562&4294967295,F=W+(k<<16&4294967295|k>>>16),k=L+(F^W^M)+G[14]+4259657740&4294967295,L=F+(k<<23&4294967295|k>>>9),k=M+(L^F^W)+G[1]+2763975236&4294967295,M=L+(k<<4&4294967295|k>>>28),k=W+(M^L^F)+G[4]+1272893353&4294967295,W=M+(k<<11&4294967295|k>>>21),k=F+(W^M^L)+G[7]+4139469664&4294967295,F=W+(k<<16&4294967295|k>>>16),k=L+(F^W^M)+G[10]+3200236656&4294967295,L=F+(k<<23&4294967295|k>>>9),k=M+(L^F^W)+G[13]+681279174&4294967295,M=L+(k<<4&4294967295|k>>>28),k=W+(M^L^F)+G[0]+3936430074&4294967295,W=M+(k<<11&4294967295|k>>>21),k=F+(W^M^L)+G[3]+3572445317&4294967295,F=W+(k<<16&4294967295|k>>>16),k=L+(F^W^M)+G[6]+76029189&4294967295,L=F+(k<<23&4294967295|k>>>9),k=M+(L^F^W)+G[9]+3654602809&4294967295,M=L+(k<<4&4294967295|k>>>28),k=W+(M^L^F)+G[12]+3873151461&4294967295,W=M+(k<<11&4294967295|k>>>21),k=F+(W^M^L)+G[15]+530742520&4294967295,F=W+(k<<16&4294967295|k>>>16),k=L+(F^W^M)+G[2]+3299628645&4294967295,L=F+(k<<23&4294967295|k>>>9),k=M+(F^(L|~W))+G[0]+4096336452&4294967295,M=L+(k<<6&4294967295|k>>>26),k=W+(L^(M|~F))+G[7]+1126891415&4294967295,W=M+(k<<10&4294967295|k>>>22),k=F+(M^(W|~L))+G[14]+2878612391&4294967295,F=W+(k<<15&4294967295|k>>>17),k=L+(W^(F|~M))+G[5]+4237533241&4294967295,L=F+(k<<21&4294967295|k>>>11),k=M+(F^(L|~W))+G[12]+1700485571&4294967295,M=L+(k<<6&4294967295|k>>>26),k=W+(L^(M|~F))+G[3]+2399980690&4294967295,W=M+(k<<10&4294967295|k>>>22),k=F+(M^(W|~L))+G[10]+4293915773&4294967295,F=W+(k<<15&4294967295|k>>>17),k=L+(W^(F|~M))+G[1]+2240044497&4294967295,L=F+(k<<21&4294967295|k>>>11),k=M+(F^(L|~W))+G[8]+1873313359&4294967295,M=L+(k<<6&4294967295|k>>>26),k=W+(L^(M|~F))+G[15]+4264355552&4294967295,W=M+(k<<10&4294967295|k>>>22),k=F+(M^(W|~L))+G[6]+2734768916&4294967295,F=W+(k<<15&4294967295|k>>>17),k=L+(W^(F|~M))+G[13]+1309151649&4294967295,L=F+(k<<21&4294967295|k>>>11),k=M+(F^(L|~W))+G[4]+4149444226&4294967295,M=L+(k<<6&4294967295|k>>>26),k=W+(L^(M|~F))+G[11]+3174756917&4294967295,W=M+(k<<10&4294967295|k>>>22),k=F+(M^(W|~L))+G[2]+718787259&4294967295,F=W+(k<<15&4294967295|k>>>17),k=L+(W^(F|~M))+G[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(F+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+F&4294967295,N.g[3]=N.g[3]+W&4294967295}a.prototype.v=function(N,M){M===void 0&&(M=N.length);const L=M-this.blockSize,G=this.C;let F=this.h,W=0;for(;W<M;){if(F==0)for(;W<=L;)o(this,N,W),W+=this.blockSize;if(typeof N=="string"){for(;W<M;)if(G[F++]=N.charCodeAt(W++),F==this.blockSize){o(this,G),F=0;break}}else for(;W<M;)if(G[F++]=N[W++],F==this.blockSize){o(this,G),F=0;break}}this.h=F,this.o+=M},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var L=N.length-8;L<N.length;++L)N[L]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,L=0;L<4;++L)for(let G=0;G<32;G+=8)N[M++]=this.g[L]>>>G&255;return N};function u(N,M){var L=y;return Object.prototype.hasOwnProperty.call(L,N)?L[N]:L[N]=M(N)}function d(N,M){this.h=M;const L=[];let G=!0;for(let F=N.length-1;F>=0;F--){const W=N[F]|0;G&&W==M||(L[F]=W,G=!1)}this.g=L}var y={};function v(N){return-128<=N&&N<128?u(N,function(M){return new d([M|0],M<0?-1:0)}):new d([N|0],N<0?-1:0)}function E(N){if(isNaN(N)||!isFinite(N))return I;if(N<0)return fe(E(-N));const M=[];let L=1;for(let G=0;N>=L;G++)M[G]=N/L|0,L*=4294967296;return new d(M,0)}function R(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return fe(R(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=E(Math.pow(M,8));let G=I;for(let W=0;W<N.length;W+=8){var F=Math.min(8,N.length-W);const k=parseInt(N.substring(W,W+F),M);F<8?(F=E(Math.pow(M,F)),G=G.j(F).add(E(k))):(G=G.j(L),G=G.add(E(k)))}return G}var I=v(0),P=v(1),ne=v(16777216);i=d.prototype,i.m=function(){if(pe(this))return-fe(this).m();let N=0,M=1;for(let L=0;L<this.g.length;L++){const G=this.i(L);N+=(G>=0?G:4294967296+G)*M,M*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(me(this))return"0";if(pe(this))return"-"+fe(this).toString(N);const M=E(Math.pow(N,6));var L=this;let G="";for(;;){const F=We(L,M).g;L=Se(L,F.j(M));let W=((L.g.length>0?L.g[0]:L.h)>>>0).toString(N);if(L=F,me(L))return W+G;for(;W.length<6;)W="0"+W;G=W+G}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function me(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function pe(N){return N.h==-1}i.l=function(N){return N=Se(this,N),pe(N)?-1:me(N)?0:1};function fe(N){const M=N.g.length,L=[];for(let G=0;G<M;G++)L[G]=~N.g[G];return new d(L,~N.h).add(P)}i.abs=function(){return pe(this)?fe(this):this},i.add=function(N){const M=Math.max(this.g.length,N.g.length),L=[];let G=0;for(let F=0;F<=M;F++){let W=G+(this.i(F)&65535)+(N.i(F)&65535),k=(W>>>16)+(this.i(F)>>>16)+(N.i(F)>>>16);G=k>>>16,W&=65535,k&=65535,L[F]=k<<16|W}return new d(L,L[L.length-1]&-2147483648?-1:0)};function Se(N,M){return N.add(fe(M))}i.j=function(N){if(me(this)||me(N))return I;if(pe(this))return pe(N)?fe(this).j(fe(N)):fe(fe(this).j(N));if(pe(N))return fe(this.j(fe(N)));if(this.l(ne)<0&&N.l(ne)<0)return E(this.m()*N.m());const M=this.g.length+N.g.length,L=[];for(var G=0;G<2*M;G++)L[G]=0;for(G=0;G<this.g.length;G++)for(let F=0;F<N.g.length;F++){const W=this.i(G)>>>16,k=this.i(G)&65535,Ht=N.i(F)>>>16,en=N.i(F)&65535;L[2*G+2*F]+=k*en,Te(L,2*G+2*F),L[2*G+2*F+1]+=W*en,Te(L,2*G+2*F+1),L[2*G+2*F+1]+=k*Ht,Te(L,2*G+2*F+1),L[2*G+2*F+2]+=W*Ht,Te(L,2*G+2*F+2)}for(N=0;N<M;N++)L[N]=L[2*N+1]<<16|L[2*N];for(N=M;N<2*M;N++)L[N]=0;return new d(L,0)};function Te(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function Ne(N,M){this.g=N,this.h=M}function We(N,M){if(me(M))throw Error("division by zero");if(me(N))return new Ne(I,I);if(pe(N))return M=We(fe(N),M),new Ne(fe(M.g),fe(M.h));if(pe(M))return M=We(N,fe(M)),new Ne(fe(M.g),M.h);if(N.g.length>30){if(pe(N)||pe(M))throw Error("slowDivide_ only works with positive integers.");for(var L=P,G=M;G.l(N)<=0;)L=st(L),G=st(G);var F=Ye(L,1),W=Ye(G,1);for(G=Ye(G,2),L=Ye(L,2);!me(G);){var k=W.add(G);k.l(N)<=0&&(F=F.add(L),W=k),G=Ye(G,1),L=Ye(L,1)}return M=Se(N,F.j(M)),new Ne(F,M)}for(F=I;N.l(M)>=0;){for(L=Math.max(1,Math.floor(N.m()/M.m())),G=Math.ceil(Math.log(L)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),W=E(L),k=W.j(M);pe(k)||k.l(N)>0;)L-=G,W=E(L),k=W.j(M);me(W)&&(W=P),F=F.add(W),N=Se(N,k)}return new Ne(F,N)}i.B=function(N){return We(this,N).h},i.and=function(N){const M=Math.max(this.g.length,N.g.length),L=[];for(let G=0;G<M;G++)L[G]=this.i(G)&N.i(G);return new d(L,this.h&N.h)},i.or=function(N){const M=Math.max(this.g.length,N.g.length),L=[];for(let G=0;G<M;G++)L[G]=this.i(G)|N.i(G);return new d(L,this.h|N.h)},i.xor=function(N){const M=Math.max(this.g.length,N.g.length),L=[];for(let G=0;G<M;G++)L[G]=this.i(G)^N.i(G);return new d(L,this.h^N.h)};function st(N){const M=N.g.length+1,L=[];for(let G=0;G<M;G++)L[G]=N.i(G)<<1|N.i(G-1)>>>31;return new d(L,N.h)}function Ye(N,M){const L=M>>5;M%=32;const G=N.g.length-L,F=[];for(let W=0;W<G;W++)F[W]=M>0?N.i(W+L)>>>M|N.i(W+L+1)<<32-M:N.i(W+L);return new d(F,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=R,ro=d}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vb,Yu,_b,qh,ep,Eb,bb,Tb;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var _=0;_<c.length;++_){var S=c[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var a=n(this);function o(c,_){if(_)e:{var S=a;c=c.split(".");for(var O=0;O<c.length-1;O++){var ee=c[O];if(!(ee in S))break e;S=S[ee]}c=c[c.length-1],O=S[c],_=_(O),_!=O&&_!=null&&e(S,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var S=[],O;for(O in _)Object.prototype.hasOwnProperty.call(_,O)&&S.push([O,_[O]]);return S}});var u=u||{},d=this||self;function y(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function v(c,_,S){return c.call.apply(c.bind,arguments)}function E(c,_,S){return E=v,E.apply(null,arguments)}function R(c,_){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),c.apply(this,O)}}function I(c,_){function S(){}S.prototype=_.prototype,c.Z=_.prototype,c.prototype=new S,c.prototype.constructor=c,c.Ob=function(O,ee,le){for(var Ce=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)Ce[nt-2]=arguments[nt];return _.prototype[ee].apply(O,Ce)}}var P=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function ne(c){const _=c.length;if(_>0){const S=Array(_);for(let O=0;O<_;O++)S[O]=c[O];return S}return[]}function me(c,_){for(let O=1;O<arguments.length;O++){const ee=arguments[O];var S=typeof ee;if(S=S!="object"?S:ee?Array.isArray(ee)?"array":S:"null",S=="array"||S=="object"&&typeof ee.length=="number"){S=c.length||0;const le=ee.length||0;c.length=S+le;for(let Ce=0;Ce<le;Ce++)c[S+Ce]=ee[Ce]}else c.push(ee)}}class pe{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function fe(c){d.setTimeout(()=>{throw c},0)}function Se(){var c=N;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Te{constructor(){this.h=this.g=null}add(_,S){const O=Ne.get();O.set(_,S),this.h?this.h.next=O:this.g=O,this.h=O}}var Ne=new pe(()=>new We,c=>c.reset());class We{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let st,Ye=!1,N=new Te,M=()=>{const c=Promise.resolve(void 0);st=()=>{c.then(L)}};function L(){for(var c;c=Se();){try{c.h.call(c.g)}catch(S){fe(S)}var _=Ne;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}Ye=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};d.addEventListener("test",S,_),d.removeEventListener("test",S,_)}catch{}return c})();function k(c){return/^[\s\xa0]*$/.test(c)}function Ht(c,_){F.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}I(Ht,F),Ht.prototype.init=function(c,_){const S=this.type=c.type,O=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(S=="mouseover"?_=c.fromElement:S=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ht.Z.h.call(this)},Ht.prototype.h=function(){Ht.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var en="closure_listenable_"+(Math.random()*1e6|0),he=0;function Pe(c,_,S,O,ee){this.listener=c,this.proxy=null,this.src=_,this.type=S,this.capture=!!O,this.ha=ee,this.key=++he,this.da=this.fa=!1}function Be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ht(c,_,S){for(const O in c)_.call(S,c[O],O,c)}function ft(c,_){for(const S in c)_.call(void 0,c[S],S,c)}function K(c){const _={};for(const S in c)_[S]=c[S];return _}const ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(c,_){let S,O;for(let ee=1;ee<arguments.length;ee++){O=arguments[ee];for(S in O)c[S]=O[S];for(let le=0;le<ye.length;le++)S=ye[le],Object.prototype.hasOwnProperty.call(O,S)&&(c[S]=O[S])}}function Ue(c){this.src=c,this.g={},this.h=0}Ue.prototype.add=function(c,_,S,O,ee){const le=c.toString();c=this.g[le],c||(c=this.g[le]=[],this.h++);const Ce=Je(c,_,O,ee);return Ce>-1?(_=c[Ce],S||(_.fa=!1)):(_=new Pe(_,this.src,le,!!O,ee),_.fa=S,c.push(_)),_};function Qe(c,_){const S=_.type;if(S in c.g){var O=c.g[S],ee=Array.prototype.indexOf.call(O,_,void 0),le;(le=ee>=0)&&Array.prototype.splice.call(O,ee,1),le&&(Be(_),c.g[S].length==0&&(delete c.g[S],c.h--))}}function Je(c,_,S,O){for(let ee=0;ee<c.length;++ee){const le=c[ee];if(!le.da&&le.listener==_&&le.capture==!!S&&le.ha==O)return ee}return-1}var mt="closure_lm_"+(Math.random()*1e6|0),pn={};function ke(c,_,S,O,ee){if(Array.isArray(_)){for(let le=0;le<_.length;le++)ke(c,_[le],S,O,ee);return null}return S=mo(S),c&&c[en]?c.J(_,S,y(O)?!!O.capture:!1,ee):Qi(c,_,S,!1,O,ee)}function Qi(c,_,S,O,ee,le){if(!_)throw Error("Invalid event type");const Ce=y(ee)?!!ee.capture:!!ee;let nt=Ta(c);if(nt||(c[mt]=nt=new Ue(c)),S=nt.add(_,S,O,Ce,le),S.proxy)return S;if(O=Mi(),S.proxy=O,O.src=c,O.listener=S,c.addEventListener)W||(ee=Ce),ee===void 0&&(ee=!1),c.addEventListener(_.toString(),O,ee);else if(c.attachEvent)c.attachEvent(ui(_.toString()),O);else if(c.addListener&&c.removeListener)c.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Mi(){function c(S){return _.call(c.src,c.listener,S)}const _=zr;return c}function wt(c,_,S,O,ee){if(Array.isArray(_))for(var le=0;le<_.length;le++)wt(c,_[le],S,O,ee);else O=y(O)?!!O.capture:!!O,S=mo(S),c&&c[en]?(c=c.i,le=String(_).toString(),le in c.g&&(_=c.g[le],S=Je(_,S,O,ee),S>-1&&(Be(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete c.g[le],c.h--)))):c&&(c=Ta(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Je(_,S,O,ee)),(S=c>-1?_[c]:null)&&li(S))}function li(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[en])Qe(_.i,c);else{var S=c.type,O=c.proxy;_.removeEventListener?_.removeEventListener(S,O,c.capture):_.detachEvent?_.detachEvent(ui(S),O):_.addListener&&_.removeListener&&_.removeListener(O),(S=Ta(_))?(Qe(S,c),S.h==0&&(S.src=null,_[mt]=null)):Be(c)}}}function ui(c){return c in pn?pn[c]:pn[c]="on"+c}function zr(c,_){if(c.da)c=!0;else{_=new Ht(_,this);const S=c.listener,O=c.ha||c.src;c.fa&&li(c),c=S.call(O,_)}return c}function Ta(c){return c=c[mt],c instanceof Ue?c:null}var fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(c){return typeof c=="function"?c:(c[fo]||(c[fo]=function(_){return c.handleEvent(_)}),c[fo])}function hn(){G.call(this),this.i=new Ue(this),this.M=this,this.G=null}I(hn,G),hn.prototype[en]=!0,hn.prototype.removeEventListener=function(c,_,S,O){wt(this,c,_,S,O)};function tn(c,_){var S,O=c.G;if(O)for(S=[];O;O=O.G)S.push(O);if(c=c.M,O=_.type||_,typeof _=="string")_=new F(_,c);else if(_ instanceof F)_.target=_.target||c;else{var ee=_;_=new F(O,c),De(_,ee)}ee=!0;let le,Ce;if(S)for(Ce=S.length-1;Ce>=0;Ce--)le=_.g=S[Ce],ee=Vn(le,O,!0,_)&&ee;if(le=_.g=c,ee=Vn(le,O,!0,_)&&ee,ee=Vn(le,O,!1,_)&&ee,S)for(Ce=0;Ce<S.length;Ce++)le=_.g=S[Ce],ee=Vn(le,O,!1,_)&&ee}hn.prototype.N=function(){if(hn.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const S=c.g[_];for(let O=0;O<S.length;O++)Be(S[O]);delete c.g[_],c.h--}}this.G=null},hn.prototype.J=function(c,_,S,O){return this.i.add(String(c),_,!1,S,O)},hn.prototype.K=function(c,_,S,O){return this.i.add(String(c),_,!0,S,O)};function Vn(c,_,S,O){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let ee=!0;for(let le=0;le<_.length;++le){const Ce=_[le];if(Ce&&!Ce.da&&Ce.capture==S){const nt=Ce.listener,ln=Ce.ha||Ce.src;Ce.fa&&Qe(c.i,Ce),ee=nt.call(ln,O)!==!1&&ee}}return ee&&!O.defaultPrevented}function $o(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:d.setTimeout(c,_||0)}function Xi(c){c.g=$o(()=>{c.g=null,c.i&&(c.i=!1,Xi(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class jn extends G{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Xi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(c){G.call(this),this.h=c,this.g={}}I(Br,G);var qr=[];function Fr(c){ht(c.g,function(_,S){this.g.hasOwnProperty(S)&&li(_)},c),c.g={}}Br.prototype.N=function(){Br.Z.N.call(this),Fr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=d.JSON.stringify,Sa=d.JSON.parse,os=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function wa(){}function hi(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gn(){F.call(this,"d")}I(gn,F);function yn(){F.call(this,"c")}I(yn,F);var Ve={},$i=null;function vr(){return $i=$i||new hn}Ve.Ia="serverreachability";function Aa(c){F.call(this,Ve.Ia,c)}I(Aa,F);function Oe(c){const _=vr();tn(_,new Aa(_))}Ve.STAT_EVENT="statevent";function Vi(c,_){F.call(this,Ve.STAT_EVENT,c),this.stat=_}I(Vi,F);function nn(c){const _=vr();tn(_,new Vi(_,c))}Ve.Ja="timingevent";function _r(c,_){F.call(this,Ve.Ja,c),this.size=_}I(_r,F);function Hr(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},_)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function au(c,_,S,O,ee,le){c.info(function(){if(c.g)if(le){var Ce="",nt=le.split("&");for(let At=0;At<nt.length;At++){var ln=nt[At].split("=");if(ln.length>1){const Lt=ln[0];ln=ln[1];const xr=Lt.split("_");Ce=xr.length>=2&&xr[1]=="type"?Ce+(Lt+"="+ln+"&"):Ce+(Lt+"=redacted&")}}}else Ce=null;else Ce=le;return"XMLHTTP REQ ("+O+") [attempt "+ee+"]: "+_+`
`+S+`
`+Ce})}function Jo(c,_,S,O,ee,le,Ce){c.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+ee+"]: "+_+`
`+S+`
`+le+" "+Ce})}function Yn(c,_,S,O){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+po(c,S)+(O?" "+O:"")})}function Er(c,_){c.info(function(){return"TIMEOUT: "+_})}fr.prototype.info=function(){};function po(c,_){if(!c.g)return _;if(!_)return null;try{const le=JSON.parse(_);if(le){for(c=0;c<le.length;c++)if(Array.isArray(le[c])){var S=le[c];if(!(S.length<2)){var O=S[1];if(Array.isArray(O)&&!(O.length<1)){var ee=O[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let Ce=1;Ce<O.length;Ce++)O[Ce]=""}}}}return ci(le)}catch{return _}}var fi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jt;function Ra(){}I(Ra,wa),Ra.prototype.g=function(){return new XMLHttpRequest},Jt=new Ra;function br(c){return encodeURIComponent(String(c))}function Ca(c){var _=1;c=c.split(":");const S=[];for(;_>0&&c.length;)S.push(c.shift()),_--;return c.length&&S.push(c.join(":")),S}function rr(c,_,S,O){this.j=c,this.i=_,this.l=S,this.S=O||1,this.V=new Br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kr}function Kr(){this.i=null,this.g="",this.h=!1}var kt={},Kt={};function kn(c,_,S){c.M=1,c.A=Wi(an(_)),c.u=S,c.R=!0,ki(c,null)}function ki(c,_){c.F=Date.now(),zn(c),c.B=an(c.A);var S=c.B,O=c.S;Array.isArray(O)||(O=[String(O)]),fs(S.i,"t",O),c.C=0,S=c.j.L,c.h=new Kr,c.g=En(c.j,S?_:null,!c.u),c.P>0&&(c.O=new jn(E(c.Y,c,c.g),c.P)),_=c.V,S=c.g,O=c.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(qr[0]=ee.toString()),ee=qr);for(let le=0;le<ee.length;le++){const Ce=ke(S,ee[le],O||_.handleEvent,!1,_.h||_);if(!Ce)break;_.g[Ce.key]=Ce}_=c.J?K(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Oe(),au(c.i,c.v,c.B,c.l,c.S,c.u)}rr.prototype.ba=function(c){c=c.target;const _=this.O;_&&Wr(c)==3?_.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{const nt=Wr(this.g),ln=this.g.ya(),At=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||nt!=4||ln==7||(ln==8||At<=0?Oe(3):Oe(2)),Tr(this);var _=this.g.ca();this.X=_;var S=su(this);if(this.o=_==200,Jo(this.i,this.v,this.B,this.l,this.S,nt,_),this.o){if(this.U&&!this.L){t:{if(this.g){var O,ee=this.g;if((O=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(O)){var le=O;break t}}le=null}if(c=le)Yn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wn(this,c);else{this.o=!1,this.m=3,nn(12),vn(this),Ct(this);break e}}if(this.R){c=!0;let Lt;for(;!this.K&&this.C<S.length;)if(Lt=go(this,S),Lt==Kt){nt==4&&(this.m=4,nn(14),c=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==kt){this.m=4,nn(15),Yn(this.i,this.l,S,"[Invalid Chunk]"),c=!1;break}else Yn(this.i,this.l,Lt,null),wn(this,Lt);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||S.length!=0||this.h.h||(this.m=1,nn(16),c=!1),this.o=this.o&&c,!c)Yn(this.i,this.l,S,"[Invalid Chunked Response]"),vn(this),Ct(this);else if(S.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),ta(Ce),Ce.P=!0,nn(11))}}else Yn(this.i,this.l,S,null),wn(this,S);nt==4&&vn(this),this.o&&!this.K&&(nt==4?qi(this.j,this):(this.o=!1,zn(this)))}else zi(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),vn(this),Ct(this)}}}catch{}};function su(c){if(!Gr(c))return c.g.la();const _=on(c.g);if(_==="")return"";let S="";const O=_.length,ee=Wr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),Ct(c),"";c.h.i=new d.TextDecoder}for(let le=0;le<O;le++)c.h.h=!0,S+=c.h.i.decode(_[le],{stream:!(ee&&le==O-1)});return _.length=0,c.h.g+=S,c.C=0,c.h.g}function Gr(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function go(c,_){var S=c.C,O=_.indexOf(`
`,S);return O==-1?Kt:(S=Number(_.substring(S,O)),isNaN(S)?kt:(O+=1,O+S>_.length?Kt:(_=_.slice(O,O+S),c.C=O+S,_)))}rr.prototype.cancel=function(){this.K=!0,vn(this)};function zn(c){c.T=Date.now()+c.H,Ia(c,c.H)}function Ia(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Hr(E(c.aa,c),_)}function Tr(c){c.D&&(d.clearTimeout(c.D),c.D=null)}rr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Er(this.i,this.B),this.M!=2&&(Oe(),nn(17)),vn(this),this.m=2,Ct(this)):Ia(this,this.T-c)};function Ct(c){c.j.I==0||c.K||qi(c.j,c)}function vn(c){Tr(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Fr(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function wn(c,_){try{var S=c.j;if(S.I!=0&&(S.g==c||wr(S.h,c))){if(!c.L&&wr(S.h,c)&&S.I==3){try{var O=S.Ba.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var ee=O;if(ee[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<c.F)gs(S),yi(S);else break e;_i(S),nn(18)}}else S.xa=ee[1],0<S.xa-S.K&&ee[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Hr(E(S.Va,S),6e3));Sr(S.h)<=1&&S.ta&&(S.ta=void 0)}else Or(S,11)}else if((c.L||S.g==c)&&gs(S),!k(_))for(ee=S.Ba.g.parse(_),_=0;_<ee.length;_++){let At=ee[_];const Lt=At[0];if(!(Lt<=S.K))if(S.K=Lt,At=At[1],S.I==2)if(At[0]=="c"){S.M=At[1],S.ba=At[2];const xr=At[3];xr!=null&&(S.ka=xr,S.j.info("VER="+S.ka));const Nr=At[4];Nr!=null&&(S.za=Nr,S.j.info("SVER="+S.za));const pr=At[5];pr!=null&&typeof pr=="number"&&pr>0&&(O=1.5*pr,S.O=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const ti=c.g;if(ti){const ra=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var le=O.h;le.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Yr(le,le.h),le.h=null))}if(O.G){const Es=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Es&&(O.wa=Es,Ot(O.J,O.G,Es))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-c.F,S.j.info("Handshake RTT: "+S.T+"ms")),O=S;var Ce=c;if(O.na=_s(O,O.L?O.ba:null,O.W),Ce.L){ls(O.h,Ce);var nt=Ce,ln=O.O;ln&&(nt.H=ln),nt.D&&(Tr(nt),zn(nt)),O.g=Ce}else Na(O);S.i.length>0&&vi(S)}else At[0]!="stop"&&At[0]!="close"||Or(S,7);else S.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Or(S,7):ea(S):At[0]!="noop"&&S.l&&S.l.qa(At),S.A=0)}}Oe(4)}catch{}}var rn=class{constructor(c,_){this.g=c,this.map=_}};function di(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ji(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sr(c){return c.h?1:c.g?c.g.size:0}function wr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Yr(c,_){c.g?c.g.add(_):c.h=_}function ls(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}di.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zi(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const S of c.g.values())_=_.concat(S.G);return _}return ne(c.i)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(c,_){if(c){c=c.split("&");for(let S=0;S<c.length;S++){const O=c[S].indexOf("=");let ee,le=null;O>=0?(ee=c[S].substring(0,O),le=c[S].substring(O+1)):ee=c[S],_(ee,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function ir(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof ir?(this.l=c.l,sn(this,c.j),this.o=c.o,this.g=c.g,Ar(this,c.u),this.h=c.h,us(this,Wo(c.i)),this.m=c.m):c&&(_=String(c).match(yo))?(this.l=!1,sn(this,_[1]||"",!0),this.o=gt(_[2]||""),this.g=gt(_[3]||"",!0),Ar(this,_[4]),this.h=gt(_[5]||"",!0),us(this,_[6]||"",!0),this.m=gt(_[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}ir.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Qr(_,Xr,!0),":");var S=this.g;return(S||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Qr(_,Xr,!0),"@"),c.push(br(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&c.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(Qr(S,S.charAt(0)=="/"?Oa:cs,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",Qr(S,vo)),c.join("")},ir.prototype.resolve=function(c){const _=an(this);let S=!!c.j;S?sn(_,c.j):S=!!c.o,S?_.o=c.o:S=!!c.g,S?_.g=c.g:S=c.u!=null;var O=c.h;if(S)Ar(_,c.u);else if(S=!!c.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var ee=_.h.lastIndexOf("/");ee!=-1&&(O=_.h.slice(0,ee+1)+O)}if(ee=O,ee==".."||ee==".")O="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){O=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const le=[];for(let Ce=0;Ce<ee.length;){const nt=ee[Ce++];nt=="."?O&&Ce==ee.length&&le.push(""):nt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),O&&Ce==ee.length&&le.push("")):(le.push(nt),O=!0)}O=le.join("/")}else O=ee}return S?_.h=O:S=c.i.toString()!=="",S?us(_,Wo(c.i)):S=!!c.m,S&&(_.m=c.m),_};function an(c){return new ir(c)}function sn(c,_,S){c.j=S?gt(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ar(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function us(c,_,S){_ instanceof Jr?(c.i=_,Zr(c.i,c.l)):(S||(_=Qr(_,$r)),c.i=new Jr(_,c.l))}function Ot(c,_,S){c.i.set(_,S)}function Wi(c){return Ot(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gt(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qr(c,_,S){return typeof c=="string"?(c=encodeURI(c).replace(_,An),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function An(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xr=/[#\/\?@]/g,cs=/[#\?:]/g,Oa=/[#\?]/g,$r=/[#\?@]/g,vo=/#/g;function Jr(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Qn(c){c.g||(c.g=new Map,c.h=0,c.i&&ot(c.i,function(_,S){c.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}i=Jr.prototype,i.add=function(c,_){Qn(this),this.i=null,c=fn(this,c);let S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(_),this.h+=1,this};function Zo(c,_){Qn(c),_=fn(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function pt(c,_){return Qn(c),_=fn(c,_),c.g.has(_)}i.forEach=function(c,_){Qn(this),this.g.forEach(function(S,O){S.forEach(function(ee){c.call(_,ee,O,this)},this)},this)};function hs(c,_){Qn(c);let S=[];if(typeof _=="string")pt(c,_)&&(S=S.concat(c.g.get(fn(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)S=S.concat(c[_]);return S}i.set=function(c,_){return Qn(this),this.i=null,c=fn(this,c),pt(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=hs(this,c),c.length>0?String(c[0]):_):_};function fs(c,_,S){Zo(c,_),S.length>0&&(c.i=null,c.g.set(fn(c,_),ne(S)),c.h+=S.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let O=0;O<_.length;O++){var S=_[O];const ee=br(S);S=hs(this,S);for(let le=0;le<S.length;le++){let Ce=ee;S[le]!==""&&(Ce+="="+br(S[le])),c.push(Ce)}}return this.i=c.join("&")};function Wo(c){const _=new Jr;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function fn(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Zr(c,_){_&&!c.j&&(Qn(c),c.i=null,c.g.forEach(function(S,O){const ee=O.toLowerCase();O!=ee&&(Zo(this,O),fs(this,ee,S))},c)),c.j=_}function ar(c,_){const S=new fr;if(d.Image){const O=new Image;O.onload=R(dr,S,"TestLoadImage: loaded",!0,_,O),O.onerror=R(dr,S,"TestLoadImage: error",!1,_,O),O.onabort=R(dr,S,"TestLoadImage: abort",!1,_,O),O.ontimeout=R(dr,S,"TestLoadImage: timeout",!1,_,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=c}else _(!1)}function Rr(c,_){const S=new fr,O=new AbortController,ee=setTimeout(()=>{O.abort(),dr(S,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:O.signal}).then(le=>{clearTimeout(ee),le.ok?dr(S,"TestPingServer: ok",!0,_):dr(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(ee),dr(S,"TestPingServer: error",!1,_)})}function dr(c,_,S,O,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),O(S)}catch{}}function Pi(){this.g=new os}function Pt(c){this.i=c.Sb||null,this.h=c.ab||!1}I(Pt,wa),Pt.prototype.g=function(){return new Bn(this.i,this.h)};function Bn(c,_){hn.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(Bn,hn),i=Bn.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,mr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||d).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mr(this)),this.g&&(this.readyState=3,mr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mi(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function mi(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Cr(this):mr(this),this.readyState==3&&mi(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},i.Na=function(c){this.g&&(this.response=c,Cr(this))},i.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,mr(c)}i.setRequestHeader=function(c,_){this.A.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=_.next();return c.join(`\r
`)};function mr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _n(c){let _="";return ht(c,function(S,O){_+=O,_+=":",_+=S,_+=`\r
`}),_}function Da(c,_,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=_n(S),typeof c=="string"?S!=null&&br(S):Ot(c,_,S))}function dt(c){hn.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(dt,hn);var Ir=/^https?$/i,ds=["POST","PUT"];i=dt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,_,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jt.g(),this.g.onreadystatechange=P(E(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(le){Li(this,le);return}if(c=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var ee in O)S.set(ee,O[ee]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const le of O.keys())S.set(le,O.get(le));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(le=>le.toLowerCase()=="content-type"),ee=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(ds,_,void 0)>=0)||O||ee||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ce]of S)this.g.setRequestHeader(le,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(le){Li(this,le)}};function Li(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,Ui(c),pi(c)}function Ui(c){c.A||(c.A=!0,tn(c,"complete"),tn(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,tn(this,"complete"),tn(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),dt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},i.Xa=function(){ji(this)};function ji(c){if(c.h&&typeof u<"u"){if(c.v&&Wr(c)==4)setTimeout(c.Ca.bind(c),0);else if(tn(c,"readystatechange"),Wr(c)==4){c.h=!1;try{const le=c.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var O;if(O=le===0){let Ce=String(c.D).match(yo)[1]||null;!Ce&&d.self&&d.self.location&&(Ce=d.self.location.protocol.slice(0,-1)),O=!Ir.test(Ce?Ce.toLowerCase():"")}S=O}if(S)tn(c,"complete"),tn(c,"success");else{c.o=6;try{var ee=Wr(c)>2?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.ca()+"]",Ui(c)}}finally{pi(c)}}}}function pi(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const S=c.g;c.g=null,_||tn(c,"ready");try{S.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wr(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Wr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Sa(_)}};function on(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const _={};c=(c.g&&Wr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<c.length;O++){if(k(c[O]))continue;var S=Ca(c[O]);const ee=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const le=_[ee]||[];_[ee]=le,le.push(S)}ft(_,function(O){return O.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(c,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||_}function ei(c){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,c),this.Za=gi("retryDelaySeedMs",1e4,c),this.Ta=gi("forwardChannelMaxRetries",2,c),this.va=gi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new di(c&&c.concurrentRequestLimit),this.Ba=new Pi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ei.prototype,i.ka=8,i.I=1,i.connect=function(c,_,S,O){nn(0),this.W=c,this.H=_||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.J=_s(this,null,this.W),vi(this)};function ea(c){if(ms(c),c.I==3){var _=c.V++,S=an(c.J);if(Ot(S,"SID",c.M),Ot(S,"RID",_),Ot(S,"TYPE","terminate"),Bi(c,S),_=new rr(c,c.j,_),_.M=2,_.A=Wi(an(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&d.Image&&(new Image().src=_.A,S=!0),S||(_.g=En(_.j,null),_.g.ea(_.A)),_.F=Date.now(),zn(_)}vs(c)}function yi(c){c.g&&(ta(c),c.g.cancel(),c.g=null)}function ms(c){yi(c),c.v&&(d.clearTimeout(c.v),c.v=null),gs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function vi(c){if(!Ji(c.h)&&!c.m){c.m=!0;var _=c.Ea;st||M(),Ye||(st(),Ye=!0),N.add(_,c),c.D=0}}function ps(c,_){return Sr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Hr(E(c.Ea,c,_),ys(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const ee=new rr(this,this.j,c);let le=this.o;if(this.U&&(le?(le=K(le),De(le,this.U)):le=this.U),this.u!==null||this.R||(ee.J=le,le=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=_o(this,ee,_),S=an(this.J),Ot(S,"RID",c),Ot(S,"CVER",22),this.G&&Ot(S,"X-HTTP-Session-Id",this.G),Bi(this,S),le&&(this.R?_="headers="+br(_n(le))+"&"+_:this.u&&Da(S,this.u,le)),Yr(this.h,ee),this.Ra&&Ot(S,"TYPE","init"),this.S?(Ot(S,"$req",_),Ot(S,"SID","null"),ee.U=!0,kn(ee,S,null)):kn(ee,S,_),this.I=2}}else this.I==3&&(c?xa(this,c):this.i.length==0||Ji(this.h)||xa(this))};function xa(c,_){var S;_?S=_.l:S=c.V++;const O=an(c.J);Ot(O,"SID",c.M),Ot(O,"RID",S),Ot(O,"AID",c.K),Bi(c,O),c.u&&c.o&&Da(O,c.u,c.o),S=new rr(c,c.j,S,c.D+1),c.u===null&&(S.J=c.o),_&&(c.i=_.G.concat(c.i)),_=_o(c,S,1e3),S.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yr(c.h,S),kn(S,O,_)}function Bi(c,_){c.H&&ht(c.H,function(S,O){Ot(_,O,S)}),c.l&&ht({},function(S,O){Ot(_,O,S)})}function _o(c,_,S){S=Math.min(c.i.length,S);const O=c.l?E(c.l.Ka,c.l,c):null;e:{var ee=c.i;let nt=-1;for(;;){const ln=["count="+S];nt==-1?S>0?(nt=ee[0].g,ln.push("ofs="+nt)):nt=0:ln.push("ofs="+nt);let At=!0;for(let Lt=0;Lt<S;Lt++){var le=ee[Lt].g;const xr=ee[Lt].map;if(le-=nt,le<0)nt=Math.max(0,ee[Lt].g-100),At=!1;else try{le="req"+le+"_"||"";try{var Ce=xr instanceof Map?xr:Object.entries(xr);for(const[Nr,pr]of Ce){let ti=pr;y(pr)&&(ti=ci(pr)),ln.push(le+Nr+"="+encodeURIComponent(ti))}}catch(Nr){throw ln.push(le+"type="+encodeURIComponent("_badmap")),Nr}}catch{O&&O(xr)}}if(At){Ce=ln.join("&");break e}}Ce=void 0}return c=c.i.splice(0,S),_.G=c,Ce}function Na(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;st||M(),Ye||(st(),Ye=!0),N.add(_,c),c.A=0}}function _i(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Hr(E(c.Da,c),ys(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Eo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Hr(E(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),yi(this),Eo(this))};function ta(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Eo(c){c.g=new rr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=an(c.na);Ot(_,"RID","rpc"),Ot(_,"SID",c.M),Ot(_,"AID",c.K),Ot(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ot(_,"TO",c.ia),Ot(_,"TYPE","xmlhttp"),Bi(c,_),c.u&&c.o&&Da(_,c.u,c.o),c.O&&(c.g.H=c.O);var S=c.g;c=c.ba,S.M=1,S.A=Wi(an(_)),S.u=null,S.R=!0,ki(S,c)}i.Va=function(){this.C!=null&&(this.C=null,yi(this),_i(this),nn(19))};function gs(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function qi(c,_){var S=null;if(c.g==_){gs(c),ta(c),c.g=null;var O=2}else if(wr(c.h,_))S=_.G,ls(c.h,_),O=1;else return;if(c.I!=0){if(_.o)if(O==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var ee=c.D;O=vr(),tn(O,new _r(O,S)),vi(c)}else Na(c);else if(ee=_.m,ee==3||ee==0&&_.X>0||!(O==1&&ps(c,_)||O==2&&_i(c)))switch(S&&S.length>0&&(_=c.h,_.i=_.i.concat(S)),ee){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function ys(c,_){let S=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(S*=2),S*_}function Or(c,_){if(c.j.info("Error code "+_),_==2){var S=E(c.bb,c),O=c.Ua;const ee=!O;O=new ir(O||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sn(O,"https"),Wi(O),ee?ar(O.toString(),S):Rr(O.toString(),S)}else nn(2);c.I=0,c.l&&c.l.pa(_),vs(c),ms(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function vs(c){if(c.I=0,c.ja=[],c.l){const _=Zi(c.h);(_.length!=0||c.i.length!=0)&&(me(c.ja,_),me(c.ja,c.i),c.h.i.length=0,ne(c.i),c.i.length=0),c.l.oa()}}function _s(c,_,S){var O=S instanceof ir?an(S):new ir(S);if(O.g!="")_&&(O.g=_+"."+O.g),Ar(O,O.u);else{var ee=d.location;O=ee.protocol,_=_?_+"."+ee.hostname:ee.hostname,ee=+ee.port;const le=new ir(null);O&&sn(le,O),_&&(le.g=_),ee&&Ar(le,ee),S&&(le.h=S),O=le}return S=c.G,_=c.wa,S&&_&&Ot(O,S,_),Ot(O,"VER",c.ka),Bi(c,O),O}function En(c,_,S){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new dt(new Pt({ab:S})):new dt(c.ma),_.Fa(c.L),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function na(){}i=na.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,_){return new qn(c,_)};function qn(c,_){hn.call(this),this.g=new ei(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!k(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Ei(this)}I(qn,hn),qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){ea(this.g)},qn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.v&&(S={},S.__data__=ci(c),c=S);_.i.push(new rn(_.Ya++,c)),_.I==3&&vi(_)},qn.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,qn.Z.N.call(this)};function Ma(c){gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const S in _){c=S;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}I(Ma,gn);function bo(){yn.call(this),this.status=1}I(bo,yn);function Ei(c){this.g=c}I(Ei,na),Ei.prototype.ra=function(){tn(this.g,"a")},Ei.prototype.qa=function(c){tn(this.g,new Ma(c))},Ei.prototype.pa=function(c){tn(this.g,new bo)},Ei.prototype.oa=function(){tn(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,Tb=function(){return new Dr},bb=function(){return vr()},Eb=Ve,ep={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,qh=fi,Mt.COMPLETE="complete",_b=Mt,hi.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",hn.prototype.listen=hn.prototype.J,Yu=hi,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,vb=dt}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");let eu="12.8.0";function UI(i){eu=i}const Fo=new Ap("@firebase/firestore");function Cl(){return Fo.logLevel}function je(i,...e){if(Fo.logLevel<=bt.DEBUG){const n=e.map(Lp);Fo.debug(`Firestore (${eu}): ${i}`,...n)}}function is(i,...e){if(Fo.logLevel<=bt.ERROR){const n=e.map(Lp);Fo.error(`Firestore (${eu}): ${i}`,...n)}}function Bl(i,...e){if(Fo.logLevel<=bt.WARN){const n=e.map(Lp);Fo.warn(`Firestore (${eu}): ${i}`,...n)}}function Lp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function $e(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Sb(i,a,n)}function Sb(i,e,n){let a=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw is(a),new Error(a)}function Vt(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||Sb(e,o,a)}function at(i,e){return i}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class io{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ur.UNAUTHENTICATED)))}shutdown(){}}class zI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BI{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,n(v)):Promise.resolve();let u=new io;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new io,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=u;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new io)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Vt(typeof a.accessToken=="string",31837,{l:a}),new wb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new ur(e)}}class qI{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FI{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new qI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ur.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ca(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0,3512);const a=u=>{u.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,je("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=KI(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Tt(i,e){return i<e?-1:i>e?1:0}function tp(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return jm(o)===jm(u)?Tt(o,u):jm(o)?1:-1}return Tt(i.length,e.length)}const GI=55296,YI=57343;function jm(i){const e=i.charCodeAt(0);return e>=GI&&e<=YI}function ql(i,e,n){return i.length===e.length&&i.every(((a,o)=>n(a,e[o])))}const oE="__name__";class ua{constructor(e,n,a){n===void 0?n=0:n>e.length&&$e(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&$e(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ua?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=ua.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Tt(e.length,n.length)}static compareSegments(e,n){const a=ua.isNumericId(e),o=ua.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?ua.extractNumericId(e).compare(ua.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class Xt extends ua{construct(e,n,a){return new Xt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Fe(be.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Xt(n)}static emptyPath(){return new Xt([])}}const QI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends ua{construct(e,n,a){return new er(e,n,a)}static isValidIdentifier(e){return QI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new er([oE])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Fe(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new Fe(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Fe(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(u(),o++)}if(u(),d)throw new Fe(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(n)}static emptyPath(){return new er([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(Xt.fromString(e))}static fromName(e){return new Ge(Xt.fromString(e).popFirst(5))}static empty(){return new Ge(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new Xt(e.slice()))}}function Ab(i,e,n){if(!n)throw new Fe(be.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function XI(i,e,n,a){if(e===!0&&a===!0)throw new Fe(be.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function lE(i){if(!Ge.isDocumentKey(i))throw new Fe(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function uE(i){if(Ge.isDocumentKey(i))throw new Fe(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Rb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function jp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":$e(12329,{type:typeof i})}function Fl(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Fe(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jp(i);throw new Fe(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Mn(i,e){const n={typeString:i};return e&&(n.value=e),n}function Ec(i,e){if(!Rb(i))throw new Fe(be.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const d=i[a];if(o&&typeof d!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new Fe(be.INVALID_ARGUMENT,n);return!0}const cE=-62135596800,hE=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*hE);return new $t(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cE)throw new Fe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,$t._jsonSchema))return new $t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-cE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$t._jsonSchemaVersion="firestore/timestamp/1.0",$t._jsonSchema={type:Mn("string",$t._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new $t(0,0))}static max(){return new rt(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ac=-1;function $I(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=rt.fromTimestamp(a===1e9?new $t(n+1,0):new $t(n,a));return new so(o,Ge.empty(),e)}function JI(i){return new so(i.readTime,i.key,ac)}class so{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new so(rt.min(),Ge.empty(),ac)}static max(){return new so(rt.max(),Ge.empty(),ac)}}function ZI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ge.comparator(i.documentKey,e.documentKey),n!==0?n:Tt(i.largestBatchId,e.largestBatchId))}const WI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function tu(i){if(i.code!==be.FAILED_PRECONDITION||i.message!==WI)throw i;je("LocalStore","Unexpectedly lost primary lease")}class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ee.reject(n)}static resolve(e){return new Ee(((n,a)=>{n(e)}))}static reject(e){return new Ee(((n,a)=>{a(e)}))}static waitFor(e){return new Ee(((n,a)=>{let o=0,u=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++u,d&&u===o&&n()}),(v=>a(v)))})),d=!0,u===o&&n()}))}static or(e){let n=Ee.resolve(!1);for(const a of e)n=n.next((o=>o?Ee.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new Ee(((a,o)=>{const u=e.length,d=new Array(u);let y=0;for(let v=0;v<u;v++){const E=v;n(e[E]).next((R=>{d[E]=R,++y,y===u&&a(d)}),(R=>o(R)))}}))}static doWhile(e,n){return new Ee(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function tO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(i){return i.name==="IndexedDbTransactionError"}class Tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tf.ce=-1;const zp=-1;function Sf(i){return i==null}function af(i){return i===0&&1/i==-1/0}function nO(i){return typeof i=="number"&&Number.isInteger(i)&&!af(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Cb="";function rO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=fE(e)),e=iO(i.get(n),e);return fE(e)}function iO(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Cb:n+="";break;default:n+=u}}return n}function fE(i){return i+Cb+""}function dE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Go(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ib(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class cn{constructor(e,n){this.comparator=e,this.root=n||Wn.EMPTY}insert(e,n){return new cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Wn.RED,this.left=o??Wn.EMPTY,this.right=u??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Wn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mE(this.data.getIterator())}getIteratorFrom(e){return new mE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class mE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gi{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new Gi([])}unionWith(e){let n=new Un(er.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Gi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class Ob extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ob("Invalid base64 string: "+u):u}})(e);return new tr(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const aO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(i){if(Vt(!!i,39018),typeof i=="string"){let e=0;const n=aO.exec(i);if(Vt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Sn(i.seconds),nanos:Sn(i.nanos)}}function Sn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function lo(i){return typeof i=="string"?tr.fromBase64String(i):tr.fromUint8Array(i)}const Db="server_timestamp",xb="__type__",Nb="__previous_value__",Mb="__local_write_time__";function Bp(i){return(i?.mapValue?.fields||{})[xb]?.stringValue===Db}function wf(i){const e=i.mapValue.fields[Nb];return Bp(e)?wf(e):e}function sc(i){const e=oo(i.mapValue.fields[Mb].timestampValue);return new $t(e.seconds,e.nanos)}class sO{constructor(e,n,a,o,u,d,y,v,E,R,I){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=E,this.isUsingEmulator=R,this.apiKey=I}}const sf="(default)";class oc{constructor(e,n){this.projectId=e,this.database=n||sf}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===sf}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}function oO(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(i.options.projectId,e)}const Vb="__type__",lO="__max__",xh={mapValue:{}},kb="__vector__",of="value";function uo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:cO(i)?9007199254740991:uO(i)?10:11:$e(28295,{value:i})}function _a(i,e){if(i===e)return!0;const n=uo(i);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sc(i).isEqual(sc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=oo(o.timestampValue),y=oo(u.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return lo(o.bytesValue).isEqual(lo(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Sn(o.geoPointValue.latitude)===Sn(u.geoPointValue.latitude)&&Sn(o.geoPointValue.longitude)===Sn(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Sn(o.integerValue)===Sn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Sn(o.doubleValue),y=Sn(u.doubleValue);return d===y?af(d)===af(y):isNaN(d)&&isNaN(y)}return!1})(i,e);case 9:return ql(i.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},y=u.mapValue.fields||{};if(dE(d)!==dE(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!_a(d[v],y[v])))return!1;return!0})(i,e);default:return $e(52216,{left:i})}}function lc(i,e){return(i.values||[]).find((n=>_a(n,e)))!==void 0}function Hl(i,e){if(i===e)return 0;const n=uo(i),a=uo(e);if(n!==a)return Tt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const y=Sn(u.integerValue||u.doubleValue),v=Sn(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(i,e);case 3:return pE(i.timestampValue,e.timestampValue);case 4:return pE(sc(i),sc(e));case 5:return tp(i.stringValue,e.stringValue);case 6:return(function(u,d){const y=lo(u),v=lo(d);return y.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const y=u.split("/"),v=d.split("/");for(let E=0;E<y.length&&E<v.length;E++){const R=Tt(y[E],v[E]);if(R!==0)return R}return Tt(y.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const y=Tt(Sn(u.latitude),Sn(d.latitude));return y!==0?y:Tt(Sn(u.longitude),Sn(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return gE(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const y=u.fields||{},v=d.fields||{},E=y[of]?.arrayValue,R=v[of]?.arrayValue,I=Tt(E?.values?.length||0,R?.values?.length||0);return I!==0?I:gE(E,R)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===xh.mapValue&&d===xh.mapValue)return 0;if(u===xh.mapValue)return 1;if(d===xh.mapValue)return-1;const y=u.fields||{},v=Object.keys(y),E=d.fields||{},R=Object.keys(E);v.sort(),R.sort();for(let I=0;I<v.length&&I<R.length;++I){const P=tp(v[I],R[I]);if(P!==0)return P;const ne=Hl(y[v[I]],E[R[I]]);if(ne!==0)return ne}return Tt(v.length,R.length)})(i.mapValue,e.mapValue);default:throw $e(23264,{he:n})}}function pE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Tt(i,e);const n=oo(i),a=oo(e),o=Tt(n.seconds,a.seconds);return o!==0?o:Tt(n.nanos,a.nanos)}function gE(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Hl(n[o],a[o]);if(u)return u}return Tt(n.length,a.length)}function Kl(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=oo(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return lo(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=np(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of a)u?u=!1:o+=",",o+=`${d}:${np(n.fields[d])}`;return o+"}"})(i.mapValue):$e(61005,{value:i})}function Fh(i){switch(uo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wf(i);return e?16+Fh(e):16;case 5:return 2*i.stringValue.length;case 6:return lo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Fh(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return Go(a.fields,((u,d)=>{o+=u.length+Fh(d)})),o})(i.mapValue);default:throw $e(13486,{value:i})}}function rp(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function yE(i){return!!i&&"nullValue"in i}function vE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Hh(i){return!!i&&"mapValue"in i}function uO(i){return(i?.mapValue?.fields||{})[Vb]?.stringValue===kb}function Zu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Go(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Zu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(i.arrayValue.values[n]);return e}return{...i}}function cO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===lO}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=er.emptyPath(),a={},o=[];e.forEach(((d,y)=>{if(!n.isImmediateParentOf(y)){const v=this.getFieldsMap(n);this.applyChanges(v,a,o),a={},o=[],n=y.popLast()}d?a[y.lastSegment()]=Zu(d):o.push(y.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Go(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Oi(Zu(this.value))}}function Pb(i){const e=[];return Go(i.fields,((n,a)=>{const o=new er([n]);if(Hh(a)){const u=Pb(a.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new Gi(e)}class cr{constructor(e,n,a,o,u,d,y){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=d,this.documentState=y}static newInvalidDocument(e){return new cr(e,0,rt.min(),rt.min(),rt.min(),Oi.empty(),0)}static newFoundDocument(e,n,a,o){return new cr(e,1,n,rt.min(),a,o,0)}static newNoDocument(e,n){return new cr(e,2,n,rt.min(),rt.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,rt.min(),rt.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(e,n){this.position=e,this.inclusive=n}}function _E(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?a=Ge.comparator(Ge.fromName(d.referenceValue),n.key):a=Hl(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function EE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!_a(i.position[n],e.position[n]))return!1;return!0}class uf{constructor(e,n="asc"){this.field=e,this.dir=n}}function hO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Lb{}class Ln extends Lb{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new dO(e,n,a):n==="array-contains"?new gO(e,a):n==="in"?new yO(e,a):n==="not-in"?new vO(e,a):n==="array-contains-any"?new _O(e,a):new Ln(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new mO(e,a):new pO(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hl(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ea extends Lb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ea(e,n)}matches(e){return Ub(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ub(i){return i.op==="and"}function jb(i){return fO(i)&&Ub(i)}function fO(i){for(const e of i.filters)if(e instanceof Ea)return!1;return!0}function ip(i){if(i instanceof Ln)return i.field.canonicalString()+i.op.toString()+Kl(i.value);if(jb(i))return i.filters.map((e=>ip(e))).join(",");{const e=i.filters.map((n=>ip(n))).join(",");return`${i.op}(${e})`}}function zb(i,e){return i instanceof Ln?(function(a,o){return o instanceof Ln&&a.op===o.op&&a.field.isEqual(o.field)&&_a(a.value,o.value)})(i,e):i instanceof Ea?(function(a,o){return o instanceof Ea&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,d,y)=>u&&zb(d,o.filters[y])),!0):!1})(i,e):void $e(19439)}function Bb(i){return i instanceof Ln?(function(n){return`${n.field.canonicalString()} ${n.op} ${Kl(n.value)}`})(i):i instanceof Ea?(function(n){return n.op.toString()+" {"+n.getFilters().map(Bb).join(" ,")+"}"})(i):"Filter"}class dO extends Ln{constructor(e,n,a){super(e,n,a),this.key=Ge.fromName(a.referenceValue)}matches(e){const n=Ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class mO extends Ln{constructor(e,n){super(e,"in",n),this.keys=qb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pO extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=qb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qb(i,e){return(e.arrayValue?.values||[]).map((n=>Ge.fromName(n.referenceValue)))}class gO extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&lc(n.arrayValue,this.value)}}class yO extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class vO extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class _O extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>lc(this.value.arrayValue,a)))}}class EO{constructor(e,n=null,a=[],o=[],u=null,d=null,y=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=d,this.endAt=y,this.Te=null}}function bE(i,e=null,n=[],a=[],o=null,u=null,d=null){return new EO(i,e,n,a,o,u,d)}function Fp(i){const e=at(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>ip(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Kl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Kl(a))).join(",")),e.Te=n}return e.Te}function Hp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!hO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!zb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!EE(i.startAt,e.startAt)&&EE(i.endAt,e.endAt)}function ap(i){return Ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Af{constructor(e,n=null,a=[],o=[],u=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bO(i,e,n,a,o,u,d,y){return new Af(i,e,n,a,o,u,d,y)}function Fb(i){return new Af(i)}function TE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TO(i){return Ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function SO(i){return i.collectionGroup!==null}function Wu(i){const e=at(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Un(er.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((E=>{E.isInequality()&&(y=y.add(E.field))}))})),y})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new uf(u,a))})),n.has(er.keyField().canonicalString())||e.Ie.push(new uf(er.keyField(),a))}return e.Ie}function da(i){const e=at(i);return e.Ee||(e.Ee=wO(e,Wu(i))),e.Ee}function wO(i,e){if(i.limitType==="F")return bE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new uf(o.field,u)}));const n=i.endAt?new lf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new lf(i.startAt.position,i.startAt.inclusive):null;return bE(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function sp(i,e,n){return new Af(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Rf(i,e){return Hp(da(i),da(e))&&i.limitType===e.limitType}function Hb(i){return`${Fp(da(i))}|lt:${i.limitType}`}function Il(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>Bb(o))).join(", ")}]`),Sf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Kl(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Kl(o))).join(",")),`Target(${a})`})(da(i))}; limitType=${i.limitType})`}function Cf(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ge.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of Wu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(d,y,v){const E=_E(d,y,v);return d.inclusive?E<=0:E<0})(a.startAt,Wu(a),o)||a.endAt&&!(function(d,y,v){const E=_E(d,y,v);return d.inclusive?E>=0:E>0})(a.endAt,Wu(a),o))})(i,e)}function AO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Kb(i){return(e,n)=>{let a=!1;for(const o of Wu(i)){const u=RO(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function RO(i,e,n){const a=i.field.isKeyField()?Ge.comparator(e.key,n.key):(function(u,d,y){const v=d.data.field(u),E=y.data.field(u);return v!==null&&E!==null?Hl(v,E):$e(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return $e(19790,{direction:i.dir})}}class Yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return Ib(this.inner)}size(){return this.innerSize}}const CO=new cn(Ge.comparator);function as(){return CO}const Gb=new cn(Ge.comparator);function Qu(...i){let e=Gb;for(const n of i)e=e.insert(n.key,n);return e}function Yb(i){let e=Gb;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Uo(){return ec()}function Qb(){return ec()}function ec(){return new Yo((i=>i.toString()),((i,e)=>i.isEqual(e)))}const IO=new cn(Ge.comparator),OO=new Un(Ge.comparator);function St(...i){let e=OO;for(const n of i)e=e.add(n);return e}const DO=new Un(Tt);function xO(){return DO}function Kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function Xb(i){return{integerValue:""+i}}function NO(i,e){return nO(e)?Xb(e):Kp(i,e)}class If{constructor(){this._=void 0}}function MO(i,e,n){return i instanceof uc?(function(o,u){const d={fields:{[xb]:{stringValue:Db},[Mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=wf(u)),u&&(d.fields[Nb]=u),{mapValue:d}})(n,e):i instanceof cc?Jb(i,e):i instanceof hc?Zb(i,e):(function(o,u){const d=$b(o,u),y=SE(d)+SE(o.Ae);return rp(d)&&rp(o.Ae)?Xb(y):Kp(o.serializer,y)})(i,e)}function VO(i,e,n){return i instanceof cc?Jb(i,e):i instanceof hc?Zb(i,e):n}function $b(i,e){return i instanceof cf?(function(a){return rp(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class uc extends If{}class cc extends If{constructor(e){super(),this.elements=e}}function Jb(i,e){const n=Wb(e);for(const a of i.elements)n.some((o=>_a(o,a)))||n.push(a);return{arrayValue:{values:n}}}class hc extends If{constructor(e){super(),this.elements=e}}function Zb(i,e){let n=Wb(e);for(const a of i.elements)n=n.filter((o=>!_a(o,a)));return{arrayValue:{values:n}}}class cf extends If{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SE(i){return Sn(i.integerValue||i.doubleValue)}function Wb(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class kO{constructor(e,n){this.field=e,this.transform=n}}function PO(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof cc&&o instanceof cc||a instanceof hc&&o instanceof hc?ql(a.elements,o.elements,_a):a instanceof cf&&o instanceof cf?_a(a.Ae,o.Ae):a instanceof uc&&o instanceof uc})(i.transform,e.transform)}class LO{constructor(e,n){this.version=e,this.transformResults=n}}class ma{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ma}static exists(e){return new ma(void 0,e)}static updateTime(e){return new ma(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Of{}function eT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Gp(i.key,ma.none()):new bc(i.key,i.data,ma.none());{const n=i.data,a=Oi.empty();let o=new Un(er.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),o=o.add(u)}return new Qo(i.key,a,new Gi(o.toArray()),ma.none())}}function UO(i,e,n){i instanceof bc?(function(o,u,d){const y=o.value.clone(),v=AE(o.fieldTransforms,u,d.transformResults);y.setAll(v),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,n):i instanceof Qo?(function(o,u,d){if(!Kh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const y=AE(o.fieldTransforms,u,d.transformResults),v=u.data;v.setAll(tT(o)),v.setAll(y),u.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(i,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function tc(i,e,n,a){return i instanceof bc?(function(u,d,y,v){if(!Kh(u.precondition,d))return y;const E=u.value.clone(),R=RE(u.fieldTransforms,v,d);return E.setAll(R),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null})(i,e,n,a):i instanceof Qo?(function(u,d,y,v){if(!Kh(u.precondition,d))return y;const E=RE(u.fieldTransforms,v,d),R=d.data;return R.setAll(tT(u)),R.setAll(E),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),y===null?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((I=>I.field)))})(i,e,n,a):(function(u,d,y){return Kh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(i,e,n)}function jO(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=$b(a.transform,o||null);u!=null&&(n===null&&(n=Oi.empty()),n.set(a.field,u))}return n||null}function wE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ql(a,o,((u,d)=>PO(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bc extends Of{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qo extends Of{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tT(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function AE(i,e,n){const a=new Map;Vt(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,y=e.data.field(u.field);a.set(u.field,VO(d,y,n[o]))}return a}function RE(i,e,n){const a=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);a.set(o.field,MO(u,d,e))}return a}class Gp extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zO extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class BO{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UO(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=tc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=tc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=Qb();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let y=this.applyToLocalView(d,u.mutatedFields);y=n.has(o.key)?null:y;const v=eT(d,y);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(rt.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),St())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((n,a)=>wE(n,a)))&&ql(this.baseMutations,e.baseMutations,((n,a)=>wE(n,a)))}}class Yp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Vt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return IO})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,a[d].version);return new Yp(e,n,a,o)}}class qO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Nn,It;function HO(i){switch(i){case be.OK:return $e(64938);case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return $e(15467,{code:i})}}function nT(i){if(i===void 0)return is("GRPC error has no .code"),be.UNKNOWN;switch(i){case Nn.OK:return be.OK;case Nn.CANCELLED:return be.CANCELLED;case Nn.UNKNOWN:return be.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return be.INTERNAL;case Nn.UNAVAILABLE:return be.UNAVAILABLE;case Nn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case Nn.NOT_FOUND:return be.NOT_FOUND;case Nn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case Nn.ABORTED:return be.ABORTED;case Nn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case Nn.DATA_LOSS:return be.DATA_LOSS;default:return $e(39323,{code:i})}}(It=Nn||(Nn={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";function KO(){return new TextEncoder}const GO=new ro([4294967295,4294967295],0);function CE(i){const e=KO().encode(i),n=new yb;return n.update(e),new Uint8Array(n.digest())}function IE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ro([n,a],0),new ro([o,u],0)]}class Qp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(a<0)throw new Xu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ro.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ro.fromNumber(a)));return o.compare(GO)===1&&(o=new ro([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CE(e),[a,o]=IE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Qp(u,o,n);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const n=CE(e),[a,o]=IE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Df{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Df(rt.min(),o,new cn(Tt),as(),St())}}class Tc{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Tc(a,n,St(),St(),St())}}class Gh{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class rT{constructor(e,n){this.targetId=e,this.Ce=n}}class iT{constructor(e,n,a=tr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class OE{constructor(){this.ve=0,this.Fe=DE(),this.Me=tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=St(),n=St(),a=St();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:$e(38017,{changeType:u})}})),new Tc(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=DE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Vt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YO{constructor(e){this.Ge=e,this.ze=new Map,this.je=as(),this.He=Nh(),this.Je=Nh(),this.Ze=new cn(Tt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:$e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(a===0){const d=new Ge(u.path);this.et(n,d,cr.newNoDocument(d,rt.min()))}else Vt(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(n);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,E)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let d,y;try{d=lo(a).toUint8Array()}catch(v){if(v instanceof Ob)return Bl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Qp(d,o,u)}catch(v){return Bl(v instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(y)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const y=this.ot(d);if(y){if(u.current&&ap(y.target)){const v=new Ge(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,cr.newNoDocument(v,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let a=St();this.Je.forEach(((u,d)=>{let y=!0;d.forEachWhile((v=>{const E=this.ot(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Df(e,n,this.Ze,this.je,a);return this.je=as(),this.He=Nh(),this.Je=Nh(),this.Ze=new cn(Tt),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new OE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Un(Tt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Un(Tt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nh(){return new cn(Ge.comparator)}function DE(){return new cn(Ge.comparator)}const QO={asc:"ASCENDING",desc:"DESCENDING"},XO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$O={and:"AND",or:"OR"};class JO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function op(i,e){return i.useProto3Json||Sf(e)?e:{value:e}}function hf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZO(i,e){return hf(i,e.toTimestamp())}function pa(i){return Vt(!!i,49232),rt.fromTimestamp((function(n){const a=oo(n);return new $t(a.seconds,a.nanos)})(i))}function Xp(i,e){return lp(i,e).canonicalString()}function lp(i,e){const n=(function(o){return new Xt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function sT(i){const e=Xt.fromString(i);return Vt(hT(e),10190,{key:e.toString()}),e}function up(i,e){return Xp(i.databaseId,e.path)}function zm(i,e){const n=sT(e);if(n.get(1)!==i.databaseId.projectId)throw new Fe(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Fe(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ge(lT(n))}function oT(i,e){return Xp(i.databaseId,e)}function WO(i){const e=sT(i);return e.length===4?Xt.emptyPath():lT(e)}function cp(i){return new Xt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lT(i){return Vt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function xE(i,e,n){return{name:up(i,e),fields:n.value.mapValue.fields}}function eD(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:$e(39313,{state:E})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(E,R){return E.useProto3Json?(Vt(R===void 0||typeof R=="string",58123),tr.fromBase64String(R||"")):(Vt(R===void 0||R instanceof Buffer||R instanceof Uint8Array,16193),tr.fromUint8Array(R||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(E){const R=E.code===void 0?be.UNKNOWN:nT(E.code);return new Fe(R,E.message||"")})(d);n=new iT(a,o,u,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=zm(i,a.document.name),u=pa(a.document.updateTime),d=a.document.createTime?pa(a.document.createTime):rt.min(),y=new Oi({mapValue:{fields:a.document.fields}}),v=cr.newFoundDocument(o,u,d,y),E=a.targetIds||[],R=a.removedTargetIds||[];n=new Gh(E,R,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=zm(i,a.document),u=a.readTime?pa(a.readTime):rt.min(),d=cr.newNoDocument(o,u),y=a.removedTargetIds||[];n=new Gh([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=zm(i,a.document),u=a.removedTargetIds||[];n=new Gh([],u,o,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,d=new FO(o,u),y=a.targetId;n=new rT(y,d)}}return n}function tD(i,e){let n;if(e instanceof bc)n={update:xE(i,e.key,e.value)};else if(e instanceof Gp)n={delete:up(i,e.key)};else if(e instanceof Qo)n={update:xE(i,e.key,e.data),updateMask:cD(e.fieldMask)};else{if(!(e instanceof zO))return $e(16599,{dt:e.type});n={verify:up(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const y=d.transform;if(y instanceof uc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof hc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof cf)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw $e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:$e(27497)})(i,e.precondition)),n}function nD(i,e){return i&&i.length>0?(Vt(e!==void 0,14353),i.map((n=>(function(o,u){let d=o.updateTime?pa(o.updateTime):pa(u);return d.isEqual(rt.min())&&(d=pa(u)),new LO(d,o.transformResults||[])})(n,e)))):[]}function rD(i,e){return{documents:[oT(i,e.path)]}}function iD(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=oT(i,o);const u=(function(E){if(E.length!==0)return cT(Ea.create(E,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(E){if(E.length!==0)return E.map((R=>(function(P){return{field:Ol(P.field),direction:oD(P.dir)}})(R)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const y=op(i,e.limit);return y!==null&&(n.structuredQuery.limit=y),e.startAt&&(n.structuredQuery.startAt=(function(E){return{before:E.inclusive,values:E.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(E){return{before:!E.inclusive,values:E.position}})(e.endAt)),{ft:n,parent:o}}function aD(i){let e=WO(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Vt(a===1,65062);const R=n.from[0];R.allDescendants?o=R.collectionId:e=e.child(R.collectionId)}let u=[];n.where&&(u=(function(I){const P=uT(I);return P instanceof Ea&&jb(P)?P.getFilters():[P]})(n.where));let d=[];n.orderBy&&(d=(function(I){return I.map((P=>(function(me){return new uf(Dl(me.field),(function(fe){switch(fe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(me.direction))})(P)))})(n.orderBy));let y=null;n.limit&&(y=(function(I){let P;return P=typeof I=="object"?I.value:I,Sf(P)?null:P})(n.limit));let v=null;n.startAt&&(v=(function(I){const P=!!I.before,ne=I.values||[];return new lf(ne,P)})(n.startAt));let E=null;return n.endAt&&(E=(function(I){const P=!I.before,ne=I.values||[];return new lf(ne,P)})(n.endAt)),bO(e,o,d,u,y,"F",v,E)}function sD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uT(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Dl(n.unaryFilter.field);return Ln.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Dl(n.unaryFilter.field);return Ln.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Dl(n.unaryFilter.field);return Ln.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Dl(n.unaryFilter.field);return Ln.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ln.create(Dl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ea.create(n.compositeFilter.filters.map((a=>uT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e(1026)}})(n.compositeFilter.op))})(i):$e(30097,{filter:i})}function oD(i){return QO[i]}function lD(i){return XO[i]}function uD(i){return $O[i]}function Ol(i){return{fieldPath:i.canonicalString()}}function Dl(i){return er.fromServerFormat(i.fieldPath)}function cT(i){return i instanceof Ln?(function(n){if(n.op==="=="){if(vE(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vE(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:Ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(n.field),op:lD(n.op),value:n.value}}})(i):i instanceof Ea?(function(n){const a=n.getFilters().map((o=>cT(o)));return a.length===1?a[0]:{compositeFilter:{op:uD(n.op),filters:a}}})(i):$e(54877,{filter:i})}function cD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function fT(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class Ws{constructor(e,n,a,o,u=rt.min(),d=rt.min(),y=tr.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hD{constructor(e){this.yt=e}}function fD(i){const e=aD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sp(e,e.limit,"L"):e}class dD{constructor(){this.Sn=new mD}addToCollectionParentIndex(e,n){return this.Sn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(so.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(so.min())}updateCollectionGroup(e,n,a){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class mD{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Un(Xt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Un(Xt.comparator)).toArray()}}const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dT=41943040;class jr{static withCacheSize(e){return new jr(e,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(dT,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);class Gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Gl(0)}static ar(){return new Gl(-1)}}const ME="LruGarbageCollector",pD=1048576;function VE([i,e],[n,a]){const o=Tt(i,n);return o===0?Tt(e,a):o}class gD{constructor(e){this.Pr=e,this.buffer=new Un(VE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();VE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yD{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){je(ME,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nu(n)?je(ME,"Ignoring IndexedDB error during garbage collection: ",n):await tu(n)}await this.Ar(3e5)}))}}class vD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(Tf.ce);const a=new gD(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(NE)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,u,d,y,v,E;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o)))).next((I=>(a=I,y=Date.now(),this.removeTargets(e,a,n)))).next((I=>(u=I,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((I=>(E=Date.now(),Cl()<=bt.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${u} targets in `+(v-y)+`ms
	Removed ${I} documents in `+(E-v)+`ms
Total Duration: ${E-R}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I}))))}}function _D(i,e){return new vD(i,e)}class ED{constructor(){this.changes=new Yo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Ee.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class TD{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&tc(a.mutation,o,Gi.empty(),$t.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,St()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=St()){const o=Uo();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let d=Qu();return u.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Uo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,St())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,y)=>{n.set(d,y)}))}))}computeViews(e,n,a,o){let u=as();const d=ec(),y=(function(){return ec()})();return n.forEach(((v,E)=>{const R=a.get(E.key);o.has(E.key)&&(R===void 0||R.mutation instanceof Qo)?u=u.insert(E.key,E):R!==void 0?(d.set(E.key,R.mutation.getFieldMask()),tc(R.mutation,E,R.mutation.getFieldMask(),$t.now())):d.set(E.key,Gi.empty())})),this.recalculateAndSaveOverlays(e,u).next((v=>(v.forEach(((E,R)=>d.set(E,R))),n.forEach(((E,R)=>y.set(E,new bD(R,d.get(E)??null)))),y)))}recalculateAndSaveOverlays(e,n){const a=ec();let o=new cn(((d,y)=>d-y)),u=St();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const y of d)y.keys().forEach((v=>{const E=n.get(v);if(E===null)return;let R=a.get(v)||Gi.empty();R=y.applyToLocalView(E,R),a.set(v,R);const I=(o.get(y.batchId)||St()).add(v);o=o.insert(y.batchId,I)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),E=v.key,R=v.value,I=Qb();R.forEach((P=>{if(!u.has(P)){const ne=eT(n.get(P),a.get(P));ne!==null&&I.set(P,ne),u=u.add(P)}})),d.push(this.documentOverlayCache.saveOverlays(e,E,I))}return Ee.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return TO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):Ee.resolve(Uo());let y=ac,v=u;return d.next((E=>Ee.forEach(E,((R,I)=>(y<I.largestBatchId&&(y=I.largestBatchId),u.get(R)?Ee.resolve():this.remoteDocumentCache.getEntry(e,R).next((P=>{v=v.insert(R,P)}))))).next((()=>this.populateOverlays(e,E,u))).next((()=>this.computeViews(e,v,E,St()))).next((R=>({batchId:y,changes:Yb(R)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ge(n)).next((a=>{let o=Qu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let d=Qu();return this.indexManager.getCollectionParents(e,u).next((y=>Ee.forEach(y,(v=>{const E=(function(I,P){return new Af(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(n,v.child(u));return this.getDocumentsMatchingCollectionQuery(e,E,a,o).next((R=>{R.forEach(((I,P)=>{d=d.insert(I,P)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((d=>{u.forEach(((v,E)=>{const R=E.getKey();d.get(R)===null&&(d=d.insert(R,cr.newInvalidDocument(R)))}));let y=Qu();return d.forEach(((v,E)=>{const R=u.get(v);R!==void 0&&tc(R.mutation,E,Gi.empty(),$t.now()),Cf(n,E)&&(y=y.insert(v,E))})),y}))}}class SD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Ee.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:pa(o.createTime)}})(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:fD(o.bundledQuery),readTime:pa(o.readTime)}})(n)),Ee.resolve()}}class wD{constructor(){this.overlays=new cn(Ge.comparator),this.Lr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Uo();return Ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.bt(e,n,u)})),Ee.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),Ee.resolve()}getOverlaysForCollection(e,n,a){const o=Uo(),u=n.length+1,d=new Ge(n.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,E=v.getKey();if(!n.isPrefixOf(E.path))break;E.path.length===u&&v.largestBatchId>a&&o.set(v.getKey(),v)}return Ee.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new cn(((E,R)=>E-R));const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===n&&E.largestBatchId>a){let R=u.get(E.largestBatchId);R===null&&(R=Uo(),u=u.insert(E.largestBatchId,R)),R.set(E.getKey(),E)}}const y=Uo(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((E,R)=>y.set(E,R))),!(y.size()>=o)););return Ee.resolve(y)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qO(n,a));let u=this.Lr.get(n);u===void 0&&(u=St(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}class AD{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}class $p{constructor(){this.kr=new Un(Kn.Kr),this.qr=new Un(Kn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new Kn(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new Kn(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new Ge(new Xt([])),a=new Kn(n,e),o=new Kn(n,e+1),u=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ge(new Xt([])),a=new Kn(n,e),o=new Kn(n,e+1);let u=St();return this.qr.forEachInRange([a,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new Kn(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Kn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ge.comparator(e.key,n.key)||Tt(e.Hr,n.Hr)}static Ur(e,n){return Tt(e.Hr,n.Hr)||Ge.comparator(e.key,n.key)}}class RD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Un(Kn.Kr)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new BO(u,n,a,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Kn(y.key,u)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Ee.resolve(d)}lookupMutationBatch(e,n){return Ee.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return Ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?zp:this.Yn-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Kn(n,0),o=new Kn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(d=>{const y=this.Zr(d.Hr);u.push(y)})),Ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Un(Tt);return n.forEach((o=>{const u=new Kn(o,0),d=new Kn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(y=>{a=a.add(y.Hr)}))})),Ee.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;Ge.isDocumentKey(u)||(u=u.child(""));const d=new Kn(new Ge(u),0);let y=new Un(Tt);return this.Jr.forEachWhile((v=>{const E=v.key.path;return!!a.isPrefixOf(E)&&(E.length===o&&(y=y.add(v.Hr)),!0)}),d),Ee.resolve(this.Yr(y))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Vt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Ee.forEach(n.mutations,(o=>{const u=new Kn(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new Kn(n,0),o=this.Jr.firstAfterOrEqual(a);return Ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CD{constructor(e){this.ti=e,this.docs=(function(){return new cn(Ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Ee.resolve(a?a.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let a=as();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():cr.newInvalidDocument(o))})),Ee.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=as();const d=n.path,y=new Ge(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:E,value:{document:R}}=v.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||ZI(JI(R),a)<=0||(o.has(R.key)||Cf(n,R))&&(u=u.insert(R.key,R.mutableCopy()))}return Ee.resolve(u)}getAllFromCollectionGroup(e,n,a,o){$e(9500)}ni(e,n){return Ee.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new ID(this)}getSize(e){return Ee.resolve(this.size)}}class ID extends ED{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),Ee.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class OD{constructor(e){this.persistence=e,this.ri=new Yo((n=>Fp(n)),Hp),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.ii=0,this.si=new $p,this.targetCount=0,this.oi=Gl._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),Ee.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.lr(n),Ee.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=n&&a.get(y.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),Ee.waitFor(u).next((()=>o))}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return Ee.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),Ee.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),Ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return Ee.resolve(a)}containsKey(e,n){return Ee.resolve(this.si.containsKey(n))}}class mT{constructor(e,n){this._i={},this.overlays={},this.ai=new Tf(0),this.ui=!1,this.ui=!0,this.ci=new AD,this.referenceDelegate=e(this),this.li=new OD(this),this.indexManager=new dD,this.remoteDocumentCache=(function(o){return new CD(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new hD(n),this.Pi=new SD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new RD(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){je("MemoryPersistence","Starting transaction:",e);const o=new DD(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return Ee.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class DD extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Ri=new $p,this.Ai=null}static Vi(e){return new Jp(e)}get di(){if(this.Ai)return this.Ai;throw $e(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),Ee.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.di,(a=>{const o=Ge.fromPath(a);return this.mi(e,o).next((u=>{u||n.removeEntry(o,rt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ff{constructor(e,n){this.persistence=e,this.fi=new Yo((a=>rO(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=_D(this,n)}static Vi(e,n){return new ff(e,n)}Ti(){}Ii(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return Ee.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((u=>u?Ee.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((y=>{y||(a++,u.removeEntry(d,rt.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Ee.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fh(e.data.value)),n}wr(e,n,a){return Ee.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=St(),o=St();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zp(e,n.fromCache,a,o)}}class xD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ND{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _1()?8:tO(hr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new xD;return this.ys(e,n,d).next((y=>{if(u.result=y,this.As)return this.ws(e,n,d,y.size)}))})).next((()=>u.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(Cl()<=bt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ee.resolve()):(Cl()<=bt.DEBUG&&je("QueryEngine","Query:",Il(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Cl()<=bt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,da(n))):Ee.resolve())}gs(e,n){if(TE(n))return Ee.resolve(null);let a=da(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sp(n,null,"F"),a=da(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=St(...u);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((v=>{const E=this.bs(n,y);return this.Ss(n,E,d,v.readTime)?this.gs(e,sp(n,null,"F")):this.Ds(e,E,n,v)}))))})))))}ps(e,n,a,o){return TE(n)||o.isEqual(rt.min())?Ee.resolve(null):this.fs.getDocuments(e,a).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,a,o)?Ee.resolve(null):(Cl()<=bt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Il(n)),this.Ds(e,d,n,$I(o,ac)).next((y=>y)))}))}bs(e,n){let a=new Un(Kb(e));return n.forEach(((o,u)=>{Cf(e,u)&&(a=a.add(u))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,a){return Cl()<=bt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Il(n)),this.fs.getDocumentsMatchingQuery(e,n,so.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Wp="LocalStore",MD=3e8;class VD{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new cn(Tt),this.Fs=new Yo((u=>Fp(u)),Hp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function kD(i,e,n,a){return new VD(i,e,n,a)}async function pT(i,e){const n=at(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],y=[];let v=St();for(const E of o){d.push(E.batchId);for(const R of E.mutations)v=v.add(R.key)}for(const E of u){y.push(E.batchId);for(const R of E.mutations)v=v.add(R.key)}return n.localDocuments.getDocuments(a,v).next((E=>({Ns:E,removedBatchIds:d,addedBatchIds:y})))}))}))}function PD(i,e){const n=at(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,E,R){const I=E.batch,P=I.keys();let ne=Ee.resolve();return P.forEach((me=>{ne=ne.next((()=>R.getEntry(v,me))).next((pe=>{const fe=E.docVersions.get(me);Vt(fe!==null,48541),pe.version.compareTo(fe)<0&&(I.applyToRemoteDocument(pe,E),pe.isValidDocument()&&(pe.setReadTime(E.commitVersion),R.addEntry(pe)))}))})),ne.next((()=>y.mutationQueue.removeMutationBatch(v,I)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let v=St();for(let E=0;E<y.mutationResults.length;++E)y.mutationResults[E].transformResults.length>0&&(v=v.add(y.batch.mutations[E].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function gT(i){const e=at(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function LD(i,e){const n=at(i),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const y=[];e.targetChanges.forEach(((R,I)=>{const P=o.get(I);if(!P)return;y.push(n.li.removeMatchingKeys(u,R.removedDocuments,I).next((()=>n.li.addMatchingKeys(u,R.addedDocuments,I))));let ne=P.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?ne=ne.withResumeToken(tr.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):R.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(R.resumeToken,a)),o=o.insert(I,ne),(function(pe,fe,Se){return pe.resumeToken.approximateByteSize()===0||fe.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=MD?!0:Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0})(P,ne,R)&&y.push(n.li.updateTargetData(u,ne))}));let v=as(),E=St();if(e.documentUpdates.forEach((R=>{e.resolvedLimboDocuments.has(R)&&y.push(n.persistence.referenceDelegate.updateLimboDocument(u,R))})),y.push(UD(u,d,e.documentUpdates).next((R=>{v=R.Bs,E=R.Ls}))),!a.isEqual(rt.min())){const R=n.li.getLastRemoteSnapshotVersion(u).next((I=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));y.push(R)}return Ee.waitFor(y).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,v,E))).next((()=>v))})).then((u=>(n.vs=o,u)))}function UD(i,e,n){let a=St(),o=St();return n.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let d=as();return n.forEach(((y,v)=>{const E=u.get(y);v.isFoundDocument()!==E.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(rt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):je(Wp,"Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function jD(i,e){const n=at(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function zD(i,e){const n=at(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((u=>u?(o=u,Ee.resolve(o)):n.li.allocateTargetId(a).next((d=>(o=new Ws(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}async function hp(i,e,n){const a=at(i),o=a.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!nu(d))throw d;je(Wp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function kE(i,e,n){const a=at(i);let o=rt.min(),u=St();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,E,R){const I=at(v),P=I.Fs.get(R);return P!==void 0?Ee.resolve(I.vs.get(P)):I.li.getTargetData(E,R)})(a,d,da(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{u=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,n?o:rt.min(),n?u:St()))).next((y=>(BD(a,AO(e),y),{documents:y,ks:u})))))}function BD(i,e,n){let a=i.Ms.get(e)||rt.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Ms.set(e,a)}class PE{constructor(){this.activeTargetIds=xO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qD{constructor(){this.vo=new PE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new PE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FD{Mo(e){}shutdown(){}}const LE="ConnectivityMonitor";class UE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){je(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){je(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mh=null;function fp(){return Mh===null?Mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mh++,"0x"+Mh.toString(16)}const Bm="RestConnection",HD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class KD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===sf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const d=fp(),y=this.Qo(e,n.toUriEncodedString());je(Bm,`Sending RPC '${e}' ${d}:`,y,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,u);const{host:E}=new URL(y),R=Jl(E);return this.zo(e,y,v,a,R).then((I=>(je(Bm,`Received RPC '${e}' ${d}: `,I),I)),(I=>{throw Bl(Bm,`RPC '${e}' ${d} failed with error: `,I,"url: ",y,"request:",a),I}))}jo(e,n,a,o,u,d){return this.Wo(e,n,a,o,u)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const a=HD[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class GD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const lr="WebChannelConnection",Ku=(i,e,n)=>{i.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class kl extends KD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!kl.c_){const e=bb();Ku(e,Eb.STAT_EVENT,(n=>{n.stat===ep.PROXY?je(lr,"STAT_EVENT: detected buffering proxy"):n.stat===ep.NOPROXY&&je(lr,"STAT_EVENT: detected no buffering proxy")})),kl.c_=!0}}zo(e,n,a,o,u){const d=fp();return new Promise(((y,v)=>{const E=new vb;E.setWithCredentials(!0),E.listenOnce(_b.COMPLETE,(()=>{try{switch(E.getLastErrorCode()){case qh.NO_ERROR:const I=E.getResponseJson();je(lr,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),y(I);break;case qh.TIMEOUT:je(lr,`RPC '${e}' ${d} timed out`),v(new Fe(be.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const P=E.getStatus();if(je(lr,`RPC '${e}' ${d} failed with status:`,P,"response text:",E.getResponseText()),P>0){let ne=E.getResponseJson();Array.isArray(ne)&&(ne=ne[0]);const me=ne?.error;if(me&&me.status&&me.message){const pe=(function(Se){const Te=Se.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(Te)>=0?Te:be.UNKNOWN})(me.status);v(new Fe(pe,me.message))}else v(new Fe(be.UNKNOWN,"Server responded with status "+E.getStatus()))}else v(new Fe(be.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{l_:e,streamId:d,h_:E.getLastErrorCode(),P_:E.getLastError()})}}finally{je(lr,`RPC '${e}' ${d} completed.`)}}));const R=JSON.stringify(o);je(lr,`RPC '${e}' ${d} sending request:`,o),E.send(n,"POST",R,a,15)}))}T_(e,n,a){const o=fp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const E=u.join("");je(lr,`Creating RPC '${e}' stream ${o}: ${E}`,y);const R=d.createWebChannel(E,y);this.I_(R);let I=!1,P=!1;const ne=new GD({Ho:me=>{P?je(lr,`Not sending because RPC '${e}' stream ${o} is closed:`,me):(I||(je(lr,`Opening RPC '${e}' stream ${o} transport.`),R.open(),I=!0),je(lr,`RPC '${e}' stream ${o} sending:`,me),R.send(me))},Jo:()=>R.close()});return Ku(R,Yu.EventType.OPEN,(()=>{P||(je(lr,`RPC '${e}' stream ${o} transport opened.`),ne.i_())})),Ku(R,Yu.EventType.CLOSE,(()=>{P||(P=!0,je(lr,`RPC '${e}' stream ${o} transport closed`),ne.o_(),this.E_(R))})),Ku(R,Yu.EventType.ERROR,(me=>{P||(P=!0,Bl(lr,`RPC '${e}' stream ${o} transport errored. Name:`,me.name,"Message:",me.message),ne.o_(new Fe(be.UNAVAILABLE,"The operation could not be completed")))})),Ku(R,Yu.EventType.MESSAGE,(me=>{if(!P){const pe=me.data[0];Vt(!!pe,16349);const fe=pe,Se=fe?.error||fe[0]?.error;if(Se){je(lr,`RPC '${e}' stream ${o} received error:`,Se);const Te=Se.status;let Ne=(function(Ye){const N=Nn[Ye];if(N!==void 0)return nT(N)})(Te),We=Se.message;Ne===void 0&&(Ne=be.INTERNAL,We="Unknown error status: "+Te+" with message "+Se.message),P=!0,ne.o_(new Fe(Ne,We)),R.close()}else je(lr,`RPC '${e}' stream ${o} received:`,pe),ne.__(pe)}})),kl.u_(),setTimeout((()=>{ne.s_()}),0),ne}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Tb()}}function YD(i){return new kl(i)}function qm(){return typeof document<"u"?document:null}function xf(i){return new JO(i,!0)}kl.c_=!1;class yT{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&je("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const jE="PersistentStream";class vT{constructor(e,n,a,o,u,d,y,v){this.Ci=e,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new Fe(be.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return je(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(je(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QD extends vT{constructor(e,n,a,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eD(this.serializer,e),a=(function(u){if(!("targetChange"in u))return rt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?rt.min():d.readTime?pa(d.readTime):rt.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(u,d){let y;const v=d.target;if(y=ap(v)?{documents:rD(u,v)}:{query:iD(u,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=aT(u,d.resumeToken);const E=op(u,d.expectedCount);E!==null&&(y.expectedCount=E)}else if(d.snapshotVersion.compareTo(rt.min())>0){y.readTime=hf(u,d.snapshotVersion.toTimestamp());const E=op(u,d.expectedCount);E!==null&&(y.expectedCount=E)}return y})(this.serializer,e);const a=sD(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.K_(n)}}class XD extends vT{constructor(e,n,a,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nD(e.writeResults,e.commitTime),a=pa(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=cp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>tD(this.serializer,a)))};this.K_(n)}}class $D{}class JD extends $D{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Fe(be.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,lp(n,a),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Fe(be.UNKNOWN,u.toString())}))}jo(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,lp(n,a),o,d,y,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Fe(be.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ZD(i,e,n,a){return new JD(i,e,n,a)}class WD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ho="RemoteStore";class ex{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Xo(this)&&(je(Ho,"Restarting streams for network reachability change."),await(async function(v){const E=at(v);E.Ea.add(4),await Sc(E),E.Va.set("Unknown"),E.Ea.delete(4),await Nf(E)})(this))}))})),this.Va=new WD(a,o)}}async function Nf(i){if(Xo(i))for(const e of i.Ra)await e(!0)}async function Sc(i){for(const e of i.Ra)await e(!1)}function _T(i,e){const n=at(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ng(n):ru(n).O_()&&tg(n,e))}function eg(i,e){const n=at(i),a=ru(n);n.Ia.delete(e),a.O_()&&ET(n,e),n.Ia.size===0&&(a.O_()?a.L_():Xo(n)&&n.Va.set("Unknown"))}function tg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ru(i).Z_(e)}function ET(i,e){i.da.$e(e),ru(i).X_(e)}function ng(i){i.da=new YO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ru(i).start(),i.Va.ua()}function rg(i){return Xo(i)&&!ru(i).x_()&&i.Ia.size>0}function Xo(i){return at(i).Ea.size===0}function bT(i){i.da=void 0}async function tx(i){i.Va.set("Online")}async function nx(i){i.Ia.forEach(((e,n)=>{tg(i,e)}))}async function rx(i,e){bT(i),rg(i)?(i.Va.ha(e),ng(i)):i.Va.set("Unknown")}async function ix(i,e,n){if(i.Va.set("Online"),e instanceof iT&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const y of u.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(i,e)}catch(a){je(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await df(i,a)}else if(e instanceof Gh?i.da.Xe(e):e instanceof rT?i.da.st(e):i.da.tt(e),!n.isEqual(rt.min()))try{const a=await gT(i.localStore);n.compareTo(a)>=0&&await(function(u,d){const y=u.da.Tt(d);return y.targetChanges.forEach(((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const R=u.Ia.get(E);R&&u.Ia.set(E,R.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,E)=>{const R=u.Ia.get(v);if(!R)return;u.Ia.set(v,R.withResumeToken(tr.EMPTY_BYTE_STRING,R.snapshotVersion)),ET(u,v);const I=new Ws(R.target,v,E,R.sequenceNumber);tg(u,I)})),u.remoteSyncer.applyRemoteEvent(y)})(i,n)}catch(a){je(Ho,"Failed to raise snapshot:",a),await df(i,a)}}async function df(i,e,n){if(!nu(e))throw e;i.Ea.add(1),await Sc(i),i.Va.set("Offline"),n||(n=()=>gT(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{je(Ho,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Nf(i)}))}function TT(i,e){return e().catch((n=>df(i,n,e)))}async function Mf(i){const e=at(i),n=co(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;ax(e);)try{const o=await jD(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,sx(e,o)}catch(o){await df(e,o)}ST(e)&&wT(e)}function ax(i){return Xo(i)&&i.Ta.length<10}function sx(i,e){i.Ta.push(e);const n=co(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function ST(i){return Xo(i)&&!co(i).x_()&&i.Ta.length>0}function wT(i){co(i).start()}async function ox(i){co(i).ra()}async function lx(i){const e=co(i);for(const n of i.Ta)e.ea(n.mutations)}async function ux(i,e,n){const a=i.Ta.shift(),o=Yp.from(a,e,n);await TT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Mf(i)}async function cx(i,e){e&&co(i).Y_&&await(async function(a,o){if((function(d){return HO(d)&&d!==be.ABORTED})(o.code)){const u=a.Ta.shift();co(a).B_(),await TT(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Mf(a)}})(i,e),ST(i)&&wT(i)}async function zE(i,e){const n=at(i);n.asyncQueue.verifyOperationInProgress(),je(Ho,"RemoteStore received new credentials");const a=Xo(n);n.Ea.add(3),await Sc(n),a&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Nf(n)}async function hx(i,e){const n=at(i);e?(n.Ea.delete(2),await Nf(n)):e||(n.Ea.add(2),await Sc(n),n.Va.set("Unknown"))}function ru(i){return i.ma||(i.ma=(function(n,a,o){const u=at(n);return u.sa(),new QD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:tx.bind(null,i),Yo:nx.bind(null,i),t_:rx.bind(null,i),J_:ix.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),rg(i)?ng(i):i.Va.set("Unknown")):(await i.ma.stop(),bT(i))}))),i.ma}function co(i){return i.fa||(i.fa=(function(n,a,o){const u=at(n);return u.sa(),new XD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ox.bind(null,i),t_:cx.bind(null,i),ta:lx.bind(null,i),na:ux.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Mf(i)):(await i.fa.stop(),i.Ta.length>0&&(je(Ho,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class ig{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const d=Date.now()+a,y=new ig(e,n,d,o,u);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(i,e){if(is("AsyncQueue",`${e}: ${i}`),nu(i))return new Fe(be.UNAVAILABLE,`${e}: ${i}`);throw i}class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ge.comparator(n.key,a.key):(n,a)=>Ge.comparator(n.key,a.key),this.keyedMap=Qu(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Pl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class BE{constructor(){this.ga=new cn(Ge.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):$e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Yl{constructor(e,n,a,o,u,d,y,v,E){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,n,a,o,u){const d=[];return n.forEach((y=>{d.push({type:0,doc:y})})),new Yl(e,n,Pl.emptySet(n),d,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class fx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class dx{constructor(){this.queries=qE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=at(n),u=o.queries;o.queries=qE(),u.forEach(((d,y)=>{for(const v of y.ba)v.onError(a)}))})(this,new Fe(be.ABORTED,"Firestore shutting down"))}}function qE(){return new Yo((i=>Hb(i)),Rf)}async function mx(i,e){const n=at(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(a=2):(u=new fx,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const y=ag(d,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(y)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&sg(n)}async function px(i,e){const n=at(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function gx(i,e){const n=at(i);let a=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const y of d.ba)y.Fa(o)&&(a=!0);d.wa=o}}a&&sg(n)}function yx(i,e,n){const a=at(i),o=a.queries.get(e);if(o)for(const u of o.ba)u.onError(n);a.queries.delete(e)}function sg(i){i.Ca.forEach((e=>{e.next()}))}var dp,FE;(FE=dp||(dp={})).Ma="default",FE.Cache="cache";class vx{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Yl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class AT{constructor(e){this.key=e}}class RT{constructor(e){this.key=e}}class _x{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=St(),this.mutatedKeys=St(),this.eu=Kb(e),this.tu=new Pl(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new BE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,E=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((R,I)=>{const P=o.get(R),ne=Cf(this.query,I)?I:null,me=!!P&&this.mutatedKeys.has(P.key),pe=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let fe=!1;P&&ne?P.data.isEqual(ne.data)?me!==pe&&(a.track({type:3,doc:ne}),fe=!0):this.su(P,ne)||(a.track({type:2,doc:ne}),fe=!0,(v&&this.eu(ne,v)>0||E&&this.eu(ne,E)<0)&&(y=!0)):!P&&ne?(a.track({type:0,doc:ne}),fe=!0):P&&!ne&&(a.track({type:1,doc:P}),fe=!0,(v||E)&&(y=!0)),fe&&(ne?(d=d.add(ne),u=pe?u.add(R):u.delete(R)):(d=d.delete(R),u=u.delete(R)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),u=u.delete(R.key),a.track({type:1,doc:R})}return{tu:d,iu:a,Ss:y,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((R,I)=>(function(ne,me){const pe=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:fe})}};return pe(ne)-pe(me)})(R.type,I.type)||this.eu(R.doc,I.doc))),this.ou(a),o=o??!1;const y=n&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,E=v!==this.Xa;return this.Xa=v,d.length!==0||E?{snapshot:new Yl(this.query,e.tu,u,d,e.mutatedKeys,v===0,E,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=St(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new RT(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new AT(a))})),n}cu(e){this.Za=e.ks,this.Ya=St();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const og="SyncEngine";class Ex{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class bx{constructor(e){this.key=e,this.hu=!1}}class Tx{constructor(e,n,a,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yo((y=>Hb(y)),Rf),this.Iu=new Map,this.Eu=new Set,this.Ru=new cn(Ge.comparator),this.Au=new Map,this.Vu=new $p,this.du={},this.mu=new Map,this.fu=Gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sx(i,e,n=!0){const a=NT(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await CT(a,e,n,!0),o}async function wx(i,e){const n=NT(i);await CT(n,e,!0,!1)}async function CT(i,e,n,a){const o=await zD(i.localStore,da(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let y;return a&&(y=await Ax(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&_T(i.remoteStore,o),y}async function Ax(i,e,n,a,o){i.pu=(I,P,ne)=>(async function(pe,fe,Se,Te){let Ne=fe.view.ru(Se);Ne.Ss&&(Ne=await kE(pe.localStore,fe.query,!1).then((({documents:N})=>fe.view.ru(N,Ne))));const We=Te&&Te.targetChanges.get(fe.targetId),st=Te&&Te.targetMismatches.get(fe.targetId)!=null,Ye=fe.view.applyChanges(Ne,pe.isPrimaryClient,We,st);return KE(pe,fe.targetId,Ye.au),Ye.snapshot})(i,I,P,ne);const u=await kE(i.localStore,e,!0),d=new _x(e,u.ks),y=d.ru(u.documents),v=Tc.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),E=d.applyChanges(y,i.isPrimaryClient,v);KE(i,n,E.au);const R=new Ex(e,n,d);return i.Tu.set(e,R),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),E.snapshot}async function Rx(i,e,n){const a=at(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((d=>!Rf(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&eg(a.remoteStore,o.targetId),mp(a,o.targetId)})).catch(tu)):(mp(a,o.targetId),await hp(a.localStore,o.targetId,!0))}async function Cx(i,e){const n=at(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),eg(n.remoteStore,a.targetId))}async function Ix(i,e,n){const a=kx(i);try{const o=await(function(d,y){const v=at(d),E=$t.now(),R=y.reduce(((ne,me)=>ne.add(me.key)),St());let I,P;return v.persistence.runTransaction("Locally write mutations","readwrite",(ne=>{let me=as(),pe=St();return v.xs.getEntries(ne,R).next((fe=>{me=fe,me.forEach(((Se,Te)=>{Te.isValidDocument()||(pe=pe.add(Se))}))})).next((()=>v.localDocuments.getOverlayedDocuments(ne,me))).next((fe=>{I=fe;const Se=[];for(const Te of y){const Ne=jO(Te,I.get(Te.key).overlayedDocument);Ne!=null&&Se.push(new Qo(Te.key,Ne,Pb(Ne.value.mapValue),ma.exists(!0)))}return v.mutationQueue.addMutationBatch(ne,E,Se,y)})).next((fe=>{P=fe;const Se=fe.applyToLocalDocumentSet(I,pe);return v.documentOverlayCache.saveOverlays(ne,fe.batchId,Se)}))})).then((()=>({batchId:P.batchId,changes:Yb(I)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let E=d.du[d.currentUser.toKey()];E||(E=new cn(Tt)),E=E.insert(y,v),d.du[d.currentUser.toKey()]=E})(a,o.batchId,n),await wc(a,o.changes),await Mf(a.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");n.reject(u)}}async function IT(i,e){const n=at(i);try{const a=await LD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Vt(d.hu,14607):o.removedDocuments.size>0&&(Vt(d.hu,42227),d.hu=!1))})),await wc(n,a,e)}catch(a){await tu(a)}}function HE(i,e,n){const a=at(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=at(d);v.onlineState=y;let E=!1;v.queries.forEach(((R,I)=>{for(const P of I.ba)P.va(y)&&(E=!0)})),E&&sg(v)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Ox(i,e,n){const a=at(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let d=new cn(Ge.comparator);d=d.insert(u,cr.newNoDocument(u,rt.min()));const y=St().add(u),v=new Df(rt.min(),new Map,new cn(Tt),d,y);await IT(a,v),a.Ru=a.Ru.remove(u),a.Au.delete(e),lg(a)}else await hp(a.localStore,e,!1).then((()=>mp(a,e,n))).catch(tu)}async function Dx(i,e){const n=at(i),a=e.batch.batchId;try{const o=await PD(n.localStore,e);DT(n,a,null),OT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await wc(n,o)}catch(o){await tu(o)}}async function xx(i,e,n){const a=at(i);try{const o=await(function(d,y){const v=at(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(E=>{let R;return v.mutationQueue.lookupMutationBatch(E,y).next((I=>(Vt(I!==null,37113),R=I.keys(),v.mutationQueue.removeMutationBatch(E,I)))).next((()=>v.mutationQueue.performConsistencyCheck(E))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(E,R,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,R))).next((()=>v.localDocuments.getDocuments(E,R)))}))})(a.localStore,e);DT(a,e,n),OT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await wc(a,o)}catch(o){await tu(o)}}function OT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function DT(i,e,n){const a=at(i);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function mp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((a=>{i.Vu.containsKey(a)||xT(i,a)}))}function xT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(eg(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),lg(i))}function KE(i,e,n){for(const a of n)a instanceof AT?(i.Vu.addReference(a.key,e),Nx(i,a)):a instanceof RT?(je(og,"Document no longer in limbo: "+a.key),i.Vu.removeReference(a.key,e),i.Vu.containsKey(a.key)||xT(i,a.key)):$e(19791,{wu:a})}function Nx(i,e){const n=e.key,a=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(a)||(je(og,"New document in limbo: "+n),i.Eu.add(a),lg(i))}function lg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ge(Xt.fromString(e)),a=i.fu.next();i.Au.set(a,new bx(n)),i.Ru=i.Ru.insert(n,a),_T(i.remoteStore,new Ws(da(Fb(n.path)),a,"TargetPurposeLimboResolution",Tf.ce))}}async function wc(i,e,n){const a=at(i),o=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,v)=>{d.push(a.pu(v,e,n).then((E=>{if((E||n)&&a.isPrimaryClient){const R=E?!E.fromCache:n?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(E){o.push(E);const R=Zp.Es(v.targetId,E);u.push(R)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(v,E){const R=at(v);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Ee.forEach(E,(P=>Ee.forEach(P.Ts,(ne=>R.persistence.referenceDelegate.addReference(I,P.targetId,ne))).next((()=>Ee.forEach(P.Is,(ne=>R.persistence.referenceDelegate.removeReference(I,P.targetId,ne)))))))))}catch(I){if(!nu(I))throw I;je(Wp,"Failed to update sequence numbers: "+I)}for(const I of E){const P=I.targetId;if(!I.fromCache){const ne=R.vs.get(P),me=ne.snapshotVersion,pe=ne.withLastLimboFreeSnapshotVersion(me);R.vs=R.vs.insert(P,pe)}}})(a.localStore,u))}async function Mx(i,e){const n=at(i);if(!n.currentUser.isEqual(e)){je(og,"User change. New user:",e.toKey());const a=await pT(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((y=>{y.forEach((v=>{v.reject(new Fe(be.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await wc(n,a.Ns)}}function Vx(i,e){const n=at(i),a=n.Au.get(e);if(a&&a.hu)return St().add(a.key);{let o=St();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const y=n.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function NT(i){const e=at(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ox.bind(null,e),e.Pu.J_=gx.bind(null,e.eventManager),e.Pu.yu=yx.bind(null,e.eventManager),e}function kx(i){const e=at(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xx.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kD(this.persistence,new ND,e.initialUser,this.serializer)}Cu(e){return new mT(Jp.Vi,this.serializer)}Du(e){return new qD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class Px extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Vt(this.persistence.referenceDelegate instanceof ff,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new yD(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new mT((a=>ff.Vi(a,n)),this.serializer)}}class pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>HE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mx.bind(null,this.syncEngine),await hx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dx})()}createDatastore(e){const n=xf(e.databaseInfo.databaseId),a=YD(e.databaseInfo);return ZD(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,d,y){return new ex(a,o,u,d,y)})(this.localStore,this.datastore,e.asyncQueue,(n=>HE(this.syncEngine,n,0)),(function(){return UE.v()?new UE:new FD})())}createSyncEngine(e,n){return(function(o,u,d,y,v,E,R){const I=new Tx(o,u,d,y,v,E);return R&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=at(n);je(Ho,"RemoteStore shutting down."),a.Ea.add(5),await Sc(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pp.provider={build:()=>new pp};class Lx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ho="FirestoreClient";class Ux{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=ur.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{je(ho,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(je(ho,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=ag(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Fm(i,e){i.asyncQueue.verifyOperationInProgress(),je(ho,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await pT(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function GE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await jx(i);je(ho,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>zE(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>zE(e.remoteStore,o))),i._onlineComponents=e}async function jx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){je(ho,"Using user provided OfflineComponentProvider");try{await Fm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===be.FAILED_PRECONDITION||o.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await Fm(i,new mf)}}else je(ho,"Using default OfflineComponentProvider"),await Fm(i,new Px(void 0));return i._offlineComponents}async function MT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(je(ho,"Using user provided OnlineComponentProvider"),await GE(i,i._uninitializedComponentsProvider._online)):(je(ho,"Using default OnlineComponentProvider"),await GE(i,new pp))),i._onlineComponents}function zx(i){return MT(i).then((e=>e.syncEngine))}async function Bx(i){const e=await MT(i),n=e.eventManager;return n.onListen=Sx.bind(null,e.syncEngine),n.onUnlisten=Rx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cx.bind(null,e.syncEngine),n}function qx(i,e,n={}){const a=new io;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,y,v,E){const R=new Lx({next:P=>{R.Nu(),d.enqueueAndForget((()=>px(u,I))),P.fromCache&&v.source==="server"?E.reject(new Fe(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(P)},error:P=>E.reject(P)}),I=new vx(y,R,{includeMetadataChanges:!0,Ka:!0});return mx(u,I)})(await Bx(i),i.asyncQueue,e,n,a))),a.promise}function Fx(i,e){const n=new io;return i.asyncQueue.enqueueAndForget((async()=>Ix(await zx(i),e,n))),n.promise}function VT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Hx="ComponentProvider",YE=new Map;function Kx(i,e,n,a,o){return new sO(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,VT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const kT="firestore.googleapis.com",QE=!0;class XE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=QE}else this.host=e.host,this.ssl=e.ssl??QE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pD)throw new Fe(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Fe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Fe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Fe(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new jI;switch(a.type){case"firstParty":return new FI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=YE.get(n);a&&(je(Hx,"Removing Datastore"),YE.delete(n),a.terminate())})(this),Promise.resolve()}}function Gx(i,e,n,a={}){i=Fl(i,Vf);const o=Jl(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},y=`${e}:${n}`;o&&(N0(`https://${y}`),M0("Firestore",!0)),u.host!==kT&&u.host!==y&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:y,ssl:o,emulatorOptions:a};if(!zo(v,d)&&(i._setSettings(v),a.mockUserToken)){let E,R;if(typeof a.mockUserToken=="string")E=a.mockUserToken,R=ur.MOCK_USER;else{E=c1(a.mockUserToken,i._app?.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new Fe(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new ur(I)}i._authCredentials=new zI(new wb(E,R))}}class kf{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class Gn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}toJSON(){return{type:Gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Ec(n,Gn._jsonSchema))return new Gn(e,a||null,new Ge(Xt.fromString(n.referencePath)))}}Gn._jsonSchemaVersion="firestore/documentReference/1.0",Gn._jsonSchema={type:Mn("string",Gn._jsonSchemaVersion),referencePath:Mn("string")};class ao extends kf{constructor(e,n,a){super(e,n,Fb(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Ge(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function Yx(i,e,...n){if(i=xi(i),Ab("collection","path",e),i instanceof Vf){const a=Xt.fromString(e,...n);return uE(a),new ao(i,null,a)}{if(!(i instanceof Gn||i instanceof ao))throw new Fe(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Xt.fromString(e,...n));return uE(a),new ao(i.firestore,null,a)}}function PT(i,e,...n){if(i=xi(i),arguments.length===1&&(e=Up.newId()),Ab("doc","path",e),i instanceof Vf){const a=Xt.fromString(e,...n);return lE(a),new Gn(i,null,new Ge(a))}{if(!(i instanceof Gn||i instanceof ao))throw new Fe(be.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(Xt.fromString(e,...n));return lE(a),new Gn(i.firestore,i instanceof ao?i.converter:null,new Ge(a))}}const $E="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yT(this,"async_queue_retry"),this._c=()=>{const a=qm();a&&je($E,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new io;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!nu(e))throw e;je($E,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",ZE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ig.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&$e(47125,{Pc:ZE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ZE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Pf extends Vf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new JE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function Qx(i,e){const n=typeof i=="object"?i:L0(),a=typeof i=="string"?i:sf,o=Cp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=l1("firestore");u&&Gx(o,...u)}return o}function LT(i){if(i._terminated)throw new Fe(be.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Xx(i),i._firestoreClient}function Xx(i){const e=i._freezeSettings(),n=Kx(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Ux(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(tr.fromBase64String(e))}catch(n){throw new Fe(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Di(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,Di._jsonSchema))return Di.fromBase64String(e.bytes)}}Di._jsonSchemaVersion="firestore/bytes/1.0",Di._jsonSchema={type:Mn("string",Di._jsonSchemaVersion),bytes:Mn("string")};class UT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._methodName=e}}class ga{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ga._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,ga._jsonSchema))return new ga(e.latitude,e.longitude)}}ga._jsonSchemaVersion="firestore/geoPoint/1.0",ga._jsonSchema={type:Mn("string",ga._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};class Yi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Yi(e.vectorValues);throw new Fe(be.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Mn("string",Yi._jsonSchemaVersion),vectorValues:Mn("object")};const $x=/^__.*__$/;class Jx{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}function jT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{dataSource:i})}}class cg{constructor(e,n,a,o,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const n=this.path?.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jT(this.dataSource)&&$x.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||xf(e)}createContext(e,n,a,o=!1){return new cg({dataSource:e,methodName:n,targetDoc:a,path:er.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wx(i){const e=i._freezeSettings(),n=xf(i._databaseId);return new Zx(i._databaseId,!!e.ignoreUndefinedProperties,n)}function eN(i,e,n,a,o,u={}){const d=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);FT("Data must be an object, but it was:",d,a);const y=BT(a,d);let v,E;if(u.merge)v=new Gi(d.fieldMask),E=d.fieldTransforms;else if(u.mergeFields){const R=[];for(const I of u.mergeFields){const P=fg(e,I,n);if(!d.contains(P))throw new Fe(be.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);rN(R,P)||R.push(P)}v=new Gi(R),E=d.fieldTransforms.filter((I=>v.covers(I.field)))}else v=null,E=d.fieldTransforms;return new Jx(new Oi(y),v,E)}class hg extends ug{_toFieldTransform(e){return new kO(e.path,new uc)}isEqual(e){return e instanceof hg}}function zT(i,e){if(qT(i=xi(i)))return FT("Unsupported field value:",e,i),BT(i,e);if(i instanceof ug)return(function(a,o){if(!jT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const u=[];let d=0;for(const y of a){let v=zT(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),d++}return{arrayValue:{values:u}}})(i,e)}return(function(a,o){if((a=xi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return NO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=$t.fromDate(a);return{timestampValue:hf(o.serializer,u)}}if(a instanceof $t){const u=new $t(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hf(o.serializer,u)}}if(a instanceof ga)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Di)return{bytesValue:aT(o.serializer,a._byteString)};if(a instanceof Gn){const u=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,y){const v=d instanceof Yi?d.toArray():d;return{mapValue:{fields:{[Vb]:{stringValue:kb},[of]:{arrayValue:{values:v.map((R=>{if(typeof R!="number")throw y.createError("VectorValues must only contain numeric values.");return Kp(y.serializer,R)}))}}}}}})(a,o);if(fT(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${jp(a)}`)})(i,e)}function BT(i,e){const n={};return Ib(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(i,((a,o)=>{const u=zT(o,e.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function qT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof $t||i instanceof ga||i instanceof Di||i instanceof Gn||i instanceof ug||i instanceof Yi||fT(i))}function FT(i,e,n){if(!qT(n)||!Rb(n)){const a=jp(n);throw a==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+a)}}function fg(i,e,n){if((e=xi(e))instanceof UT)return e._internalPath;if(typeof e=="string")return nN(i,e);throw pf("Field path arguments must be of type string or ",i,!1,void 0,n)}const tN=new RegExp("[~\\*/\\[\\]]");function nN(i,e,n){if(e.search(tN)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new UT(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function pf(i,e,n,a,o){const u=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;n&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(u||d)&&(v+=" (found",u&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new Fe(be.INVALID_ARGUMENT,y+i+v)}function rN(i,e){return i.some((n=>n.isEqual(e)))}class iN{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Go(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[of].arrayValue?.values?.map((a=>Sn(a.doubleValue)));return new Yi(n)}convertGeoPoint(e){return new ga(Sn(e.latitude),Sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=wf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=oo(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Xt.fromString(e);Vt(hT(a),9688,{name:e});const o=new oc(a.get(1),a.get(3)),u=new Ge(a.popFirst(5));return o.isEqual(n)||is(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class aN extends iN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function WE(){return new hg("serverTimestamp")}const e0="@firebase/firestore",t0="4.10.0";class HT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(fg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sN extends HT{data(){return super.data()}}function oN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Fe(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function lN(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}class Vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends HT{constructor(e,n,a,o,u,d){super(e,n,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(fg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(be.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:Mn("string",Ll._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Yh extends Ll{data(e={}){return super.data(e)}}class Ul{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vh(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Yh(this._firestore,this._userDataWriter,a.key,a,new Vh(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Yh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vh(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>u||y.type!==3)).map((y=>{const v=new Yh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Vh(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let E=-1,R=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),R=d.indexOf(y.doc.key)),{type:uN(y.type),doc:v,oldIndex:E,newIndex:R}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(be.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:i})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:Mn("string",Ul._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};function cN(i){i=Fl(i,kf);const e=Fl(i.firestore,Pf),n=LT(e),a=new aN(e);return oN(i._query),qx(n,i._query).then((o=>new Ul(e,a,i,o)))}function hN(i,e,n){i=Fl(i,Gn);const a=Fl(i.firestore,Pf),o=lN(i.converter,e,n),u=Wx(a);return KT(a,[eN(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ma.none())])}function fN(i){return KT(Fl(i.firestore,Pf),[new Gp(i._key,ma.none())])}function KT(i,e){const n=LT(i);return Fx(n,e)}(function(e,n=!0){UI(Zl),jl(new Bo("firestore",((a,{instanceIdentifier:o,options:u})=>{const d=a.getProvider("app").getImmediate(),y=new Pf(new BI(a.getProvider("auth-internal")),new HI(d,a.getProvider("app-check-internal")),oO(d,o),d);return u={useFetchStreams:n,...u},y._setSettings(u),y}),"PUBLIC").setMultipleInstances(!0)),no(e0,t0,e),no(e0,t0,"esm2020")})();const dN={apiKey:"AIzaSyCEr9isiB41rUZ5I4kqvTbiVnXkQdiGqN8",authDomain:"sistema-impo.firebaseapp.com",projectId:"sistema-impo",storageBucket:"sistema-impo.firebasestorage.app",messagingSenderId:"513664943389",appId:"1:513664943389:web:4b788955edbfde2ef0cdf4"},GT=P0(dN),n0=VI(GT),dg=Qx(GT),YT=oe.createContext(null);function mN({children:i}){const[e,n]=oe.useState(null),[a,o]=oe.useState(!0);return oe.useEffect(()=>{const u=SC(n0,d=>{n(d),o(!1)});return()=>u()},[]),D.jsx(YT.Provider,{value:{user:e,auth:n0},children:!a&&i})}function pN(){return oe.useContext(YT)}function gN(){const{user:i,logout:e}=pN(),[n,a]=oe.useState(navigator.onLine),[o,u]=oe.useState(!1);oe.useEffect(()=>{const v=()=>a(!0),E=()=>a(!1);window.addEventListener("online",v),window.addEventListener("offline",E);const R=()=>u(!0),I=()=>u(!1);return window.addEventListener("sync:start",R),window.addEventListener("sync:end",I),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",E),window.removeEventListener("sync:start",R),window.removeEventListener("sync:end",I)}},[]);const d=n?o?"Sincronizando":"Conectado":"Offline",y=n?o?"sync-status syncing":"sync-status online":"sync-status offline";return D.jsxs("nav",{className:"navbar",children:[D.jsxs("div",{className:"navbar-left",children:[D.jsx(wp,{to:"/",className:"navbar-brand",children:"ImportSys"}),D.jsx(Gu,{to:"/operaciones",className:({isActive:v})=>v?"nav-link active":"nav-link",children:"Operaciones"}),D.jsx(Gu,{to:"/documentos",className:({isActive:v})=>v?"nav-link active":"nav-link",children:"Documentos"}),D.jsx(Gu,{to:"/finanzas",className:({isActive:v})=>v?"nav-link active":"nav-link",children:"Finanzas"}),D.jsx(Gu,{to:"/logistica",className:({isActive:v})=>v?"nav-link active":"nav-link",children:"Logstica"})]}),D.jsxs("div",{className:"navbar-right",children:[D.jsxs("div",{className:y,children:[D.jsx("span",{className:"dot"}),d]}),D.jsx("span",{className:"navbar-user",children:i?.email}),D.jsx("button",{className:"logout-btn",onClick:e,children:"Salir"})]})]})}var Qh={exports:{}},yN=Qh.exports,r0;function vN(){return r0||(r0=1,(function(i,e){(function(n,a){i.exports=a()})(yN,function(){var n=function(h,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w])})(h,m)},a=function(){return(a=Object.assign||function(h){for(var m,g=1,b=arguments.length;g<b;g++)for(var w in m=arguments[g])Object.prototype.hasOwnProperty.call(m,w)&&(h[w]=m[w]);return h}).apply(this,arguments)};function o(h,m,g){for(var b,w=0,A=m.length;w<A;w++)!b&&w in m||((b=b||Array.prototype.slice.call(m,0,w))[w]=m[w]);return h.concat(b||Array.prototype.slice.call(m))}var u=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:hw,d=Object.keys,y=Array.isArray;function v(h,m){return typeof m!="object"||d(m).forEach(function(g){h[g]=m[g]}),h}typeof Promise>"u"||u.Promise||(u.Promise=Promise);var E=Object.getPrototypeOf,R={}.hasOwnProperty;function I(h,m){return R.call(h,m)}function P(h,m){typeof m=="function"&&(m=m(E(h))),(typeof Reflect>"u"?d:Reflect.ownKeys)(m).forEach(function(g){me(h,g,m[g])})}var ne=Object.defineProperty;function me(h,m,g,b){ne(h,m,v(g&&I(g,"get")&&typeof g.get=="function"?{get:g.get,set:g.set,configurable:!0}:{value:g,configurable:!0,writable:!0},b))}function pe(h){return{from:function(m){return h.prototype=Object.create(m.prototype),me(h.prototype,"constructor",h),{extend:P.bind(null,h.prototype)}}}}var fe=Object.getOwnPropertyDescriptor,Se=[].slice;function Te(h,m,g){return Se.call(h,m,g)}function Ne(h,m){return m(h)}function We(h){if(!h)throw new Error("Assertion Failed")}function st(h){u.setImmediate?setImmediate(h):setTimeout(h,0)}function Ye(h,m){if(typeof m=="string"&&I(h,m))return h[m];if(!m)return h;if(typeof m!="string"){for(var g=[],b=0,w=m.length;b<w;++b){var A=Ye(h,m[b]);g.push(A)}return g}var x=m.indexOf(".");if(x!==-1){var V=h[m.substr(0,x)];return V==null?void 0:Ye(V,m.substr(x+1))}}function N(h,m,g){if(h&&m!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof m!="string"&&"length"in m){We(typeof g!="string"&&"length"in g);for(var b=0,w=m.length;b<w;++b)N(h,m[b],g[b])}else{var A,x,V=m.indexOf(".");V!==-1?(A=m.substr(0,V),(x=m.substr(V+1))===""?g===void 0?y(h)&&!isNaN(parseInt(A))?h.splice(A,1):delete h[A]:h[A]=g:N(V=!(V=h[A])||!I(h,A)?h[A]={}:V,x,g)):g===void 0?y(h)&&!isNaN(parseInt(m))?h.splice(m,1):delete h[m]:h[m]=g}}function M(h){var m,g={};for(m in h)I(h,m)&&(g[m]=h[m]);return g}var L=[].concat;function G(h){return L.apply([],h)}var qr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(G([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(m){return m+h+"Array"})}))).filter(function(h){return u[h]}),F=new Set(qr.map(function(h){return u[h]})),W=null;function k(h){return W=new WeakMap,h=(function m(g){if(!g||typeof g!="object")return g;var b=W.get(g);if(b)return b;if(y(g)){b=[],W.set(g,b);for(var w=0,A=g.length;w<A;++w)b.push(m(g[w]))}else if(F.has(g.constructor))b=g;else{var x,V=E(g);for(x in b=V===Object.prototype?{}:Object.create(V),W.set(g,b),g)I(g,x)&&(b[x]=m(g[x]))}return b})(h),W=null,h}var Ht={}.toString;function en(h){return Ht.call(h).slice(8,-1)}var he=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Pe=typeof he=="symbol"?function(h){var m;return h!=null&&(m=h[he])&&m.apply(h)}:function(){return null};function Be(h,m){return m=h.indexOf(m),0<=m&&h.splice(m,1),0<=m}var ht={};function ft(h){var m,g,b,w;if(arguments.length===1){if(y(h))return h.slice();if(this===ht&&typeof h=="string")return[h];if(w=Pe(h)){for(g=[];!(b=w.next()).done;)g.push(b.value);return g}if(h==null)return[h];if(typeof(m=h.length)!="number")return[h];for(g=new Array(m);m--;)g[m]=h[m];return g}for(m=arguments.length,g=new Array(m);m--;)g[m]=arguments[m];return g}var K=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Br=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],gr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Br),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function De(h,m){this.name=h,this.message=m}function Ue(h,m){return h+". Errors: "+Object.keys(m).map(function(g){return m[g].toString()}).filter(function(g,b,w){return w.indexOf(g)===b}).join(`
`)}function Qe(h,m,g,b){this.failures=m,this.failedKeys=b,this.successCount=g,this.message=Ue(h,m)}function Je(h,m){this.name="BulkError",this.failures=Object.keys(m).map(function(g){return m[g]}),this.failuresByPos=m,this.message=Ue(h,this.failures)}pe(De).from(Error).extend({toString:function(){return this.name+": "+this.message}}),pe(Qe).from(De),pe(Je).from(De);var mt=gr.reduce(function(h,m){return h[m]=m+"Error",h},{}),pn=De,ke=gr.reduce(function(h,m){var g=m+"Error";function b(w,A){this.name=g,w?typeof w=="string"?(this.message="".concat(w).concat(A?`
 `+A:""),this.inner=A||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=ye[m]||g,this.inner=null)}return pe(b).from(pn),h[m]=b,h},{});ke.Syntax=SyntaxError,ke.Type=TypeError,ke.Range=RangeError;var Qi=Br.reduce(function(h,m){return h[m+"Error"]=ke[m],h},{}),Mi=gr.reduce(function(h,m){return["Syntax","Type","Range"].indexOf(m)===-1&&(h[m+"Error"]=ke[m]),h},{});function wt(){}function li(h){return h}function ui(h,m){return h==null||h===li?m:function(g){return m(h(g))}}function zr(h,m){return function(){h.apply(this,arguments),m.apply(this,arguments)}}function Ta(h,m){return h===wt?m:function(){var g=h.apply(this,arguments);g!==void 0&&(arguments[0]=g);var b=this.onsuccess,w=this.onerror;this.onsuccess=null,this.onerror=null;var A=m.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?zr(b,this.onsuccess):b),w&&(this.onerror=this.onerror?zr(w,this.onerror):w),A!==void 0?A:g}}function fo(h,m){return h===wt?m:function(){h.apply(this,arguments);var g=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,m.apply(this,arguments),g&&(this.onsuccess=this.onsuccess?zr(g,this.onsuccess):g),b&&(this.onerror=this.onerror?zr(b,this.onerror):b)}}function mo(h,m){return h===wt?m:function(g){var b=h.apply(this,arguments);v(g,b);var w=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,g=m.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?zr(w,this.onsuccess):w),A&&(this.onerror=this.onerror?zr(A,this.onerror):A),b===void 0?g===void 0?void 0:g:v(b,g)}}function hn(h,m){return h===wt?m:function(){return m.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function tn(h,m){return h===wt?m:function(){var g=h.apply(this,arguments);if(g&&typeof g.then=="function"){for(var b=this,w=arguments.length,A=new Array(w);w--;)A[w]=arguments[w];return g.then(function(){return m.apply(b,A)})}return m.apply(this,arguments)}}Mi.ModifyError=Qe,Mi.DexieError=De,Mi.BulkError=Je;var Vn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $o(h){Vn=h}var Xi={},jn=100,qr=typeof Promise>"u"?[]:(function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,E(h),h];var m=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[m,E(m),h]})(),Br=qr[0],gr=qr[1],qr=qr[2],gr=gr&&gr.then,Fr=Br&&Br.constructor,ci=!!qr,Sa=function(h,m){$i.push([h,m]),wa&&(queueMicrotask(Jo),wa=!1)},os=!0,wa=!0,hi=[],nr=[],gn=li,yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:wt,pgp:!1,env:{},finalize:wt},Ve=yn,$i=[],vr=0,Aa=[];function Oe(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var m=this._PSD=Ve;if(typeof h!="function"){if(h!==Xi)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&_r(this,this._value))}this._state=null,this._value=null,++m.ref,(function g(b,w){try{w(function(A){if(b._state===null){if(A===b)throw new TypeError("A promise cannot be resolved with itself.");var x=b._lib&&Yn();A&&typeof A.then=="function"?g(b,function(V,z){A instanceof Oe?A._then(V,z):A.then(V,z)}):(b._state=!0,b._value=A,Hr(b)),x&&Er()}},_r.bind(null,b))}catch(A){_r(b,A)}})(this,h)}var Vi={get:function(){var h=Ve,m=rr;function g(b,w){var A=this,x=!h.global&&(h!==Ve||m!==rr),V=x&&!kn(),z=new Oe(function(B,X){fr(A,new nn(Ia(b,h,x,V),Ia(w,h,x,V),B,X,h))});return this._consoleTask&&(z._consoleTask=this._consoleTask),z}return g.prototype=Xi,g},set:function(h){me(this,"then",h&&h.prototype===Xi?Vi:{get:function(){return h},set:Vi.set})}};function nn(h,m,g,b,w){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof m=="function"?m:null,this.resolve=g,this.reject=b,this.psd=w}function _r(h,m){var g,b;nr.push(m),h._state===null&&(g=h._lib&&Yn(),m=gn(m),h._state=!1,h._value=m,b=h,hi.some(function(w){return w._value===b._value})||hi.push(b),Hr(h),g&&Er())}function Hr(h){var m=h._listeners;h._listeners=[];for(var g=0,b=m.length;g<b;++g)fr(h,m[g]);var w=h._PSD;--w.ref||w.finalize(),vr===0&&(++vr,Sa(function(){--vr==0&&po()},[]))}function fr(h,m){if(h._state!==null){var g=h._state?m.onFulfilled:m.onRejected;if(g===null)return(h._state?m.resolve:m.reject)(h._value);++m.psd.ref,++vr,Sa(au,[g,h,m])}else h._listeners.push(m)}function au(h,m,g){try{var b,w=m._value;!m._state&&nr.length&&(nr=[]),b=Vn&&m._consoleTask?m._consoleTask.run(function(){return h(w)}):h(w),m._state||nr.indexOf(w)!==-1||(function(A){for(var x=hi.length;x;)if(hi[--x]._value===A._value)return hi.splice(x,1)})(m),g.resolve(b)}catch(A){g.reject(A)}finally{--vr==0&&po(),--g.psd.ref||g.psd.finalize()}}function Jo(){zn(yn,function(){Yn()&&Er()})}function Yn(){var h=os;return wa=os=!1,h}function Er(){var h,m,g;do for(;0<$i.length;)for(h=$i,$i=[],g=h.length,m=0;m<g;++m){var b=h[m];b[0].apply(null,b[1])}while(0<$i.length);wa=os=!0}function po(){var h=hi;hi=[],h.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var m=Aa.slice(0),g=m.length;g;)m[--g]()}function fi(h){return new Oe(Xi,!1,h)}function Mt(h,m){var g=Ve;return function(){var b=Yn(),w=Ve;try{return Gr(g,!0),h.apply(this,arguments)}catch(A){m&&m(A)}finally{Gr(w,!1),b&&Er()}}}P(Oe.prototype,{then:Vi,_then:function(h,m){fr(this,new nn(null,null,h,m,Ve))},catch:function(h){if(arguments.length===1)return this.then(null,h);var m=h,g=arguments[1];return typeof m=="function"?this.then(null,function(b){return(b instanceof m?g:fi)(b)}):this.then(null,function(b){return(b&&b.name===m?g:fi)(b)})},finally:function(h){return this.then(function(m){return Oe.resolve(h()).then(function(){return m})},function(m){return Oe.resolve(h()).then(function(){return fi(m)})})},timeout:function(h,m){var g=this;return h<1/0?new Oe(function(b,w){var A=setTimeout(function(){return w(new ke.Timeout(m))},h);g.then(b,w).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&me(Oe.prototype,Symbol.toStringTag,"Dexie.Promise"),yn.env=go(),P(Oe,{all:function(){var h=ft.apply(null,arguments).map(ki);return new Oe(function(m,g){h.length===0&&m([]);var b=h.length;h.forEach(function(w,A){return Oe.resolve(w).then(function(x){h[A]=x,--b||m(h)},g)})})},resolve:function(h){return h instanceof Oe?h:h&&typeof h.then=="function"?new Oe(function(m,g){h.then(m,g)}):new Oe(Xi,!0,h)},reject:fi,race:function(){var h=ft.apply(null,arguments).map(ki);return new Oe(function(m,g){h.map(function(b){return Oe.resolve(b).then(m,g)})})},PSD:{get:function(){return Ve},set:function(h){return Ve=h}},totalEchoes:{get:function(){return rr}},newPSD:kt,usePSD:zn,scheduler:{get:function(){return Sa},set:function(h){Sa=h}},rejectionMapper:{get:function(){return gn},set:function(h){gn=h}},follow:function(h,m){return new Oe(function(g,b){return kt(function(w,A){var x=Ve;x.unhandleds=[],x.onunhandled=A,x.finalize=zr(function(){var V,z=this;V=function(){z.unhandleds.length===0?w():A(z.unhandleds[0])},Aa.push(function B(){V(),Aa.splice(Aa.indexOf(B),1)}),++vr,Sa(function(){--vr==0&&po()},[])},x.finalize),h()},m,g,b)})}}),Fr&&(Fr.allSettled&&me(Oe,"allSettled",function(){var h=ft.apply(null,arguments).map(ki);return new Oe(function(m){h.length===0&&m([]);var g=h.length,b=new Array(g);h.forEach(function(w,A){return Oe.resolve(w).then(function(x){return b[A]={status:"fulfilled",value:x}},function(x){return b[A]={status:"rejected",reason:x}}).then(function(){return--g||m(b)})})})}),Fr.any&&typeof AggregateError<"u"&&me(Oe,"any",function(){var h=ft.apply(null,arguments).map(ki);return new Oe(function(m,g){h.length===0&&g(new AggregateError([]));var b=h.length,w=new Array(b);h.forEach(function(A,x){return Oe.resolve(A).then(function(V){return m(V)},function(V){w[x]=V,--b||g(new AggregateError(w))})})})}),Fr.withResolvers&&(Oe.withResolvers=Fr.withResolvers));var Jt={awaits:0,echoes:0,id:0},Ra=0,br=[],Ca=0,rr=0,Kr=0;function kt(h,m,g,b){var w=Ve,A=Object.create(w);return A.parent=w,A.ref=0,A.global=!1,A.id=++Kr,yn.env,A.env=ci?{Promise:Oe,PromiseProp:{value:Oe,configurable:!0,writable:!0},all:Oe.all,race:Oe.race,allSettled:Oe.allSettled,any:Oe.any,resolve:Oe.resolve,reject:Oe.reject}:{},m&&v(A,m),++w.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},b=zn(A,h,g,b),A.ref===0&&A.finalize(),b}function Kt(){return Jt.id||(Jt.id=++Ra),++Jt.awaits,Jt.echoes+=jn,Jt.id}function kn(){return!!Jt.awaits&&(--Jt.awaits==0&&(Jt.id=0),Jt.echoes=Jt.awaits*jn,!0)}function ki(h){return Jt.echoes&&h&&h.constructor===Fr?(Kt(),h.then(function(m){return kn(),m},function(m){return kn(),Ct(m)})):h}function su(){var h=br[br.length-1];br.pop(),Gr(h,!1)}function Gr(h,m){var g,b=Ve;(m?!Jt.echoes||Ca++&&h===Ve:!Ca||--Ca&&h===Ve)||queueMicrotask(m?(function(w){++rr,Jt.echoes&&--Jt.echoes!=0||(Jt.echoes=Jt.awaits=Jt.id=0),br.push(Ve),Gr(w,!0)}).bind(null,h):su),h!==Ve&&(Ve=h,b===yn&&(yn.env=go()),ci&&(g=yn.env.Promise,m=h.env,(b.global||h.global)&&(Object.defineProperty(u,"Promise",m.PromiseProp),g.all=m.all,g.race=m.race,g.resolve=m.resolve,g.reject=m.reject,m.allSettled&&(g.allSettled=m.allSettled),m.any&&(g.any=m.any))))}function go(){var h=u.Promise;return ci?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(u,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function zn(h,m,g,b,w){var A=Ve;try{return Gr(h,!0),m(g,b,w)}finally{Gr(A,!1)}}function Ia(h,m,g,b){return typeof h!="function"?h:function(){var w=Ve;g&&Kt(),Gr(m,!0);try{return h.apply(this,arguments)}finally{Gr(w,!1),b&&queueMicrotask(kn)}}}function Tr(h){Promise===Fr&&Jt.echoes===0?Ca===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+gr).indexOf("[native code]")===-1&&(Kt=kn=wt);var Ct=Oe.reject,vn="",wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rn="String expected.",di=[],Ji="__dbnames",Sr="readonly",wr="readwrite";function Yr(h,m){return h?m?function(){return h.apply(this,arguments)&&m.apply(this,arguments)}:h:m}var ls={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zi(h){return typeof h!="string"||/\./.test(h)?function(m){return m}:function(m){return m[h]===void 0&&h in m&&delete(m=k(m))[h],m}}function yo(){throw ke.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ot(h,m){try{var g=ir(h),b=ir(m);if(g!==b)return g==="Array"?1:b==="Array"?-1:g==="binary"?1:b==="binary"?-1:g==="string"?1:b==="string"?-1:g==="Date"?1:b!=="Date"?NaN:-1;switch(g){case"number":case"Date":case"string":return m<h?1:h<m?-1:0;case"binary":return(function(w,A){for(var x=w.length,V=A.length,z=x<V?x:V,B=0;B<z;++B)if(w[B]!==A[B])return w[B]<A[B]?-1:1;return x===V?0:x<V?-1:1})(an(h),an(m));case"Array":return(function(w,A){for(var x=w.length,V=A.length,z=x<V?x:V,B=0;B<z;++B){var X=ot(w[B],A[B]);if(X!==0)return X}return x===V?0:x<V?-1:1})(h,m)}}catch{}return NaN}function ir(h){var m=typeof h;return m!="object"?m:ArrayBuffer.isView(h)?"binary":(h=en(h),h==="ArrayBuffer"?"binary":h)}function an(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}function sn(h,m,g){var b=h.schema.yProps;return b?(m&&0<g.numFailures&&(m=m.filter(function(w,A){return!g.failures[A]})),Promise.all(b.map(function(w){return w=w.updatesTable,m?h.db.table(w).where("k").anyOf(m).delete():h.db.table(w).clear()})).then(function(){return g})):g}var Ar=(us.prototype.execute=function(h){var m=this["@@propmod"];if(m.add!==void 0){var g=m.add;if(y(g))return o(o([],y(h)?h:[],!0),g).sort();if(typeof g=="number")return(Number(h)||0)+g;if(typeof g=="bigint")try{return BigInt(h)+g}catch{return BigInt(0)+g}throw new TypeError("Invalid term ".concat(g))}if(m.remove!==void 0){var b=m.remove;if(y(b))return y(h)?h.filter(function(w){return!b.includes(w)}).sort():[];if(typeof b=="number")return Number(h)-b;if(typeof b=="bigint")try{return BigInt(h)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return g=(g=m.replacePrefix)===null||g===void 0?void 0:g[0],g&&typeof h=="string"&&h.startsWith(g)?m.replacePrefix[1]+h.substring(g.length):h},us);function us(h){this["@@propmod"]=h}function Ot(h,m){for(var g=d(m),b=g.length,w=!1,A=0;A<b;++A){var x=g[A],V=m[x],z=Ye(h,x);V instanceof Ar?(N(h,x,V.execute(z)),w=!0):z!==V&&(N(h,x,V),w=!0)}return w}var Wi=(gt.prototype._trans=function(h,m,g){var b=this._tx||Ve.trans,w=this.name,A=Vn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function x(B,X,j){if(!j.schema[w])throw new ke.NotFound("Table "+w+" not part of transaction");return m(j.idbtrans,j)}var V=Yn();try{var z=b&&b.db._novip===this.db._novip?b===Ve.trans?b._promise(h,x,g):kt(function(){return b._promise(h,x,g)},{trans:b,transless:Ve.transless||Ve}):(function B(X,j,J,q){if(X.idbdb&&(X._state.openComplete||Ve.letThrough||X._vip)){var Y=X._createTransaction(j,J,X._dbSchema);try{Y.create(),X._state.PR1398_maxLoop=3}catch(Q){return Q.name===mt.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return B(X,j,J,q)})):Ct(Q)}return Y._promise(j,function(Q,$){return kt(function(){return Ve.trans=Y,q(Q,$,Y)})}).then(function(Q){if(j==="readwrite")try{Y.idbtrans.commit()}catch{}return j==="readonly"?Q:Y._completion.then(function(){return Q})})}if(X._state.openComplete)return Ct(new ke.DatabaseClosed(X._state.dbOpenError));if(!X._state.isBeingOpened){if(!X._state.autoOpen)return Ct(new ke.DatabaseClosed);X.open().catch(wt)}return X._state.dbReadyPromise.then(function(){return B(X,j,J,q)})})(this.db,h,[this.name],x);return A&&(z._consoleTask=A,z=z.catch(function(B){return console.trace(B),Ct(B)})),z}finally{V&&Er()}},gt.prototype.get=function(h,m){var g=this;return h&&h.constructor===Object?this.where(h).first(m):h==null?Ct(new ke.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return g.core.get({trans:b,key:h}).then(function(w){return g.hook.reading.fire(w)})}).then(m)},gt.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(y(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var m=d(h);if(m.length===1)return this.where(m[0]).equals(h[m[0]]);var g=this.schema.indexes.concat(this.schema.primKey).filter(function(V){if(V.compound&&m.every(function(B){return 0<=V.keyPath.indexOf(B)})){for(var z=0;z<m.length;++z)if(m.indexOf(V.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(V,z){return V.keyPath.length-z.keyPath.length})[0];if(g&&this.db._maxKey!==vn){var A=g.keyPath.slice(0,m.length);return this.where(A).equals(A.map(function(z){return h[z]}))}!g&&Vn&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(m.join("+"),"]"));var b=this.schema.idxByName;function w(V,z){return ot(V,z)===0}var x=m.reduce(function(j,z){var B=j[0],X=j[1],j=b[z],J=h[z];return[B||j,B||!j?Yr(X,j&&j.multi?function(q){return q=Ye(q,z),y(q)&&q.some(function(Y){return w(J,Y)})}:function(q){return w(J,Ye(q,z))}):X]},[null,null]),A=x[0],x=x[1];return A?this.where(A.name).equals(h[A.keyPath]).filter(x):g?this.filter(x):this.where(m).equals("")},gt.prototype.filter=function(h){return this.toCollection().and(h)},gt.prototype.count=function(h){return this.toCollection().count(h)},gt.prototype.offset=function(h){return this.toCollection().offset(h)},gt.prototype.limit=function(h){return this.toCollection().limit(h)},gt.prototype.each=function(h){return this.toCollection().each(h)},gt.prototype.toArray=function(h){return this.toCollection().toArray(h)},gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gt.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,y(h)?"[".concat(h.join("+"),"]"):h))},gt.prototype.reverse=function(){return this.toCollection().reverse()},gt.prototype.mapToClass=function(h){var m,g=this.db,b=this.name;function w(){return m!==null&&m.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof yo&&((function(z,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function X(){this.constructor=z}n(z,B),z.prototype=B===null?Object.create(B):(X.prototype=B.prototype,new X)})(w,m=h),Object.defineProperty(w.prototype,"db",{get:function(){return g},enumerable:!1,configurable:!0}),w.prototype.table=function(){return b},h=w);for(var A=new Set,x=h.prototype;x;x=E(x))Object.getOwnPropertyNames(x).forEach(function(z){return A.add(z)});function V(z){if(!z)return z;var B,X=Object.create(h.prototype);for(B in z)if(!A.has(B))try{X[B]=z[B]}catch{}return X}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=V,this.hook("reading",V),h},gt.prototype.defineClass=function(){return this.mapToClass(function(h){v(this,h)})},gt.prototype.add=function(h,m){var g=this,b=this.schema.primKey,w=b.auto,A=b.keyPath,x=h;return A&&w&&(x=Zi(A)(h)),this._trans("readwrite",function(V){return g.core.mutate({trans:V,type:"add",keys:m!=null?[m]:null,values:[x]})}).then(function(V){return V.numFailures?Oe.reject(V.failures[0]):V.lastResult}).then(function(V){if(A)try{N(h,A,V)}catch{}return V})},gt.prototype.upsert=function(h,m){var g=this,b=this.schema.primKey.keyPath;return this._trans("readwrite",function(w){return g.core.get({trans:w,key:h}).then(function(A){var x=A??{};return Ot(x,m),b&&N(x,b,h),g.core.mutate({trans:w,type:"put",values:[x],keys:[h],upsert:!0,updates:{keys:[h],changeSpecs:[m]}}).then(function(V){return V.numFailures?Oe.reject(V.failures[0]):!!A})})})},gt.prototype.update=function(h,m){return typeof h!="object"||y(h)?this.where(":id").equals(h).modify(m):(h=Ye(h,this.schema.primKey.keyPath),h===void 0?Ct(new ke.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(m))},gt.prototype.put=function(h,m){var g=this,b=this.schema.primKey,w=b.auto,A=b.keyPath,x=h;return A&&w&&(x=Zi(A)(h)),this._trans("readwrite",function(V){return g.core.mutate({trans:V,type:"put",values:[x],keys:m!=null?[m]:null})}).then(function(V){return V.numFailures?Oe.reject(V.failures[0]):V.lastResult}).then(function(V){if(A)try{N(h,A,V)}catch{}return V})},gt.prototype.delete=function(h){var m=this;return this._trans("readwrite",function(g){return m.core.mutate({trans:g,type:"delete",keys:[h]}).then(function(b){return sn(m,[h],b)}).then(function(b){return b.numFailures?Oe.reject(b.failures[0]):void 0})})},gt.prototype.clear=function(){var h=this;return this._trans("readwrite",function(m){return h.core.mutate({trans:m,type:"deleteRange",range:ls}).then(function(g){return sn(h,null,g)})}).then(function(m){return m.numFailures?Oe.reject(m.failures[0]):void 0})},gt.prototype.bulkGet=function(h){var m=this;return this._trans("readonly",function(g){return m.core.getMany({keys:h,trans:g}).then(function(b){return b.map(function(w){return m.hook.reading.fire(w)})})})},gt.prototype.bulkAdd=function(h,m,g){var b=this,w=Array.isArray(m)?m:void 0,A=(g=g||(w?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(x){var B=b.schema.primKey,V=B.auto,B=B.keyPath;if(B&&w)throw new ke.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==h.length)throw new ke.InvalidArgument("Arguments objects and keys must have the same length");var z=h.length,B=B&&V?h.map(Zi(B)):h;return b.core.mutate({trans:x,type:"add",keys:w,values:B,wantResults:A}).then(function(Y){var j=Y.numFailures,J=Y.results,q=Y.lastResult,Y=Y.failures;if(j===0)return A?J:q;throw new Je("".concat(b.name,".bulkAdd(): ").concat(j," of ").concat(z," operations failed"),Y)})})},gt.prototype.bulkPut=function(h,m,g){var b=this,w=Array.isArray(m)?m:void 0,A=(g=g||(w?void 0:m))?g.allKeys:void 0;return this._trans("readwrite",function(x){var B=b.schema.primKey,V=B.auto,B=B.keyPath;if(B&&w)throw new ke.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==h.length)throw new ke.InvalidArgument("Arguments objects and keys must have the same length");var z=h.length,B=B&&V?h.map(Zi(B)):h;return b.core.mutate({trans:x,type:"put",keys:w,values:B,wantResults:A}).then(function(Y){var j=Y.numFailures,J=Y.results,q=Y.lastResult,Y=Y.failures;if(j===0)return A?J:q;throw new Je("".concat(b.name,".bulkPut(): ").concat(j," of ").concat(z," operations failed"),Y)})})},gt.prototype.bulkUpdate=function(h){var m=this,g=this.core,b=h.map(function(x){return x.key}),w=h.map(function(x){return x.changes}),A=[];return this._trans("readwrite",function(x){return g.getMany({trans:x,keys:b,cache:"clone"}).then(function(V){var z=[],B=[];h.forEach(function(j,J){var q=j.key,Y=j.changes,Q=V[J];if(Q){for(var $=0,te=Object.keys(Y);$<te.length;$++){var ae=te[$],ce=Y[ae];if(ae===m.schema.primKey.keyPath){if(ot(ce,q)!==0)throw new ke.Constraint("Cannot update primary key in bulkUpdate()")}else N(Q,ae,ce)}A.push(J),z.push(q),B.push(Q)}});var X=z.length;return g.mutate({trans:x,type:"put",keys:z,values:B,updates:{keys:b,changeSpecs:w}}).then(function(j){var J=j.numFailures,q=j.failures;if(J===0)return X;for(var Y=0,Q=Object.keys(q);Y<Q.length;Y++){var $,te=Q[Y],ae=A[Number(te)];ae!=null&&($=q[te],delete q[te],q[ae]=$)}throw new Je("".concat(m.name,".bulkUpdate(): ").concat(J," of ").concat(X," operations failed"),q)})})})},gt.prototype.bulkDelete=function(h){var m=this,g=h.length;return this._trans("readwrite",function(b){return m.core.mutate({trans:b,type:"delete",keys:h}).then(function(w){return sn(m,h,w)})}).then(function(x){var w=x.numFailures,A=x.lastResult,x=x.failures;if(w===0)return A;throw new Je("".concat(m.name,".bulkDelete(): ").concat(w," of ").concat(g," operations failed"),x)})},gt);function gt(){}function Qr(h){function m(x,V){if(V){for(var z=arguments.length,B=new Array(z-1);--z;)B[z-1]=arguments[z];return g[x].subscribe.apply(null,B),h}if(typeof x=="string")return g[x]}var g={};m.addEventType=A;for(var b=1,w=arguments.length;b<w;++b)A(arguments[b]);return m;function A(x,V,z){if(typeof x!="object"){var B;V=V||hn;var X={subscribers:[],fire:z=z||wt,subscribe:function(j){X.subscribers.indexOf(j)===-1&&(X.subscribers.push(j),X.fire=V(X.fire,j))},unsubscribe:function(j){X.subscribers=X.subscribers.filter(function(J){return J!==j}),X.fire=X.subscribers.reduce(V,z)}};return g[x]=m[x]=X}d(B=x).forEach(function(j){var J=B[j];if(y(J))A(j,B[j][0],B[j][1]);else{if(J!=="asap")throw new ke.InvalidArgument("Invalid event config");var q=A(j,li,function(){for(var Y=arguments.length,Q=new Array(Y);Y--;)Q[Y]=arguments[Y];q.subscribers.forEach(function($){st(function(){$.apply(null,Q)})})})}})}}function An(h,m){return pe(m).from({prototype:h}),m}function Xr(h,m){return!(h.filter||h.algorithm||h.or)&&(m?h.justLimit:!h.replayFilter)}function cs(h,m){h.filter=Yr(h.filter,m)}function Oa(h,m,g){var b=h.replayFilter;h.replayFilter=b?function(){return Yr(b(),m())}:m,h.justLimit=g&&!b}function $r(h,m){if(h.isPrimKey)return m.primaryKey;var g=m.getIndexByKeyPath(h.index);if(!g)throw new ke.Schema("KeyPath "+h.index+" on object store "+m.name+" is not indexed");return g}function vo(h,m,g){var b=$r(h,m.schema);return m.openCursor({trans:g,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:b,range:h.range}})}function Jr(h,m,g,b){var w=h.replayFilter?Yr(h.filter,h.replayFilter()):h.filter;if(h.or){var A={},x=function(V,z,B){var X,j;w&&!w(z,B,function(J){return z.stop(J)},function(J){return z.fail(J)})||((j=""+(X=z.primaryKey))=="[object ArrayBuffer]"&&(j=""+new Uint8Array(X)),I(A,j)||(A[j]=!0,m(V,z,B)))};return Promise.all([h.or._iterate(x,g),Qn(vo(h,b,g),h.algorithm,x,!h.keysOnly&&h.valueMapper)])}return Qn(vo(h,b,g),Yr(h.algorithm,w),m,!h.keysOnly&&h.valueMapper)}function Qn(h,m,g,b){var w=Mt(b?function(A,x,V){return g(b(A),x,V)}:g);return h.then(function(A){if(A)return A.start(function(){var x=function(){return A.continue()};m&&!m(A,function(V){return x=V},function(V){A.stop(V),x=wt},function(V){A.fail(V),x=wt})||w(A.value,A,function(V){return x=V}),x()})})}var Zo=(pt.prototype._read=function(h,m){var g=this._ctx;return g.error?g.table._trans(null,Ct.bind(null,g.error)):g.table._trans("readonly",h).then(m)},pt.prototype._write=function(h){var m=this._ctx;return m.error?m.table._trans(null,Ct.bind(null,m.error)):m.table._trans("readwrite",h,"locked")},pt.prototype._addAlgorithm=function(h){var m=this._ctx;m.algorithm=Yr(m.algorithm,h)},pt.prototype._iterate=function(h,m){return Jr(this._ctx,h,m,this._ctx.table.core)},pt.prototype.clone=function(h){var m=Object.create(this.constructor.prototype),g=Object.create(this._ctx);return h&&v(g,h),m._ctx=g,m},pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},pt.prototype.each=function(h){var m=this._ctx;return this._read(function(g){return Jr(m,h,g,m.table.core)})},pt.prototype.count=function(h){var m=this;return this._read(function(g){var b=m._ctx,w=b.table.core;if(Xr(b,!0))return w.count({trans:g,query:{index:$r(b,w.schema),range:b.range}}).then(function(x){return Math.min(x,b.limit)});var A=0;return Jr(b,function(){return++A,!1},g,w).then(function(){return A})}).then(h)},pt.prototype.sortBy=function(h,m){var g=h.split(".").reverse(),b=g[0],w=g.length-1;function A(z,B){return B?A(z[g[B]],B-1):z[b]}var x=this._ctx.dir==="next"?1:-1;function V(z,B){return ot(A(z,w),A(B,w))*x}return this.toArray(function(z){return z.sort(V)}).then(m)},pt.prototype.toArray=function(h){var m=this;return this._read(function(g){var b=m._ctx;if(b.dir==="next"&&Xr(b,!0)&&0<b.limit){var w=b.valueMapper,A=$r(b,b.table.core.schema);return b.table.core.query({trans:g,limit:b.limit,values:!0,query:{index:A,range:b.range}}).then(function(V){return V=V.result,w?V.map(w):V})}var x=[];return Jr(b,function(V){return x.push(V)},g,b.table.core).then(function(){return x})},h)},pt.prototype.offset=function(h){var m=this._ctx;return h<=0||(m.offset+=h,Xr(m)?Oa(m,function(){var g=h;return function(b,w){return g===0||(g===1?--g:w(function(){b.advance(g),g=0}),!1)}}):Oa(m,function(){var g=h;return function(){return--g<0}})),this},pt.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),Oa(this._ctx,function(){var m=h;return function(g,b,w){return--m<=0&&b(w),0<=m}},!0),this},pt.prototype.until=function(h,m){return cs(this._ctx,function(g,b,w){return!h(g.value)||(b(w),m)}),this},pt.prototype.first=function(h){return this.limit(1).toArray(function(m){return m[0]}).then(h)},pt.prototype.last=function(h){return this.reverse().first(h)},pt.prototype.filter=function(h){var m;return cs(this._ctx,function(g){return h(g.value)}),(m=this._ctx).isMatch=Yr(m.isMatch,h),this},pt.prototype.and=function(h){return this.filter(h)},pt.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pt.prototype.desc=function(){return this.reverse()},pt.prototype.eachKey=function(h){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){h(b.key,b)})},pt.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},pt.prototype.eachPrimaryKey=function(h){var m=this._ctx;return m.keysOnly=!m.isMatch,this.each(function(g,b){h(b.primaryKey,b)})},pt.prototype.keys=function(h){var m=this._ctx;m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,w){g.push(w.key)}).then(function(){return g}).then(h)},pt.prototype.primaryKeys=function(h){var m=this._ctx;if(m.dir==="next"&&Xr(m,!0)&&0<m.limit)return this._read(function(b){var w=$r(m,m.table.core.schema);return m.table.core.query({trans:b,values:!1,limit:m.limit,query:{index:w,range:m.range}})}).then(function(b){return b.result}).then(h);m.keysOnly=!m.isMatch;var g=[];return this.each(function(b,w){g.push(w.primaryKey)}).then(function(){return g}).then(h)},pt.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},pt.prototype.firstKey=function(h){return this.limit(1).keys(function(m){return m[0]}).then(h)},pt.prototype.lastKey=function(h){return this.reverse().firstKey(h)},pt.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var m={};return cs(this._ctx,function(w){var b=w.primaryKey.toString(),w=I(m,b);return m[b]=!0,!w}),this},pt.prototype.modify=function(h){var m=this,g=this._ctx;return this._write(function(b){var w=typeof h=="function"?h:function(Q){return Ot(Q,h)},A=g.table.core,B=A.schema.primaryKey,x=B.outbound,V=B.extractKey,z=200,B=m.db._options.modifyChunkSize;B&&(z=typeof B=="object"?B[A.name]||B["*"]||200:B);function X(Q,ae){var te=ae.failures,ae=ae.numFailures;J+=Q-ae;for(var ce=0,ve=d(te);ce<ve.length;ce++){var Re=ve[ce];j.push(te[Re])}}var j=[],J=0,q=[],Y=h===hs;return m.clone().primaryKeys().then(function(Q){function $(ae){var ce=Math.min(z,Q.length-ae),ve=Q.slice(ae,ae+ce);return(Y?Promise.resolve([]):A.getMany({trans:b,keys:ve,cache:"immutable"})).then(function(Re){var Me=[],we=[],Ie=x?[]:null,xe=Y?ve:[];if(!Y)for(var Ae=0;Ae<ce;++Ae){var Le=Re[Ae],He={value:k(Le),primKey:Q[ae+Ae]};w.call(He,He.value,He)!==!1&&(He.value==null?xe.push(Q[ae+Ae]):x||ot(V(Le),V(He.value))===0?(we.push(He.value),x&&Ie.push(Q[ae+Ae])):(xe.push(Q[ae+Ae]),Me.push(He.value)))}return Promise.resolve(0<Me.length&&A.mutate({trans:b,type:"add",values:Me}).then(function(et){for(var lt in et.failures)xe.splice(parseInt(lt),1);X(Me.length,et)})).then(function(){return(0<we.length||te&&typeof h=="object")&&A.mutate({trans:b,type:"put",keys:Ie,values:we,criteria:te,changeSpec:typeof h!="function"&&h,isAdditionalChunk:0<ae}).then(function(et){return X(we.length,et)})}).then(function(){return(0<xe.length||te&&Y)&&A.mutate({trans:b,type:"delete",keys:xe,criteria:te,isAdditionalChunk:0<ae}).then(function(et){return sn(g.table,xe,et)}).then(function(et){return X(xe.length,et)})}).then(function(){return Q.length>ae+ce&&$(ae+z)})})}var te=Xr(g)&&g.limit===1/0&&(typeof h!="function"||Y)&&{index:g.index,range:g.range};return $(0).then(function(){if(0<j.length)throw new Qe("Error modifying one or more objects",j,J,q);return Q.length})})})},pt.prototype.delete=function(){var h=this._ctx,m=h.range;return!Xr(h)||h.table.schema.yProps||!h.isPrimKey&&m.type!==3?this.modify(hs):this._write(function(g){var b=h.table.core.schema.primaryKey,w=m;return h.table.core.count({trans:g,query:{index:b,range:w}}).then(function(A){return h.table.core.mutate({trans:g,type:"deleteRange",range:w}).then(function(z){var V=z.failures,z=z.numFailures;if(z)throw new Qe("Could not delete some values",Object.keys(V).map(function(B){return V[B]}),A-z);return A-z})})})},pt);function pt(){}var hs=function(h,m){return m.value=null};function fs(h,m){return h<m?-1:h===m?0:1}function Wo(h,m){return m<h?-1:h===m?0:1}function fn(h,m,g){return h=h instanceof Pi?new h.Collection(h):h,h._ctx.error=new(g||TypeError)(m),h}function Zr(h){return new h.Collection(h,function(){return dr("")}).limit(0)}function ar(h,m,g,b){var w,A,x,V,z,B,X,j=g.length;if(!g.every(function(Y){return typeof Y=="string"}))return fn(h,rn);function J(Y){w=Y==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},A=Y==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},x=Y==="next"?fs:Wo;var Q=g.map(function($){return{lower:A($),upper:w($)}}).sort(function($,te){return x($.lower,te.lower)});V=Q.map(function($){return $.upper}),z=Q.map(function($){return $.lower}),X=(B=Y)==="next"?"":b}J("next"),h=new h.Collection(h,function(){return Rr(V[0],z[j-1]+b)}),h._ondirectionchange=function(Y){J(Y)};var q=0;return h._addAlgorithm(function(Y,Q,$){var te=Y.key;if(typeof te!="string")return!1;var ae=A(te);if(m(ae,z,q))return!0;for(var ce=null,ve=q;ve<j;++ve){var Re=(function(Me,we,Ie,xe,Ae,Le){for(var He=Math.min(Me.length,xe.length),et=-1,lt=0;lt<He;++lt){var Fn=we[lt];if(Fn!==xe[lt])return Ae(Me[lt],Ie[lt])<0?Me.substr(0,lt)+Ie[lt]+Ie.substr(lt+1):Ae(Me[lt],xe[lt])<0?Me.substr(0,lt)+xe[lt]+Ie.substr(lt+1):0<=et?Me.substr(0,et)+we[et]+Ie.substr(et+1):null;Ae(Me[lt],Fn)<0&&(et=lt)}return He<xe.length&&Le==="next"?Me+Ie.substr(Me.length):He<Me.length&&Le==="prev"?Me.substr(0,Ie.length):et<0?null:Me.substr(0,et)+xe[et]+Ie.substr(et+1)})(te,ae,V[ve],z[ve],x,B);Re===null&&ce===null?q=ve+1:(ce===null||0<x(ce,Re))&&(ce=Re)}return Q(ce!==null?function(){Y.continue(ce+X)}:$),!1}),h}function Rr(h,m,g,b){return{type:2,lower:h,upper:m,lowerOpen:g,upperOpen:b}}function dr(h){return{type:1,lower:h,upper:h}}var Pi=(Object.defineProperty(Pt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pt.prototype.between=function(h,m,g,b){g=g!==!1,b=b===!0;try{return 0<this._cmp(h,m)||this._cmp(h,m)===0&&(g||b)&&(!g||!b)?Zr(this):new this.Collection(this,function(){return Rr(h,m,!g,!b)})}catch{return fn(this,wn)}},Pt.prototype.equals=function(h){return h==null?fn(this,wn):new this.Collection(this,function(){return dr(h)})},Pt.prototype.above=function(h){return h==null?fn(this,wn):new this.Collection(this,function(){return Rr(h,void 0,!0)})},Pt.prototype.aboveOrEqual=function(h){return h==null?fn(this,wn):new this.Collection(this,function(){return Rr(h,void 0,!1)})},Pt.prototype.below=function(h){return h==null?fn(this,wn):new this.Collection(this,function(){return Rr(void 0,h,!1,!0)})},Pt.prototype.belowOrEqual=function(h){return h==null?fn(this,wn):new this.Collection(this,function(){return Rr(void 0,h)})},Pt.prototype.startsWith=function(h){return typeof h!="string"?fn(this,rn):this.between(h,h+vn,!0,!0)},Pt.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):ar(this,function(m,g){return m.indexOf(g[0])===0},[h],vn)},Pt.prototype.equalsIgnoreCase=function(h){return ar(this,function(m,g){return m===g[0]},[h],"")},Pt.prototype.anyOfIgnoreCase=function(){var h=ft.apply(ht,arguments);return h.length===0?Zr(this):ar(this,function(m,g){return g.indexOf(m)!==-1},h,"")},Pt.prototype.startsWithAnyOfIgnoreCase=function(){var h=ft.apply(ht,arguments);return h.length===0?Zr(this):ar(this,function(m,g){return g.some(function(b){return m.indexOf(b)===0})},h,vn)},Pt.prototype.anyOf=function(){var h=this,m=ft.apply(ht,arguments),g=this._cmp;try{m.sort(g)}catch{return fn(this,wn)}if(m.length===0)return Zr(this);var b=new this.Collection(this,function(){return Rr(m[0],m[m.length-1])});b._ondirectionchange=function(A){g=A==="next"?h._ascending:h._descending,m.sort(g)};var w=0;return b._addAlgorithm(function(A,x,V){for(var z=A.key;0<g(z,m[w]);)if(++w===m.length)return x(V),!1;return g(z,m[w])===0||(x(function(){A.continue(m[w])}),!1)}),b},Pt.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pt.prototype.noneOf=function(){var h=ft.apply(ht,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return fn(this,wn)}var m=h.reduce(function(g,b){return g?g.concat([[g[g.length-1][1],b]]):[[-1/0,b]]},null);return m.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(m,{includeLowers:!1,includeUppers:!1})},Pt.prototype.inAnyRange=function(te,m){var g=this,b=this._cmp,w=this._ascending,A=this._descending,x=this._min,V=this._max;if(te.length===0)return Zr(this);if(!te.every(function(ae){return ae[0]!==void 0&&ae[1]!==void 0&&w(ae[0],ae[1])<=0}))return fn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ke.InvalidArgument);var z=!m||m.includeLowers!==!1,B=m&&m.includeUppers===!0,X,j=w;function J(ae,ce){return j(ae[0],ce[0])}try{(X=te.reduce(function(ae,ce){for(var ve=0,Re=ae.length;ve<Re;++ve){var Me=ae[ve];if(b(ce[0],Me[1])<0&&0<b(ce[1],Me[0])){Me[0]=x(Me[0],ce[0]),Me[1]=V(Me[1],ce[1]);break}}return ve===Re&&ae.push(ce),ae},[])).sort(J)}catch{return fn(this,wn)}var q=0,Y=B?function(ae){return 0<w(ae,X[q][1])}:function(ae){return 0<=w(ae,X[q][1])},Q=z?function(ae){return 0<A(ae,X[q][0])}:function(ae){return 0<=A(ae,X[q][0])},$=Y,te=new this.Collection(this,function(){return Rr(X[0][0],X[X.length-1][1],!z,!B)});return te._ondirectionchange=function(ae){j=ae==="next"?($=Y,w):($=Q,A),X.sort(J)},te._addAlgorithm(function(ae,ce,ve){for(var Re,Me=ae.key;$(Me);)if(++q===X.length)return ce(ve),!1;return!Y(Re=Me)&&!Q(Re)||(g._cmp(Me,X[q][1])===0||g._cmp(Me,X[q][0])===0||ce(function(){j===w?ae.continue(X[q][0]):ae.continue(X[q][1])}),!1)}),te},Pt.prototype.startsWithAnyOf=function(){var h=ft.apply(ht,arguments);return h.every(function(m){return typeof m=="string"})?h.length===0?Zr(this):this.inAnyRange(h.map(function(m){return[m,m+vn]})):fn(this,"startsWithAnyOf() only works with strings")},Pt);function Pt(){}function Bn(h){return Mt(function(m){return mi(m),h(m.target.error),!1})}function mi(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var Cr="storagemutated",mr="x-storagemutated-1",_n=Qr(null,Cr),Da=(dt.prototype._lock=function(){return We(!Ve.global),++this._reculock,this._reculock!==1||Ve.global||(Ve.lockOwnerFor=this),this},dt.prototype._unlock=function(){if(We(!Ve.global),--this._reculock==0)for(Ve.global||(Ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{zn(h[1],h[0])}catch{}}return this},dt.prototype._locked=function(){return this._reculock&&Ve.lockOwnerFor!==this},dt.prototype.create=function(h){var m=this;if(!this.mode)return this;var g=this.db.idbdb,b=this.db._state.dbOpenError;if(We(!this.idbtrans),!h&&!g)switch(b&&b.name){case"DatabaseClosedError":throw new ke.DatabaseClosed(b);case"MissingAPIError":throw new ke.MissingAPI(b.message,b);default:throw new ke.OpenFailed(b)}if(!this.active)throw new ke.TransactionInactive;return We(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||g).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Mt(function(w){mi(w),m._reject(h.error)}),h.onabort=Mt(function(w){mi(w),m.active&&m._reject(new ke.Abort(h.error)),m.active=!1,m.on("abort").fire(w)}),h.oncomplete=Mt(function(){m.active=!1,m._resolve(),"mutatedParts"in h&&_n.storagemutated.fire(h.mutatedParts)}),this},dt.prototype._promise=function(h,m,g){var b=this;if(h==="readwrite"&&this.mode!=="readwrite")return Ct(new ke.ReadOnly("Transaction is readonly"));if(!this.active)return Ct(new ke.TransactionInactive);if(this._locked())return new Oe(function(A,x){b._blockedFuncs.push([function(){b._promise(h,m,g).then(A,x)},Ve])});if(g)return kt(function(){var A=new Oe(function(x,V){b._lock();var z=m(x,V,b);z&&z.then&&z.then(x,V)});return A.finally(function(){return b._unlock()}),A._lib=!0,A});var w=new Oe(function(A,x){var V=m(A,x,b);V&&V.then&&V.then(A,x)});return w._lib=!0,w},dt.prototype._root=function(){return this.parent?this.parent._root():this},dt.prototype.waitFor=function(h){var m,g=this._root(),b=Oe.resolve(h);g._waitingFor?g._waitingFor=g._waitingFor.then(function(){return b}):(g._waitingFor=b,g._waitingQueue=[],m=g.idbtrans.objectStore(g.storeNames[0]),(function A(){for(++g._spinCount;g._waitingQueue.length;)g._waitingQueue.shift()();g._waitingFor&&(m.get(-1/0).onsuccess=A)})());var w=g._waitingFor;return new Oe(function(A,x){b.then(function(V){return g._waitingQueue.push(Mt(A.bind(null,V)))},function(V){return g._waitingQueue.push(Mt(x.bind(null,V)))}).finally(function(){g._waitingFor===w&&(g._waitingFor=null)})})},dt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ke.Abort))},dt.prototype.table=function(h){var m=this._memoizedTables||(this._memoizedTables={});if(I(m,h))return m[h];var g=this.schema[h];if(!g)throw new ke.NotFound("Table "+h+" not part of transaction");return g=new this.db.Table(h,g,this),g.core=this.db.core.table(h),m[h]=g},dt);function dt(){}function Ir(h,m,g,b,w,A,x,V){return{name:h,keyPath:m,unique:g,multi:b,auto:w,compound:A,src:(g&&!x?"&":"")+(b?"*":"")+(w?"++":"")+ds(m),type:V}}function ds(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function Li(h,m,g){return{name:h,primKey:m,indexes:g,mappedClass:null,idxByName:(b=function(w){return[w.name,w]},g.reduce(function(w,A,x){return x=b(A,x),x&&(w[x[0]]=x[1]),w},{}))};var b}var Ui=function(h){try{return h.only([[]]),Ui=function(){return[[]]},[[]]}catch{return Ui=function(){return vn},vn}};function ji(h){return h==null?function(){}:typeof h=="string"?(m=h).split(".").length===1?function(g){return g[m]}:function(g){return Ye(g,m)}:function(g){return Ye(g,h)};var m}function pi(h){return[].slice.call(h)}var Wr=0;function on(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function zi(h,m,z){function b($){if($.type===3)return null;if($.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=$.lower,Y=$.upper,Q=$.lowerOpen,$=$.upperOpen;return q===void 0?Y===void 0?null:m.upperBound(Y,!!$):Y===void 0?m.lowerBound(q,!!Q):m.bound(q,Y,!!Q,!!$)}function w(J){var q,Y=J.name;return{name:Y,schema:J,mutate:function(Q){var $=Q.trans,te=Q.type,ae=Q.keys,ce=Q.values,ve=Q.range;return new Promise(function(Re,Me){Re=Mt(Re);var we=$.objectStore(Y),Ie=we.keyPath==null,xe=te==="put"||te==="add";if(!xe&&te!=="delete"&&te!=="deleteRange")throw new Error("Invalid operation type: "+te);var Ae,Le=(ae||ce||{length:1}).length;if(ae&&ce&&ae.length!==ce.length)throw new Error("Given keys array must have same length as given values array.");if(Le===0)return Re({numFailures:0,failures:{},results:[],lastResult:void 0});function He(Cn){++Fn,mi(Cn)}var et=[],lt=[],Fn=0;if(te==="deleteRange"){if(ve.type===4)return Re({numFailures:Fn,failures:lt,results:[],lastResult:void 0});ve.type===3?et.push(Ae=we.clear()):et.push(Ae=we.delete(b(ve)))}else{var Ie=xe?Ie?[ce,ae]:[ce,null]:[ae,null],Ze=Ie[0],Rn=Ie[1];if(xe)for(var Zt=0;Zt<Le;++Zt)et.push(Ae=Rn&&Rn[Zt]!==void 0?we[te](Ze[Zt],Rn[Zt]):we[te](Ze[Zt])),Ae.onerror=He;else for(Zt=0;Zt<Le;++Zt)et.push(Ae=we[te](Ze[Zt])),Ae.onerror=He}function wo(Cn){Cn=Cn.target.result,et.forEach(function(Mr,uu){return Mr.error!=null&&(lt[uu]=Mr.error)}),Re({numFailures:Fn,failures:lt,results:te==="delete"?ae:et.map(function(Mr){return Mr.result}),lastResult:Cn})}Ae.onerror=function(Cn){He(Cn),wo(Cn)},Ae.onsuccess=wo})},getMany:function(Q){var $=Q.trans,te=Q.keys;return new Promise(function(ae,ce){ae=Mt(ae);for(var ve,Re=$.objectStore(Y),Me=te.length,we=new Array(Me),Ie=0,xe=0,Ae=function(et){et=et.target,we[et._pos]=et.result,++xe===Ie&&ae(we)},Le=Bn(ce),He=0;He<Me;++He)te[He]!=null&&((ve=Re.get(te[He]))._pos=He,ve.onsuccess=Ae,ve.onerror=Le,++Ie);Ie===0&&ae(we)})},get:function(Q){var $=Q.trans,te=Q.key;return new Promise(function(ae,ce){ae=Mt(ae);var ve=$.objectStore(Y).get(te);ve.onsuccess=function(Re){return ae(Re.target.result)},ve.onerror=Bn(ce)})},query:(q=B,function(Q){return new Promise(function($,te){$=Mt($);var ae,ce,ve,Ie=Q.trans,Re=Q.values,Me=Q.limit,Ae=Q.query,we=Me===1/0?void 0:Me,xe=Ae.index,Ae=Ae.range,Ie=Ie.objectStore(Y),xe=xe.isPrimaryKey?Ie:Ie.index(xe.name),Ae=b(Ae);if(Me===0)return $({result:[]});q?((we=Re?xe.getAll(Ae,we):xe.getAllKeys(Ae,we)).onsuccess=function(Le){return $({result:Le.target.result})},we.onerror=Bn(te)):(ae=0,ce=!Re&&"openKeyCursor"in xe?xe.openKeyCursor(Ae):xe.openCursor(Ae),ve=[],ce.onsuccess=function(Le){var He=ce.result;return He?(ve.push(Re?He.value:He.primaryKey),++ae===Me?$({result:ve}):void He.continue()):$({result:ve})},ce.onerror=Bn(te))})}),openCursor:function(Q){var $=Q.trans,te=Q.values,ae=Q.query,ce=Q.reverse,ve=Q.unique;return new Promise(function(Re,Me){Re=Mt(Re);var xe=ae.index,we=ae.range,Ie=$.objectStore(Y),Ie=xe.isPrimaryKey?Ie:Ie.index(xe.name),xe=ce?ve?"prevunique":"prev":ve?"nextunique":"next",Ae=!te&&"openKeyCursor"in Ie?Ie.openKeyCursor(b(we),xe):Ie.openCursor(b(we),xe);Ae.onerror=Bn(Me),Ae.onsuccess=Mt(function(Le){var He,et,lt,Fn,Ze=Ae.result;Ze?(Ze.___id=++Wr,Ze.done=!1,He=Ze.continue.bind(Ze),et=(et=Ze.continuePrimaryKey)&&et.bind(Ze),lt=Ze.advance.bind(Ze),Fn=function(){throw new Error("Cursor not stopped")},Ze.trans=$,Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=function(){throw new Error("Cursor not started")},Ze.fail=Mt(Me),Ze.next=function(){var Rn=this,Zt=1;return this.start(function(){return Zt--?Rn.continue():Rn.stop()}).then(function(){return Rn})},Ze.start=function(Rn){function Zt(){if(Ae.result)try{Rn()}catch(Cn){Ze.fail(Cn)}else Ze.done=!0,Ze.start=function(){throw new Error("Cursor behind last entry")},Ze.stop()}var wo=new Promise(function(Cn,Mr){Cn=Mt(Cn),Ae.onerror=Bn(Mr),Ze.fail=Mr,Ze.stop=function(uu){Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=Fn,Cn(uu)}});return Ae.onsuccess=Mt(function(Cn){Ae.onsuccess=Zt,Zt()}),Ze.continue=He,Ze.continuePrimaryKey=et,Ze.advance=lt,Zt(),wo},Re(Ze)):Re(null)},Me)})},count:function(Q){var $=Q.query,te=Q.trans,ae=$.index,ce=$.range;return new Promise(function(ve,Re){var Me=te.objectStore(Y),we=ae.isPrimaryKey?Me:Me.index(ae.name),Me=b(ce),we=Me?we.count(Me):we.count();we.onsuccess=Mt(function(Ie){return ve(Ie.target.result)}),we.onerror=Bn(Re)})}}}var A,x,V,X=(x=z,V=pi((A=h).objectStoreNames),{schema:{name:A.name,tables:V.map(function(J){return x.objectStore(J)}).map(function(J){var q=J.keyPath,$=J.autoIncrement,Y=y(q),Q={},$={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:Y,keyPath:q,autoIncrement:$,unique:!0,extractKey:ji(q)},indexes:pi(J.indexNames).map(function(te){return J.index(te)}).map(function(ve){var ae=ve.name,ce=ve.unique,Re=ve.multiEntry,ve=ve.keyPath,Re={name:ae,compound:y(ve),keyPath:ve,unique:ce,multiEntry:Re,extractKey:ji(ve)};return Q[on(ve)]=Re}),getIndexByKeyPath:function(te){return Q[on(te)]}};return Q[":id"]=$.primaryKey,q!=null&&(Q[on(q)]=$.primaryKey),$})},hasGetAll:0<V.length&&"getAll"in x.objectStore(V[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),z=X.schema,B=X.hasGetAll,X=z.tables.map(w),j={};return X.forEach(function(J){return j[J.name]=J}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(J){if(!j[J])throw new Error("Table '".concat(J,"' not found"));return j[J]},MIN_KEY:-1/0,MAX_KEY:Ui(m),schema:z}}function gi(h,m,g,b){var w=g.IDBKeyRange;return g.indexedDB,{dbcore:(b=zi(m,w,b),h.dbcore.reduce(function(A,x){return x=x.create,a(a({},A),x(A))},b))}}function ei(h,b){var g=b.db,b=gi(h._middlewares,g,h._deps,b);h.core=b.dbcore,h.tables.forEach(function(w){var A=w.name;h.core.schema.tables.some(function(x){return x.name===A})&&(w.core=h.core.table(A),h[A]instanceof h.Table&&(h[A].core=w.core))})}function ea(h,m,g,b){g.forEach(function(w){var A=b[w];m.forEach(function(x){var V=(function z(B,X){return fe(B,X)||(B=E(B))&&z(B,X)})(x,w);(!V||"value"in V&&V.value===void 0)&&(x===h.Transaction.prototype||x instanceof h.Transaction?me(x,w,{get:function(){return this.table(w)},set:function(z){ne(this,w,{value:z,writable:!0,configurable:!0,enumerable:!0})}}):x[w]=new h.Table(w,A))})})}function yi(h,m){m.forEach(function(g){for(var b in g)g[b]instanceof h.Table&&delete g[b]})}function ms(h,m){return h._cfg.version-m._cfg.version}function vi(h,m,g,b){var w=h._dbSchema;g.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=Li("$meta",Eo("")[0],[]),h._storeNames.push("$meta"));var A=h._createTransaction("readwrite",h._storeNames,w);A.create(g),A._completion.catch(b);var x=A._reject.bind(A),V=Ve.transless||Ve;kt(function(){return Ve.trans=A,Ve.transless=V,m!==0?(ei(h,g),B=m,((z=A).storeNames.includes("$meta")?z.table("$meta").get("version").then(function(X){return X??B}):Oe.resolve(B)).then(function(X){return J=X,q=A,Y=g,Q=[],X=(j=h)._versions,$=j._dbSchema=_i(0,j.idbdb,Y),(X=X.filter(function(te){return te._cfg.version>=J})).length!==0?(X.forEach(function(te){Q.push(function(){var ae=$,ce=te._cfg.dbschema;ta(j,ae,Y),ta(j,ce,Y),$=j._dbSchema=ce;var ve=xa(ae,ce);ve.add.forEach(function(xe){Bi(Y,xe[0],xe[1].primKey,xe[1].indexes)}),ve.change.forEach(function(xe){if(xe.recreate)throw new ke.Upgrade("Not yet support for changing primary key");var Ae=Y.objectStore(xe.name);xe.add.forEach(function(Le){return Na(Ae,Le)}),xe.change.forEach(function(Le){Ae.deleteIndex(Le.name),Na(Ae,Le)}),xe.del.forEach(function(Le){return Ae.deleteIndex(Le)})});var Re=te._cfg.contentUpgrade;if(Re&&te._cfg.version>J){ei(j,Y),q._memoizedTables={};var Me=M(ce);ve.del.forEach(function(xe){Me[xe]=ae[xe]}),yi(j,[j.Transaction.prototype]),ea(j,[j.Transaction.prototype],d(Me),Me),q.schema=Me;var we,Ie=K(Re);return Ie&&Kt(),ve=Oe.follow(function(){var xe;(we=Re(q))&&Ie&&(xe=kn.bind(null,null),we.then(xe,xe))}),we&&typeof we.then=="function"?Oe.resolve(we):ve.then(function(){return we})}}),Q.push(function(ae){var ce,ve,Re=te._cfg.dbschema;ce=Re,ve=ae,[].slice.call(ve.db.objectStoreNames).forEach(function(Me){return ce[Me]==null&&ve.db.deleteObjectStore(Me)}),yi(j,[j.Transaction.prototype]),ea(j,[j.Transaction.prototype],j._storeNames,j._dbSchema),q.schema=j._dbSchema}),Q.push(function(ae){j.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(j.idbdb.version/10)===te._cfg.version?(j.idbdb.deleteObjectStore("$meta"),delete j._dbSchema.$meta,j._storeNames=j._storeNames.filter(function(ce){return ce!=="$meta"})):ae.objectStore("$meta").put(te._cfg.version,"version"))})}),(function te(){return Q.length?Oe.resolve(Q.shift()(q.idbtrans)).then(te):Oe.resolve()})().then(function(){_o($,Y)})):Oe.resolve();var j,J,q,Y,Q,$}).catch(x)):(d(w).forEach(function(X){Bi(g,X,w[X].primKey,w[X].indexes)}),ei(h,g),void Oe.follow(function(){return h.on.populate.fire(A)}).catch(x));var z,B})}function ps(h,m){_o(h._dbSchema,m),m.db.version%10!=0||m.objectStoreNames.contains("$meta")||m.db.createObjectStore("$meta").add(Math.ceil(m.db.version/10-1),"version");var g=_i(0,h.idbdb,m);ta(h,h._dbSchema,m);for(var b=0,w=xa(g,h._dbSchema).change;b<w.length;b++){var A=(function(x){if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var V=m.objectStore(x.name);x.add.forEach(function(z){Vn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(z.src)),Na(V,z)})})(w[b]);if(typeof A=="object")return A.value}}function xa(h,m){var g,b={del:[],add:[],change:[]};for(g in h)m[g]||b.del.push(g);for(g in m){var w=h[g],A=m[g];if(w){var x={name:g,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||w.primKey.auto!==A.primKey.auto)x.recreate=!0,b.change.push(x);else{var V=w.idxByName,z=A.idxByName,B=void 0;for(B in V)z[B]||x.del.push(B);for(B in z){var X=V[B],j=z[B];X?X.src!==j.src&&x.change.push(j):x.add.push(j)}(0<x.del.length||0<x.add.length||0<x.change.length)&&b.change.push(x)}}else b.add.push([g,A])}return b}function Bi(h,m,g,b){var w=h.db.createObjectStore(m,g.keyPath?{keyPath:g.keyPath,autoIncrement:g.auto}:{autoIncrement:g.auto});return b.forEach(function(A){return Na(w,A)}),w}function _o(h,m){d(h).forEach(function(g){m.db.objectStoreNames.contains(g)||(Vn&&console.debug("Dexie: Creating missing table",g),Bi(m,g,h[g].primKey,h[g].indexes))})}function Na(h,m){h.createIndex(m.name,m.keyPath,{unique:m.unique,multiEntry:m.multi})}function _i(h,m,g){var b={};return Te(m.objectStoreNames,0).forEach(function(w){for(var A=g.objectStore(w),x=Ir(ds(B=A.keyPath),B||"",!0,!1,!!A.autoIncrement,B&&typeof B!="string",!0),V=[],z=0;z<A.indexNames.length;++z){var X=A.index(A.indexNames[z]),B=X.keyPath,X=Ir(X.name,B,!!X.unique,!!X.multiEntry,!1,B&&typeof B!="string",!1);V.push(X)}b[w]=Li(w,x,V)}),b}function ta(h,m,g){for(var b=g.db.objectStoreNames,w=0;w<b.length;++w){var A=b[w],x=g.objectStore(A);h._hasGetAll="getAll"in x;for(var V=0;V<x.indexNames.length;++V){var z=x.indexNames[V],B=x.index(z).keyPath,X=typeof B=="string"?B:"["+Te(B).join("+")+"]";!m[A]||(B=m[A].idxByName[X])&&(B.name=z,delete m[A].idxByName[X],m[A].idxByName[z]=B)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&u.WorkerGlobalScope&&u instanceof u.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function Eo(h){return h.split(",").map(function(m,g){var A=m.split(":"),b=(w=A[1])===null||w===void 0?void 0:w.trim(),w=(m=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return Ir(w,A||null,/\&/.test(m),/\*/.test(m),/\+\+/.test(m),y(A),g===0,b)})}var gs=(qi.prototype._createTableSchema=Li,qi.prototype._parseIndexSyntax=Eo,qi.prototype._parseStoresSpec=function(h,m){var g=this;d(h).forEach(function(b){if(h[b]!==null){var w=g._parseIndexSyntax(h[b]),A=w.shift();if(!A)throw new ke.Schema("Invalid schema for table "+b+": "+h[b]);if(A.unique=!0,A.multi)throw new ke.Schema("Primary key cannot be multiEntry*");w.forEach(function(x){if(x.auto)throw new ke.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new ke.Schema("Index must have a name and cannot be an empty string")}),w=g._createTableSchema(b,A,w),m[b]=w}})},qi.prototype.stores=function(g){var m=this.db;this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,g):g;var g=m._versions,b={},w={};return g.forEach(function(A){v(b,A._cfg.storesSource),w=A._cfg.dbschema={},A._parseStoresSpec(b,w)}),m._dbSchema=w,yi(m,[m._allTables,m,m.Transaction.prototype]),ea(m,[m._allTables,m,m.Transaction.prototype,this._cfg.tables],d(w),w),m._storeNames=d(w),this},qi.prototype.upgrade=function(h){return this._cfg.contentUpgrade=tn(this._cfg.contentUpgrade||wt,h),this},qi);function qi(){}function ys(h,m){var g=h._dbNamesDB;return g||(g=h._dbNamesDB=new bi(Ji,{addons:[],indexedDB:h,IDBKeyRange:m})).version(1).stores({dbnames:"name"}),g.table("dbnames")}function Or(h){return h&&typeof h.databases=="function"}function vs(h){return kt(function(){return Ve.letThrough=!0,h()})}function _s(h){return!("from"in h)}var En=function(h,m){if(!this){var g=new En;return h&&"d"in h&&v(g,h),g}v(this,arguments.length?{d:1,from:h,to:1<arguments.length?m:h}:{d:0})};function na(h,m,g){var b=ot(m,g);if(!isNaN(b)){if(0<b)throw RangeError();if(_s(h))return v(h,{from:m,to:g,d:1});var w=h.l,b=h.r;if(ot(g,h.from)<0)return w?na(w,m,g):h.l={from:m,to:g,d:1,l:null,r:null},bo(h);if(0<ot(m,h.to))return b?na(b,m,g):h.r={from:m,to:g,d:1,l:null,r:null},bo(h);ot(m,h.from)<0&&(h.from=m,h.l=null,h.d=b?b.d+1:1),0<ot(g,h.to)&&(h.to=g,h.r=null,h.d=h.l?h.l.d+1:1),g=!h.r,w&&!h.l&&Dr(h,w),b&&g&&Dr(h,b)}}function Dr(h,m){_s(m)||(function g(b,z){var A=z.from,x=z.to,V=z.l,z=z.r;na(b,A,x),V&&g(b,V),z&&g(b,z)})(h,m)}function qn(h,m){var g=Ma(m),b=g.next();if(b.done)return!1;for(var w=b.value,A=Ma(h),x=A.next(w.from),V=x.value;!b.done&&!x.done;){if(ot(V.from,w.to)<=0&&0<=ot(V.to,w.from))return!0;ot(w.from,V.from)<0?w=(b=g.next(V.from)).value:V=(x=A.next(w.from)).value}return!1}function Ma(h){var m=_s(h)?null:{s:0,n:h};return{next:function(g){for(var b=0<arguments.length;m;)switch(m.s){case 0:if(m.s=1,b)for(;m.n.l&&ot(g,m.n.from)<0;)m={up:m,n:m.n.l,s:1};else for(;m.n.l;)m={up:m,n:m.n.l,s:1};case 1:if(m.s=2,!b||ot(g,m.n.to)<=0)return{value:m.n,done:!1};case 2:if(m.n.r){m.s=3,m={up:m,n:m.n.r,s:0};continue}case 3:m=m.up}return{done:!0}}}}function bo(h){var m,g,b=(((m=h.r)===null||m===void 0?void 0:m.d)||0)-(((g=h.l)===null||g===void 0?void 0:g.d)||0),w=1<b?"r":b<-1?"l":"";w&&(m=w=="r"?"l":"r",g=a({},h),b=h[w],h.from=b.from,h.to=b.to,h[w]=b[w],g[w]=b[m],(h[m]=g).d=Ei(g)),h.d=Ei(h)}function Ei(g){var m=g.r,g=g.l;return(m?g?Math.max(m.d,g.d):m.d:g?g.d:0)+1}function c(h,m){return d(m).forEach(function(g){h[g]?Dr(h[g],m[g]):h[g]=(function b(w){var A,x,V={};for(A in w)I(w,A)&&(x=w[A],V[A]=!x||typeof x!="object"||F.has(x.constructor)?x:b(x));return V})(m[g])}),h}function _(h,m){return h.all||m.all||Object.keys(h).some(function(g){return m[g]&&qn(m[g],h[g])})}P(En.prototype,((gr={add:function(h){return Dr(this,h),this},addKey:function(h){return na(this,h,h),this},addKeys:function(h){var m=this;return h.forEach(function(g){return na(m,g,g)}),this},hasKey:function(h){var m=Ma(this).next(h).value;return m&&ot(m.from,h)<=0&&0<=ot(m.to,h)}})[he]=function(){return Ma(this)},gr));var S={},O={},ee=!1;function le(h){c(O,h),ee||(ee=!0,setTimeout(function(){ee=!1,Ce(O,!(O={}))},0))}function Ce(h,m){m===void 0&&(m=!1);var g=new Set;if(h.all)for(var b=0,w=Object.values(S);b<w.length;b++)nt(x=w[b],h,g,m);else for(var A in h){var x,V=/^idb\:\/\/(.*)\/(.*)\//.exec(A);V&&(A=V[1],V=V[2],(x=S["idb://".concat(A,"/").concat(V)])&&nt(x,h,g,m))}g.forEach(function(z){return z()})}function nt(h,m,g,b){for(var w=[],A=0,x=Object.entries(h.queries.query);A<x.length;A++){for(var V=x[A],z=V[0],B=[],X=0,j=V[1];X<j.length;X++){var J=j[X];_(m,J.obsSet)?J.subscribers.forEach(function($){return g.add($)}):b&&B.push(J)}b&&w.push([z,B])}if(b)for(var q=0,Y=w;q<Y.length;q++){var Q=Y[q],z=Q[0],B=Q[1];h.queries.query[z]=B}}function ln(h){var m=h._state,g=h._deps.indexedDB;if(m.isBeingOpened||h.idbdb)return m.dbReadyPromise.then(function(){return m.dbOpenError?Ct(m.dbOpenError):h});m.isBeingOpened=!0,m.dbOpenError=null,m.openComplete=!1;var b=m.openCanceller,w=Math.round(10*h.verno),A=!1;function x(){if(m.openCanceller!==b)throw new ke.DatabaseClosed("db.open() was cancelled")}function V(){return new Oe(function(J,q){if(x(),!g)throw new ke.MissingAPI;var Y=h.name,Q=m.autoSchema||!w?g.open(Y):g.open(Y,w);if(!Q)throw new ke.MissingAPI;Q.onerror=Bn(q),Q.onblocked=Mt(h._fireOnBlocked),Q.onupgradeneeded=Mt(function($){var te;X=Q.transaction,m.autoSchema&&!h._options.allowEmptyDB?(Q.onerror=mi,X.abort(),Q.result.close(),(te=g.deleteDatabase(Y)).onsuccess=te.onerror=Mt(function(){q(new ke.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(X.onerror=Bn(q),$=$.oldVersion>Math.pow(2,62)?0:$.oldVersion,j=$<1,h.idbdb=Q.result,A&&ps(h,X),vi(h,$/10,X,q))},q),Q.onsuccess=Mt(function(){X=null;var $,te,ae,ce,ve,Re=h.idbdb=Q.result,Me=Te(Re.objectStoreNames);if(0<Me.length)try{var we=Re.transaction((ce=Me).length===1?ce[0]:ce,"readonly");if(m.autoSchema)te=Re,ae=we,($=h).verno=te.version/10,ae=$._dbSchema=_i(0,te,ae),$._storeNames=Te(te.objectStoreNames,0),ea($,[$._allTables],d(ae),ae);else if(ta(h,h._dbSchema,we),((ve=xa(_i(0,(ve=h).idbdb,we),ve._dbSchema)).add.length||ve.change.some(function(Ie){return Ie.add.length||Ie.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Re.close(),w=Re.version+1,A=!0,J(V());ei(h,we)}catch{}di.push(h),Re.onversionchange=Mt(function(Ie){m.vcFired=!0,h.on("versionchange").fire(Ie)}),Re.onclose=Mt(function(){h.close({disableAutoOpen:!1})}),j&&(ve=h._deps,we=Y,Re=ve.indexedDB,ve=ve.IDBKeyRange,Or(Re)||we===Ji||ys(Re,ve).put({name:we}).catch(wt)),J()},q)}).catch(function(J){switch(J?.name){case"UnknownError":if(0<m.PR1398_maxLoop)return m.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),V();break;case"VersionError":if(0<w)return w=0,V()}return Oe.reject(J)})}var z,B=m.dbReadyResolve,X=null,j=!1;return Oe.race([b,(typeof navigator>"u"?Oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function q(){return indexedDB.databases().finally(J)}z=setInterval(q,100),q()}).finally(function(){return clearInterval(z)}):Promise.resolve()).then(V)]).then(function(){return x(),m.onReadyBeingFired=[],Oe.resolve(vs(function(){return h.on.ready.fire(h.vip)})).then(function J(){if(0<m.onReadyBeingFired.length){var q=m.onReadyBeingFired.reduce(tn,wt);return m.onReadyBeingFired=[],Oe.resolve(vs(function(){return q(h.vip)})).then(J)}})}).finally(function(){m.openCanceller===b&&(m.onReadyBeingFired=null,m.isBeingOpened=!1)}).catch(function(J){m.dbOpenError=J;try{X&&X.abort()}catch{}return b===m.openCanceller&&h._close(),Ct(J)}).finally(function(){m.openComplete=!0,B()}).then(function(){var J;return j&&(J={},h.tables.forEach(function(q){q.schema.indexes.forEach(function(Y){Y.name&&(J["idb://".concat(h.name,"/").concat(q.name,"/").concat(Y.name)]=new En(-1/0,[[[]]]))}),J["idb://".concat(h.name,"/").concat(q.name,"/")]=J["idb://".concat(h.name,"/").concat(q.name,"/:dels")]=new En(-1/0,[[[]]])}),_n(Cr).fire(J),Ce(J,!0)),h})}function At(h){function m(A){return h.next(A)}var g=w(m),b=w(function(A){return h.throw(A)});function w(A){return function(z){var V=A(z),z=V.value;return V.done?z:z&&typeof z.then=="function"?z.then(g,b):y(z)?Promise.all(z).then(g,b):g(z)}}return w(m)()}function Lt(h,m,g){for(var b=y(h)?h.slice():[h],w=0;w<g;++w)b.push(m);return b}var xr={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return a(a({},h),{table:function(m){var g=h.table(m),b=g.schema,w={},A=[];function x(j,J,q){var Y=on(j),Q=w[Y]=w[Y]||[],$=j==null?0:typeof j=="string"?1:j.length,te=0<J,te=a(a({},q),{name:te?"".concat(Y,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:te,keyTail:J,keyLength:$,extractKey:ji(j),unique:!te&&q.unique});return Q.push(te),te.isPrimaryKey||A.push(te),1<$&&x($===2?j[0]:j.slice(0,$-1),J+1,q),Q.sort(function(ae,ce){return ae.keyTail-ce.keyTail}),te}m=x(b.primaryKey.keyPath,0,b.primaryKey),w[":id"]=[m];for(var V=0,z=b.indexes;V<z.length;V++){var B=z[V];x(B.keyPath,0,B)}function X(j){var J,q=j.query.index;return q.isVirtual?a(a({},j),{query:{index:q.lowLevelIndex,range:(J=j.query.range,q=q.keyTail,{type:J.type===1?2:J.type,lower:Lt(J.lower,J.lowerOpen?h.MAX_KEY:h.MIN_KEY,q),lowerOpen:!0,upper:Lt(J.upper,J.upperOpen?h.MIN_KEY:h.MAX_KEY,q),upperOpen:!0})}}):j}return a(a({},g),{schema:a(a({},b),{primaryKey:m,indexes:A,getIndexByKeyPath:function(j){return(j=w[on(j)])&&j[0]}}),count:function(j){return g.count(X(j))},query:function(j){return g.query(X(j))},openCursor:function(j){var J=j.query.index,q=J.keyTail,Y=J.isVirtual,Q=J.keyLength;return Y?g.openCursor(X(j)).then(function(te){return te&&$(te)}):g.openCursor(j);function $(te){return Object.create(te,{continue:{value:function(ae){ae!=null?te.continue(Lt(ae,j.reverse?h.MAX_KEY:h.MIN_KEY,q)):j.unique?te.continue(te.key.slice(0,Q).concat(j.reverse?h.MIN_KEY:h.MAX_KEY,q)):te.continue()}},continuePrimaryKey:{value:function(ae,ce){te.continuePrimaryKey(Lt(ae,h.MAX_KEY,q),ce)}},primaryKey:{get:function(){return te.primaryKey}},key:{get:function(){var ae=te.key;return Q===1?ae[0]:ae.slice(0,Q)}},value:{get:function(){return te.value}}})}}})}})}};function Nr(h,m,g,b){return g=g||{},b=b||"",d(h).forEach(function(w){var A,x,V;I(m,w)?(A=h[w],x=m[w],typeof A=="object"&&typeof x=="object"&&A&&x?(V=en(A))!==en(x)?g[b+w]=m[w]:V==="Object"?Nr(A,x,g,b+w+"."):A!==x&&(g[b+w]=m[w]):A!==x&&(g[b+w]=m[w])):g[b+w]=void 0}),d(m).forEach(function(w){I(h,w)||(g[b+w]=m[w])}),g}function pr(h,m){return m.type==="delete"?m.keys:m.keys||m.values.map(h.extractKey)}var ti={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return a(a({},h),{table:function(m){var g=h.table(m),b=g.schema.primaryKey;return a(a({},g),{mutate:function(w){var A=Ve.trans,x=A.table(m).hook,V=x.deleting,z=x.creating,B=x.updating;switch(w.type){case"add":if(z.fire===wt)break;return A._promise("readwrite",function(){return X(w)},!0);case"put":if(z.fire===wt&&B.fire===wt)break;return A._promise("readwrite",function(){return X(w)},!0);case"delete":if(V.fire===wt)break;return A._promise("readwrite",function(){return X(w)},!0);case"deleteRange":if(V.fire===wt)break;return A._promise("readwrite",function(){return(function j(J,q,Y){return g.query({trans:J,values:!1,query:{index:b,range:q},limit:Y}).then(function(Q){var $=Q.result;return X({type:"delete",keys:$,trans:J}).then(function(te){return 0<te.numFailures?Promise.reject(te.failures[0]):$.length<Y?{failures:[],numFailures:0,lastResult:void 0}:j(J,a(a({},q),{lower:$[$.length-1],lowerOpen:!0}),Y)})})})(w.trans,w.range,1e4)},!0)}return g.mutate(w);function X(j){var J,q,Y,Q=Ve.trans,$=j.keys||pr(b,j);if(!$)throw new Error("Keys missing");return(j=j.type==="add"||j.type==="put"?a(a({},j),{keys:$}):a({},j)).type!=="delete"&&(j.values=o([],j.values)),j.keys&&(j.keys=o([],j.keys)),J=g,Y=$,((q=j).type==="add"?Promise.resolve([]):J.getMany({trans:q.trans,keys:Y,cache:"immutable"})).then(function(te){var ae=$.map(function(ce,ve){var Re,Me,we,Ie=te[ve],xe={onerror:null,onsuccess:null};return j.type==="delete"?V.fire.call(xe,ce,Ie,Q):j.type==="add"||Ie===void 0?(Re=z.fire.call(xe,ce,j.values[ve],Q),ce==null&&Re!=null&&(j.keys[ve]=ce=Re,b.outbound||N(j.values[ve],b.keyPath,ce))):(Re=Nr(Ie,j.values[ve]),(Me=B.fire.call(xe,Re,ce,Ie,Q))&&(we=j.values[ve],Object.keys(Me).forEach(function(Ae){I(we,Ae)?we[Ae]=Me[Ae]:N(we,Ae,Me[Ae])}))),xe});return g.mutate(j).then(function(ce){for(var ve=ce.failures,Re=ce.results,Me=ce.numFailures,ce=ce.lastResult,we=0;we<$.length;++we){var Ie=(Re||$)[we],xe=ae[we];Ie==null?xe.onerror&&xe.onerror(ve[we]):xe.onsuccess&&xe.onsuccess(j.type==="put"&&te[we]?j.values[we]:Ie)}return{failures:ve,results:Re,numFailures:Me,lastResult:ce}}).catch(function(ce){return ae.forEach(function(ve){return ve.onerror&&ve.onerror(ce)}),Promise.reject(ce)})})}}})}})}};function ra(h,m,g){try{if(!m||m.keys.length<h.length)return null;for(var b=[],w=0,A=0;w<m.keys.length&&A<h.length;++w)ot(m.keys[w],h[A])===0&&(b.push(g?k(m.values[w]):m.values[w]),++A);return b.length===h.length?b:null}catch{return null}}var Es={stack:"dbcore",level:-1,create:function(h){return{table:function(m){var g=h.table(m);return a(a({},g),{getMany:function(b){if(!b.cache)return g.getMany(b);var w=ra(b.keys,b.trans._cache,b.cache==="clone");return w?Oe.resolve(w):g.getMany(b).then(function(A){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?k(A):A},A})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),g.mutate(b)}})}}}};function Va(h,m){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!m.schema.primaryKey.outbound}function Ac(h,m){switch(h){case"query":return m.values&&!m.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Lf={stack:"dbcore",level:0,name:"Observability",create:function(h){var m=h.schema.name,g=new En(h.MIN_KEY,h.MAX_KEY);return a(a({},h),{transaction:function(b,w,A){if(Ve.subscr&&w!=="readonly")throw new ke.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ve.querier));return h.transaction(b,w,A)},table:function(b){var w=h.table(b),A=w.schema,x=A.primaryKey,j=A.indexes,V=x.extractKey,z=x.outbound,B=x.autoIncrement&&j.filter(function(q){return q.compound&&q.keyPath.includes(x.keyPath)}),X=a(a({},w),{mutate:function(q){function Y(Ae){return Ae="idb://".concat(m,"/").concat(b,"/").concat(Ae),ce[Ae]||(ce[Ae]=new En)}var Q,$,te,ae=q.trans,ce=q.mutatedParts||(q.mutatedParts={}),ve=Y(""),Re=Y(":dels"),Me=q.type,xe=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[pr(x,q).filter(function(Ae){return Ae}),q.values]:[],we=xe[0],Ie=xe[1],xe=q.trans._cache;return y(we)?(ve.addKeys(we),(xe=Me==="delete"||we.length===Ie.length?ra(we,xe):null)||Re.addKeys(we),(xe||Ie)&&(Q=Y,$=xe,te=Ie,A.indexes.forEach(function(Ae){var Le=Q(Ae.name||"");function He(lt){return lt!=null?Ae.extractKey(lt):null}function et(lt){return Ae.multiEntry&&y(lt)?lt.forEach(function(Fn){return Le.addKey(Fn)}):Le.addKey(lt)}($||te).forEach(function(lt,Rn){var Ze=$&&He($[Rn]),Rn=te&&He(te[Rn]);ot(Ze,Rn)!==0&&(Ze!=null&&et(Ze),Rn!=null&&et(Rn))})}))):we?(Ie={from:(Ie=we.lower)!==null&&Ie!==void 0?Ie:h.MIN_KEY,to:(Ie=we.upper)!==null&&Ie!==void 0?Ie:h.MAX_KEY},Re.add(Ie),ve.add(Ie)):(ve.add(g),Re.add(g),A.indexes.forEach(function(Ae){return Y(Ae.name).add(g)})),w.mutate(q).then(function(Ae){return!we||q.type!=="add"&&q.type!=="put"||(ve.addKeys(Ae.results),B&&B.forEach(function(Le){for(var He=q.values.map(function(Ze){return Le.extractKey(Ze)}),et=Le.keyPath.findIndex(function(Ze){return Ze===x.keyPath}),lt=0,Fn=Ae.results.length;lt<Fn;++lt)He[lt][et]=Ae.results[lt];Y(Le.name).addKeys(He)})),ae.mutatedParts=c(ae.mutatedParts||{},ce),Ae})}}),j=function(Y){var Q=Y.query,Y=Q.index,Q=Q.range;return[Y,new En((Y=Q.lower)!==null&&Y!==void 0?Y:h.MIN_KEY,(Q=Q.upper)!==null&&Q!==void 0?Q:h.MAX_KEY)]},J={get:function(q){return[x,new En(q.key)]},getMany:function(q){return[x,new En().addKeys(q.keys)]},count:j,query:j,openCursor:j};return d(J).forEach(function(q){X[q]=function(Y){var Q=Ve.subscr,$=!!Q,te=Va(Ve,w)&&Ac(q,Y)?Y.obsSet={}:Q;if($){var ae=function(Ie){return Ie="idb://".concat(m,"/").concat(b,"/").concat(Ie),te[Ie]||(te[Ie]=new En)},ce=ae(""),ve=ae(":dels"),Q=J[q](Y),$=Q[0],Q=Q[1];if((q==="query"&&$.isPrimaryKey&&!Y.values?ve:ae($.name||"")).add(Q),!$.isPrimaryKey){if(q!=="count"){var Re=q==="query"&&z&&Y.values&&w.query(a(a({},Y),{values:!1}));return w[q].apply(this,arguments).then(function(Ie){if(q==="query"){if(z&&Y.values)return Re.then(function(He){return He=He.result,ce.addKeys(He),Ie});var xe=Y.values?Ie.result.map(V):Ie.result;(Y.values?ce:ve).addKeys(xe)}else if(q==="openCursor"){var Ae=Ie,Le=Y.values;return Ae&&Object.create(Ae,{key:{get:function(){return ve.addKey(Ae.primaryKey),Ae.key}},primaryKey:{get:function(){var He=Ae.primaryKey;return ve.addKey(He),He}},value:{get:function(){return Le&&ce.addKey(Ae.primaryKey),Ae.value}}})}return Ie})}ve.add(g)}}return w[q].apply(this,arguments)}}),X}})}};function Rc(h,m,g){if(g.numFailures===0)return m;if(m.type==="deleteRange")return null;var b=m.keys?m.keys.length:"values"in m&&m.values?m.values.length:1;return g.numFailures===b?null:(m=a({},m),y(m.keys)&&(m.keys=m.keys.filter(function(w,A){return!(A in g.failures)})),"values"in m&&y(m.values)&&(m.values=m.values.filter(function(w,A){return!(A in g.failures)})),m)}function el(h,m){return g=h,((b=m).lower===void 0||(b.lowerOpen?0<ot(g,b.lower):0<=ot(g,b.lower)))&&(h=h,(m=m).upper===void 0||(m.upperOpen?ot(h,m.upper)<0:ot(h,m.upper)<=0));var g,b}function ou(h,m,J,b,w,A){if(!J||J.length===0)return h;var x=m.query.index,V=x.multiEntry,z=m.query.range,B=b.schema.primaryKey.extractKey,X=x.extractKey,j=(x.lowLevelIndex||x).extractKey,J=J.reduce(function(q,Y){var Q=q,$=[];if(Y.type==="add"||Y.type==="put")for(var te=new En,ae=Y.values.length-1;0<=ae;--ae){var ce,ve=Y.values[ae],Re=B(ve);te.hasKey(Re)||(ce=X(ve),(V&&y(ce)?ce.some(function(Ae){return el(Ae,z)}):el(ce,z))&&(te.addKey(Re),$.push(ve)))}switch(Y.type){case"add":var Me=new En().addKeys(m.values?q.map(function(Le){return B(Le)}):q),Q=q.concat(m.values?$.filter(function(Le){return Le=B(Le),!Me.hasKey(Le)&&(Me.addKey(Le),!0)}):$.map(function(Le){return B(Le)}).filter(function(Le){return!Me.hasKey(Le)&&(Me.addKey(Le),!0)}));break;case"put":var we=new En().addKeys(Y.values.map(function(Le){return B(Le)}));Q=q.filter(function(Le){return!we.hasKey(m.values?B(Le):Le)}).concat(m.values?$:$.map(function(Le){return B(Le)}));break;case"delete":var Ie=new En().addKeys(Y.keys);Q=q.filter(function(Le){return!Ie.hasKey(m.values?B(Le):Le)});break;case"deleteRange":var xe=Y.range;Q=q.filter(function(Le){return!el(B(Le),xe)})}return Q},h);return J===h?h:(J.sort(function(q,Y){return ot(j(q),j(Y))||ot(B(q),B(Y))}),m.limit&&m.limit<1/0&&(J.length>m.limit?J.length=m.limit:h.length===m.limit&&J.length<m.limit&&(w.dirty=!0)),A?Object.freeze(J):J)}function bs(h,m){return ot(h.lower,m.lower)===0&&ot(h.upper,m.upper)===0&&!!h.lowerOpen==!!m.lowerOpen&&!!h.upperOpen==!!m.upperOpen}function To(h,m){return(function(g,b,w,A){if(g===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=ot(g,b))===0){if(w&&A)return 0;if(w)return 1;if(A)return-1}return b})(h.lower,m.lower,h.lowerOpen,m.lowerOpen)<=0&&0<=(function(g,b,w,A){if(g===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=ot(g,b))===0){if(w&&A)return 0;if(w)return-1;if(A)return 1}return b})(h.upper,m.upper,h.upperOpen,m.upperOpen)}function Uf(h,m,g,b){h.subscribers.add(g),b.addEventListener("abort",function(){var w,A;h.subscribers.delete(g),h.subscribers.size===0&&(w=h,A=m,setTimeout(function(){w.subscribers.size===0&&Be(A,w)},3e3))})}var tl={stack:"dbcore",level:0,name:"Cache",create:function(h){var m=h.schema.name;return a(a({},h),{transaction:function(g,b,w){var A,x,V=h.transaction(g,b,w);return b==="readwrite"&&(x=(A=new AbortController).signal,w=function(z){return function(){if(A.abort(),b==="readwrite"){for(var B=new Set,X=0,j=g;X<j.length;X++){var J=j[X],q=S["idb://".concat(m,"/").concat(J)];if(q){var Y=h.table(J),Q=q.optimisticOps.filter(function(Le){return Le.trans===V});if(V._explicit&&z&&V.mutatedParts)for(var $=0,te=Object.values(q.queries.query);$<te.length;$++)for(var ae=0,ce=(Me=te[$]).slice();ae<ce.length;ae++)_((we=ce[ae]).obsSet,V.mutatedParts)&&(Be(Me,we),we.subscribers.forEach(function(Le){return B.add(Le)}));else if(0<Q.length){q.optimisticOps=q.optimisticOps.filter(function(Le){return Le.trans!==V});for(var ve=0,Re=Object.values(q.queries.query);ve<Re.length;ve++)for(var Me,we,Ie,xe=0,Ae=(Me=Re[ve]).slice();xe<Ae.length;xe++)(we=Ae[xe]).res!=null&&V.mutatedParts&&(z&&!we.dirty?(Ie=Object.isFrozen(we.res),Ie=ou(we.res,we.req,Q,Y,we,Ie),we.dirty?(Be(Me,we),we.subscribers.forEach(function(Le){return B.add(Le)})):Ie!==we.res&&(we.res=Ie,we.promise=Oe.resolve({result:Ie}))):(we.dirty&&Be(Me,we),we.subscribers.forEach(function(Le){return B.add(Le)})))}}}B.forEach(function(Le){return Le()})}}},V.addEventListener("abort",w(!1),{signal:x}),V.addEventListener("error",w(!1),{signal:x}),V.addEventListener("complete",w(!0),{signal:x})),V},table:function(g){var b=h.table(g),w=b.schema.primaryKey;return a(a({},b),{mutate:function(A){var x=Ve.trans;if(w.outbound||x.db._options.cache==="disabled"||x.explicit||x.idbtrans.mode!=="readwrite")return b.mutate(A);var V=S["idb://".concat(m,"/").concat(g)];return V?(x=b.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||pr(w,A).some(function(z){return z==null}))?(V.optimisticOps.push(A),A.mutatedParts&&le(A.mutatedParts),x.then(function(z){0<z.numFailures&&(Be(V.optimisticOps,A),(z=Rc(0,A,z))&&V.optimisticOps.push(z),A.mutatedParts&&le(A.mutatedParts))}),x.catch(function(){Be(V.optimisticOps,A),A.mutatedParts&&le(A.mutatedParts)})):x.then(function(z){var B=Rc(0,a(a({},A),{values:A.values.map(function(X,j){var J;return z.failures[j]?X:(X=(J=w.keyPath)!==null&&J!==void 0&&J.includes(".")?k(X):a({},X),N(X,w.keyPath,z.results[j]),X)})}),z);V.optimisticOps.push(B),queueMicrotask(function(){return A.mutatedParts&&le(A.mutatedParts)})}),x):b.mutate(A)},query:function(A){if(!Va(Ve,b)||!Ac("query",A))return b.query(A);var x=((B=Ve.trans)===null||B===void 0?void 0:B.db._options.cache)==="immutable",j=Ve,V=j.requery,z=j.signal,B=(function(Y,Q,$,te){var ae=S["idb://".concat(Y,"/").concat(Q)];if(!ae)return[];if(!(Q=ae.queries[$]))return[null,!1,ae,null];var ce=Q[(te.query?te.query.index.name:null)||""];if(!ce)return[null,!1,ae,null];switch($){case"query":var ve=ce.find(function(Re){return Re.req.limit===te.limit&&Re.req.values===te.values&&bs(Re.req.query.range,te.query.range)});return ve?[ve,!0,ae,ce]:[ce.find(function(Re){return("limit"in Re.req?Re.req.limit:1/0)>=te.limit&&(!te.values||Re.req.values)&&To(Re.req.query.range,te.query.range)}),!1,ae,ce];case"count":return ve=ce.find(function(Re){return bs(Re.req.query.range,te.query.range)}),[ve,!!ve,ae,ce]}})(m,g,"query",A),X=B[0],j=B[1],J=B[2],q=B[3];return X&&j?X.obsSet=A.obsSet:(j=b.query(A).then(function(Y){var Q=Y.result;if(X&&(X.res=Q),x){for(var $=0,te=Q.length;$<te;++$)Object.freeze(Q[$]);Object.freeze(Q)}else Y.result=k(Q);return Y}).catch(function(Y){return q&&X&&Be(q,X),Promise.reject(Y)}),X={obsSet:A.obsSet,promise:j,subscribers:new Set,type:"query",req:A,dirty:!1},q?q.push(X):(q=[X],(J=J||(S["idb://".concat(m,"/").concat(g)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=q)),Uf(X,q,V,z),X.promise.then(function(Y){return{result:ou(Y.result,A,J?.optimisticOps,b,X,x)}})}})}})}};function So(h,m){return new Proxy(h,{get:function(g,b,w){return b==="db"?m:Reflect.get(g,b,w)}})}var bi=(Gt.prototype.version=function(h){if(isNaN(h)||h<.1)throw new ke.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new ke.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var m=this._versions,g=m.filter(function(b){return b._cfg.version===h})[0];return g||(g=new this.Version(h),m.push(g),m.sort(ms),g.stores({}),this._state.autoSchema=!1,g)},Gt.prototype._whenReady=function(h){var m=this;return this.idbdb&&(this._state.openComplete||Ve.letThrough||this._vip)?h():new Oe(function(g,b){if(m._state.openComplete)return b(new ke.DatabaseClosed(m._state.dbOpenError));if(!m._state.isBeingOpened){if(!m._state.autoOpen)return void b(new ke.DatabaseClosed);m.open().catch(wt)}m._state.dbReadyPromise.then(g,b)}).then(h)},Gt.prototype.use=function(h){var m=h.stack,g=h.create,b=h.level,w=h.name;return w&&this.unuse({stack:m,name:w}),h=this._middlewares[m]||(this._middlewares[m]=[]),h.push({stack:m,create:g,level:b??10,name:w}),h.sort(function(A,x){return A.level-x.level}),this},Gt.prototype.unuse=function(h){var m=h.stack,g=h.name,b=h.create;return m&&this._middlewares[m]&&(this._middlewares[m]=this._middlewares[m].filter(function(w){return b?w.create!==b:!!g&&w.name!==g})),this},Gt.prototype.open=function(){var h=this;return zn(yn,function(){return ln(h)})},Gt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var h=this._state,m=di.indexOf(this);if(0<=m&&di.splice(m,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new Oe(function(g){h.dbReadyResolve=g}),h.openCanceller=new Oe(function(g,b){h.cancelOpen=b}))},Gt.prototype.close=function(g){var m=(g===void 0?{disableAutoOpen:!0}:g).disableAutoOpen,g=this._state;m?(g.isBeingOpened&&g.cancelOpen(new ke.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new ke.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},Gt.prototype.delete=function(h){var m=this;h===void 0&&(h={disableAutoOpen:!0});var g=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new Oe(function(w,A){function x(){m.close(h);var V=m._deps.indexedDB.deleteDatabase(m.name);V.onsuccess=Mt(function(){var z,B,X;z=m._deps,B=m.name,X=z.indexedDB,z=z.IDBKeyRange,Or(X)||B===Ji||ys(X,z).delete(B).catch(wt),w()}),V.onerror=Bn(A),V.onblocked=m._fireOnBlocked}if(g)throw new ke.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(x):x()})},Gt.prototype.backendDB=function(){return this.idbdb},Gt.prototype.isOpen=function(){return this.idbdb!==null},Gt.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},Gt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Gt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Gt.prototype,"tables",{get:function(){var h=this;return d(this._allTables).map(function(m){return h._allTables[m]})},enumerable:!1,configurable:!0}),Gt.prototype.transaction=function(){var h=(function(m,g,b){var w=arguments.length;if(w<2)throw new ke.InvalidArgument("Too few arguments");for(var A=new Array(w-1);--w;)A[w-1]=arguments[w];return b=A.pop(),[m,G(A),b]}).apply(this,arguments);return this._transaction.apply(this,h)},Gt.prototype._transaction=function(h,m,g){var b=this,w=Ve.trans;w&&w.db===this&&h.indexOf("!")===-1||(w=null);var A,x,V=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(x=m.map(function(B){if(B=B instanceof b.Table?B.name:B,typeof B!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return B}),h=="r"||h===Sr)A=Sr;else{if(h!="rw"&&h!=wr)throw new ke.InvalidArgument("Invalid transaction mode: "+h);A=wr}if(w){if(w.mode===Sr&&A===wr){if(!V)throw new ke.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");w=null}w&&x.forEach(function(B){if(w&&w.storeNames.indexOf(B)===-1){if(!V)throw new ke.SubTransaction("Table "+B+" not included in parent transaction.");w=null}}),V&&w&&!w.active&&(w=null)}}catch(B){return w?w._promise(null,function(X,j){j(B)}):Ct(B)}var z=(function B(X,j,J,q,Y){return Oe.resolve().then(function(){var Q=Ve.transless||Ve,$=X._createTransaction(j,J,X._dbSchema,q);if($.explicit=!0,Q={trans:$,transless:Q},q)$.idbtrans=q.idbtrans;else try{$.create(),$.idbtrans._explicit=!0,X._state.PR1398_maxLoop=3}catch(ce){return ce.name===mt.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return B(X,j,J,null,Y)})):Ct(ce)}var te,ae=K(Y);return ae&&Kt(),Q=Oe.follow(function(){var ce;(te=Y.call($,$))&&(ae?(ce=kn.bind(null,null),te.then(ce,ce)):typeof te.next=="function"&&typeof te.throw=="function"&&(te=At(te)))},Q),(te&&typeof te.then=="function"?Oe.resolve(te).then(function(ce){return $.active?ce:Ct(new ke.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return te})).then(function(ce){return q&&$._resolve(),$._completion.then(function(){return ce})}).catch(function(ce){return $._reject(ce),Ct(ce)})})}).bind(null,this,A,x,w,g);return w?w._promise(A,z,"lock"):Ve.trans?zn(Ve.transless,function(){return b._whenReady(z)}):this._whenReady(z)},Gt.prototype.table=function(h){if(!I(this._allTables,h))throw new ke.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},Gt);function Gt(h,m){var g=this;this._middlewares={},this.verno=0;var b=Gt.dependencies;this._options=m=a({addons:Gt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},m),this._deps={indexedDB:m.indexedDB,IDBKeyRange:m.IDBKeyRange},b=m.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w,A,x,V,z,B={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:wt,dbReadyPromise:null,cancelOpen:wt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:m.autoOpen};B.dbReadyPromise=new Oe(function(j){B.dbReadyResolve=j}),B.openCanceller=new Oe(function(j,J){B.cancelOpen=J}),this._state=B,this.name=h,this.on=Qr(this,"populate","blocked","versionchange","close",{ready:[tn,wt]}),this.once=function(j,J){var q=function(){for(var Y=[],Q=0;Q<arguments.length;Q++)Y[Q]=arguments[Q];g.on(j).unsubscribe(q),J.apply(g,Y)};return g.on(j,q)},this.on.ready.subscribe=Ne(this.on.ready.subscribe,function(j){return function(J,q){Gt.vip(function(){var Y,Q=g._state;Q.openComplete?(Q.dbOpenError||Oe.resolve().then(J),q&&j(J)):Q.onReadyBeingFired?(Q.onReadyBeingFired.push(J),q&&j(J)):(j(J),Y=g,q||j(function $(){Y.on.ready.unsubscribe(J),Y.on.ready.unsubscribe($)}))})}}),this.Collection=(w=this,An(Zo.prototype,function(te,$){this.db=w;var q=ls,Y=null;if($)try{q=$()}catch(ae){Y=ae}var Q=te._ctx,$=Q.table,te=$.hook.reading.fire;this._ctx={table:$,index:Q.index,isPrimKey:!Q.index||$.schema.primKey.keyPath&&Q.index===$.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:Q.or,valueMapper:te!==li?te:null}})),this.Table=(A=this,An(Wi.prototype,function(j,J,q){this.db=A,this._tx=q,this.name=j,this.schema=J,this.hook=A._allTables[j]?A._allTables[j].hook:Qr(null,{creating:[Ta,wt],reading:[ui,li],updating:[mo,wt],deleting:[fo,wt]})})),this.Transaction=(x=this,An(Da.prototype,function(j,J,q,Y,Q){var $=this;j!=="readonly"&&J.forEach(function(te){te=(te=q[te])===null||te===void 0?void 0:te.yProps,te&&(J=J.concat(te.map(function(ae){return ae.updatesTable})))}),this.db=x,this.mode=j,this.storeNames=J,this.schema=q,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=Qr(this,"complete","error","abort"),this.parent=Q||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Oe(function(te,ae){$._resolve=te,$._reject=ae}),this._completion.then(function(){$.active=!1,$.on.complete.fire()},function(te){var ae=$.active;return $.active=!1,$.on.error.fire(te),$.parent?$.parent._reject(te):ae&&$.idbtrans&&$.idbtrans.abort(),Ct(te)})})),this.Version=(V=this,An(gs.prototype,function(j){this.db=V,this._cfg={version:j,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(z=this,An(Pi.prototype,function(j,J,q){if(this.db=z,this._ctx={table:j,index:J===":id"?null:J,or:q},this._cmp=this._ascending=ot,this._descending=function(Y,Q){return ot(Q,Y)},this._max=function(Y,Q){return 0<ot(Y,Q)?Y:Q},this._min=function(Y,Q){return ot(Y,Q)<0?Y:Q},this._IDBKeyRange=z._deps.IDBKeyRange,!this._IDBKeyRange)throw new ke.MissingAPI})),this.on("versionchange",function(j){0<j.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(j){!j.newVersion||j.newVersion<j.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(j.oldVersion/10))}),this._maxKey=Ui(m.IDBKeyRange),this._createTransaction=function(j,J,q,Y){return new g.Transaction(j,J,q,g._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(j){g.on("blocked").fire(j),di.filter(function(J){return J.name===g.name&&J!==g&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(j)})},this.use(Es),this.use(tl),this.use(Lf),this.use(xr),this.use(ti);var X=new Proxy(this,{get:function(j,J,q){if(J==="_vip")return!0;if(J==="table")return function(Q){return So(g.table(Q),X)};var Y=Reflect.get(j,J,q);return Y instanceof Wi?So(Y,X):J==="tables"?Y.map(function(Q){return So(Q,X)}):J==="_createTransaction"?function(){return So(Y.apply(this,arguments),X)}:Y}});this.vip=X,b.forEach(function(j){return j(g)})}var Ts,gr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Cc=(nl.prototype.subscribe=function(h,m,g){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:m,complete:g})},nl.prototype[gr]=function(){return this},nl);function nl(h){this._subscribe=h}try{Ts={indexedDB:u.indexedDB||u.mozIndexedDB||u.webkitIndexedDB||u.msIndexedDB,IDBKeyRange:u.IDBKeyRange||u.webkitIDBKeyRange}}catch{Ts={indexedDB:null,IDBKeyRange:null}}function Ic(h){var m,g=!1,b=new Cc(function(w){var A=K(h),x,V=!1,z={},B={},X={get closed(){return V},unsubscribe:function(){V||(V=!0,x&&x.abort(),j&&_n.storagemutated.unsubscribe(q))}};w.start&&w.start(X);var j=!1,J=function(){return Tr(Y)},q=function(Q){c(z,Q),_(B,z)&&J()},Y=function(){var Q,$,te;!V&&Ts.indexedDB&&(z={},Q={},x&&x.abort(),x=new AbortController,te=(function(ae){var ce=Yn();try{A&&Kt();var ve=kt(h,ae);return ve=A?ve.finally(kn):ve}finally{ce&&Er()}})($={subscr:Q,signal:x.signal,requery:J,querier:h,trans:null}),Promise.resolve(te).then(function(ae){g=!0,m=ae,V||$.signal.aborted||(z={},(function(ce){for(var ve in ce)if(I(ce,ve))return;return 1})(B=Q)||j||(_n(Cr,q),j=!0),Tr(function(){return!V&&w.next&&w.next(ae)}))},function(ae){g=!1,["DatabaseClosedError","AbortError"].includes(ae?.name)||V||Tr(function(){V||w.error&&w.error(ae)})}))};return setTimeout(J,0),X});return b.hasValue=function(){return g},b.getValue=function(){return m},b}var ka=bi;function lu(h){var m=ia;try{ia=!0,_n.storagemutated.fire(h),Ce(h,!0)}finally{ia=m}}P(ka,a(a({},Mi),{delete:function(h){return new ka(h,{addons:[]}).delete()},exists:function(h){return new ka(h,{addons:[]}).open().then(function(m){return m.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return m=ka.dependencies,g=m.indexedDB,m=m.IDBKeyRange,(Or(g)?Promise.resolve(g.databases()).then(function(b){return b.map(function(w){return w.name}).filter(function(w){return w!==Ji})}):ys(g,m).toCollection().primaryKeys()).then(h)}catch{return Ct(new ke.MissingAPI)}var m,g},defineClass:function(){return function(h){v(this,h)}},ignoreTransaction:function(h){return Ve.trans?zn(Ve.transless,h):h()},vip:vs,async:function(h){return function(){try{var m=At(h.apply(this,arguments));return m&&typeof m.then=="function"?m:Oe.resolve(m)}catch(g){return Ct(g)}}},spawn:function(h,m,g){try{var b=At(h.apply(g,m||[]));return b&&typeof b.then=="function"?b:Oe.resolve(b)}catch(w){return Ct(w)}},currentTransaction:{get:function(){return Ve.trans||null}},waitFor:function(h,m){return m=Oe.resolve(typeof h=="function"?ka.ignoreTransaction(h):h).timeout(m||6e4),Ve.trans?Ve.trans.waitFor(m):m},Promise:Oe,debug:{get:function(){return Vn},set:function(h){$o(h)}},derive:pe,extend:v,props:P,override:Ne,Events:Qr,on:_n,liveQuery:Ic,extendObservabilitySet:c,getByKeyPath:Ye,setByKeyPath:N,delByKeyPath:function(h,m){typeof m=="string"?N(h,m,void 0):"length"in m&&[].map.call(m,function(g){N(h,g,void 0)})},shallowClone:M,deepClone:k,getObjectDiff:Nr,cmp:ot,asap:st,minKey:-1/0,addons:[],connections:di,errnames:mt,dependencies:Ts,cache:S,semVer:"4.2.1",version:"4.2.1".split(".").map(function(h){return parseInt(h)}).reduce(function(h,m,g){return h+m/Math.pow(10,2*g)})})),ka.maxKey=Ui(ka.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(_n(Cr,function(h){ia||(h=new CustomEvent(mr,{detail:h}),ia=!0,dispatchEvent(h),ia=!1)}),addEventListener(mr,function(h){h=h.detail,ia||lu(h)}));var Ss,ia=!1,sr=function(){};return typeof BroadcastChannel<"u"&&((sr=function(){(Ss=new BroadcastChannel(mr)).onmessage=function(h){return h.data&&lu(h.data)}})(),typeof Ss.unref=="function"&&Ss.unref(),_n(Cr,function(h){ia||Ss.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!bi.disableBfCache&&h.persisted){Vn&&console.debug("Dexie: handling persisted pagehide"),Ss?.close();for(var m=0,g=di;m<g.length;m++)g[m].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!bi.disableBfCache&&h.persisted&&(Vn&&console.debug("Dexie: handling persisted pageshow"),sr(),lu({all:new En(-1/0,[[]])}))})),Oe.rejectionMapper=function(h,m){return!h||h instanceof De||h instanceof TypeError||h instanceof SyntaxError||!h.name||!Qi[h.name]?h:(m=new Qi[h.name](m||h.message,h),"stack"in h&&me(m,"stack",{get:function(){return this.inner.stack}}),m)},$o(Vn),a(bi,Object.freeze({__proto__:null,Dexie:bi,liveQuery:Ic,Entity:yo,cmp:ot,PropModification:Ar,replacePrefix:function(h,m){return new Ar({replacePrefix:[h,m]})},add:function(h){return new Ar({add:h})},remove:function(h){return new Ar({remove:h})},default:bi,RangeSet:En,mergeRanges:Dr,rangesOverlap:qn}),{default:bi}),bi})})(Qh)),Qh.exports}var _N=vN();const gp=yp(_N),i0=Symbol.for("Dexie"),gf=globalThis[i0]||(globalThis[i0]=gp);if(gp.semVer!==gf.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${gp.semVer} and ${gf.semVer}`);const{liveQuery:LN,mergeRanges:UN,rangesOverlap:jN,RangeSet:zN,cmp:BN,Entity:qN,PropModification:FN,replacePrefix:HN,add:KN,remove:GN,DexieYProvider:YN}=gf,ya=new gf("sistema_impo");ya.version(1).stores({operaciones:"&id, estado, proveedor, deleted, updatedAtLocal",outbox:"++key, entityType, entityId, op, createdAt",meta:"key"});async function Zs(i){if(!i?.id)throw new Error("La operacin debe tener un ID");const e=Date.now(),n={id:i.id,deleted:!1,dirty:!0,updatedAtLocal:e,...i};return await ya.operaciones.put(n),await ya.outbox.add({entityType:"operacion",entityId:n.id,op:"upsert",createdAt:e}),n}async function iu(){return(await ya.operaciones.toArray()).filter(e=>e.deleted!==!0)}async function a0(i){return ya.operaciones.get(i)}async function EN(i){const e=await ya.operaciones.get(i);e&&await ya.operaciones.put({...e,dirty:!1})}const bN=Yx(dg,"operaciones");async function TN(i){if(!i?.id)throw new Error("La operacin debe tener un ID");const e=PT(dg,"operaciones",i.id);await hN(e,{...i,updatedAt:WE(),createdAt:i.createdAt?i.createdAt:WE()},{merge:!0})}async function SN(){return(await cN(bN)).docs.map(e=>({id:e.id,...e.data()}))}async function wN(i){const e=PT(dg,"operaciones",i);await fN(e)}function QT(){oe.useEffect(()=>{let i=!1;console.log("SYNC corriendo...");async function e(){if(!i){i=!0;try{const a=await ya.outbox.orderBy("createdAt").toArray();for(const u of a){const{entityType:d,entityId:y,op:v}=u;if(d==="operacion"){if(v==="upsert"){const E=await a0(y);if(!E)continue;await TN(E),await EN(y)}v==="delete"&&await wN(y),await ya.outbox.delete(u.key)}}const o=await SN();for(const u of o){const d=await a0(u.id),y=u.updatedAt?.toDate?u.updatedAt.toDate().getTime():new Date(u.updatedAt||0).getTime(),v=d?.updatedAtLocal||0;(!d||y>v)&&await ya.operaciones.put({...u,dirty:!1,deleted:!1,updatedAtLocal:y})}}catch(a){console.error("SYNC ERROR:",a)}finally{i=!1}}}e();const n=setInterval(e,15e3);return()=>clearInterval(n)},[])}function AN({operaciones:i}){const e=i.filter(u=>!u.deleted).length,n=i.filter(u=>u.estado==="EN_TRANSITO"||u.estado==="EN_CHILE").length,a=i.filter(u=>Object.values(u.documentos||{}).some(d=>d.recibido===!1)).length,o=i.filter(u=>u.finanzas?.saldo>0).length;return D.jsxs("div",{className:"kpi-grid",children:[D.jsx(kh,{title:"Operaciones activas",value:e}),D.jsx(kh,{title:"En trnsito",value:n}),D.jsx(kh,{title:"Docs pendientes",value:a,alert:!0}),D.jsx(kh,{title:"Pagos pendientes",value:o,alert:!0})]})}function kh({title:i,value:e,alert:n}){return D.jsxs("div",{className:`kpi-card ${n?"alert":""}`,children:[D.jsx("span",{className:"kpi-title",children:i}),D.jsx("span",{className:"kpi-value",children:e})]})}function RN(){const[i,e]=oe.useState([]);return QT(),oe.useEffect(()=>{async function n(){await Zs({id:"op_2025_07_001",proveedor:"GIVA",activo:"3 theremas + silln",estado:"EN_CHILE",observaciones:"Se envi el SWIFT al proveedor"});const o=await iu();e(o)}n().catch(console.error)},[]),D.jsxs("section",{className:"operaciones-page",children:[D.jsxs("header",{className:"operaciones-header",children:[D.jsx("h1",{children:"Operaciones"}),D.jsx("p",{children:"Seguimiento integral de importaciones activas"})]}),D.jsx(AN,{operaciones:i}),D.jsxs("section",{className:"operaciones-list-header",children:[D.jsx("h2",{children:"Operaciones activas"}),D.jsx("p",{children:"Operaciones en curso o con acciones pendientes"})]}),D.jsx("div",{className:"operaciones-grid",children:i.map(n=>D.jsxs("div",{className:"operacion-card",children:[D.jsxs("div",{className:"card-header",children:[D.jsx("strong",{children:n.proveedor}),D.jsx("span",{className:`estado ${n.estado.toLowerCase()}`,children:n.estado.replace("_"," ")})]}),D.jsxs("div",{className:"card-body",children:[D.jsx("p",{className:"activo",children:n.activo}),D.jsxs("p",{className:"id",children:["ID: ",n.id]})]})]},n.id))})]})}const CN=["CREADA","EN_TRANSITO","EN_CHILE","DOCS_PENDIENTES","PAGOS_PENDIENTES","FINALIZADA"];function IN(){const[i,e]=oe.useState([]),[n,a]=oe.useState("ALL"),[o,u]=oe.useState(""),d=$l();oe.useEffect(()=>{iu().then(e).catch(console.error)},[]);const y=oe.useMemo(()=>i.filter(v=>{const E=n==="ALL"||v.estado===n,R=o.toLowerCase(),I=v.id.toLowerCase().includes(R)||v.proveedor.toLowerCase().includes(R)||v.activo.toLowerCase().includes(R);return E&&I}),[i,n,o]);return D.jsxs("section",{className:"operaciones-listado-page",children:[D.jsxs("header",{className:"listado-header",children:[D.jsxs("div",{children:[D.jsx("h1",{children:"Operaciones"}),D.jsx("p",{children:"Listado completo y gestin de operaciones de importacin"})]}),D.jsx("button",{className:"btn-primary",onClick:()=>d("/operaciones/nueva"),children:"+ Nueva operacin"})]}),D.jsxs("div",{className:"filtros-bar",children:[D.jsx("input",{type:"text",placeholder:"Buscar por ID, proveedor o activo...",value:o,onChange:v=>u(v.target.value)}),D.jsxs("select",{value:n,onChange:v=>a(v.target.value),children:[D.jsx("option",{value:"ALL",children:"Todos los estados"}),CN.map(v=>D.jsx("option",{value:v,children:v.replace("_"," ")},v))]})]}),D.jsx("div",{className:"tabla-wrapper",children:D.jsxs("table",{className:"operaciones-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"ID"}),D.jsx("th",{children:"Proveedor"}),D.jsx("th",{children:"Activo"}),D.jsx("th",{children:"Estado"}),D.jsx("th",{children:"Pago adelanto"}),D.jsx("th",{children:"Acciones"})]})}),D.jsxs("tbody",{children:[y.length===0&&D.jsx("tr",{children:D.jsx("td",{colSpan:"6",className:"empty",children:"No hay operaciones para mostrar"})}),y.map(v=>D.jsxs("tr",{children:[D.jsx("td",{className:"mono",children:v.id}),D.jsx("td",{children:v.proveedor}),D.jsx("td",{children:v.activo}),D.jsx("td",{children:D.jsx("span",{className:`estado-badge ${v.estado.toLowerCase()}`,children:v.estado.replace("_"," ")})}),D.jsx("td",{children:D.jsx("span",{className:`pago-badge ${v.pagoAdelanto?"ok":"pendiente"}`,children:v.pagoAdelanto?"Confirmado":"Pendiente"})}),D.jsx("td",{children:D.jsx("button",{className:"btn-ver",onClick:()=>d(`/operaciones/${v.id}`),children:"Ver"})})]},v.id))]})]})})]})}const ON=["CREADA","EN_TRANSITO","EN_CHILE","DOCS_PENDIENTES","PAGOS_PENDIENTES","FINALIZADA"];function DN(){const{id:i}=sA(),e=$l(),[n,a]=oe.useState(null),[o,u]=oe.useState(""),[d,y]=oe.useState(""),[v,E]=oe.useState(""),[R,I]=oe.useState("FACTURA");if(oe.useEffect(()=>{async function N(){const L=(await iu()).find(G=>G.id===i);a(L),u(L?.estado||"")}N().catch(console.error)},[i]),!n)return D.jsx("p",{className:"loading",children:"Cargando operacin..."});const P=n.moneda||"USD",ne=Number(n.totalOperacion||0),me=Number(n.adelantoMonto||0),pe=Math.max(0,ne-me),fe=ne>0?Math.min(100,me/ne*100):0,Se=N=>new Intl.NumberFormat("es-AR",{style:"currency",currency:P,maximumFractionDigits:2}).format(Number(N||0)),Te=async()=>{const N=Number(String(d).replace(",","."));if(!N||N<=0){alert("Ingres un monto de adelanto vlido.");return}if(N>ne){alert("El adelanto no puede ser mayor al total de la operacin.");return}const M={...n,adelantoMonto:N,historial:[...n.historial||[],{fecha:new Date().toISOString(),evento:`Adelanto registrado: ${Se(N)}`}]};await Zs(M),a(M),y("")},Ne=async()=>{const N={...n,adelantoMonto:0,historial:[...n.historial||[],{fecha:new Date().toISOString(),evento:"Adelanto revertido a 0"}]};await Zs(N),a(N)},We=async()=>{const N={...n,estado:o,historial:[...n.historial||[],{fecha:new Date().toISOString(),evento:`Estado cambiado a ${o}`}]};await Zs(N),a(N)},st=async()=>{const N={...n,estado:"FINALIZADA",finalizada:!0};await Zs(N),a(N)},Ye=async()=>{if(!v.trim()){alert("Ingres el nombre del documento");return}const N={nombre:v,tipo:R,estado:"PENDIENTE",fecha:new Date().toISOString()},M={...n,documentos:[...n.documentos||[],N],historial:[...n.historial||[],{fecha:new Date().toISOString(),evento:`Documento agregado: ${v}`}]};await Zs(M),a(M),E("")};return D.jsxs("section",{className:"operacion-detalle-page",children:[D.jsxs("div",{className:"detalle-header",children:[D.jsx("button",{className:"btn-back",onClick:()=>e(-1),children:" Volver"}),D.jsxs("div",{children:[D.jsx("h1",{children:n.proveedor}),D.jsxs("p",{className:"op-id",children:["ID ",n.id]})]}),D.jsx("span",{className:`estado-badge ${n.estado.toLowerCase()}`,children:n.estado.replace("_"," ")})]}),D.jsxs("section",{className:"detalle-card",children:[D.jsx("h3",{children:"Resumen de la operacin"}),D.jsxs("p",{children:[D.jsx("strong",{children:"Activo:"})," ",n.activo]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Observaciones:"})," ",n.observaciones||"-"]})]}),D.jsxs("section",{className:"detalle-card",children:[D.jsx("h3",{children:"Estado financiero"}),D.jsxs("div",{className:"pago-grid",children:[D.jsxs("div",{className:"pago-item",children:[D.jsx("span",{className:"label",children:"Total operacin"}),D.jsx("span",{className:"value",children:Se(ne)})]}),D.jsxs("div",{className:"pago-item",children:[D.jsx("span",{className:"label",children:"Adelanto pagado"}),D.jsx("span",{className:`value ${me>0?"ok":"pendiente"}`,children:Se(me)})]}),D.jsxs("div",{className:"pago-item",children:[D.jsx("span",{className:"label",children:"Saldo pendiente"}),D.jsx("span",{className:`value ${pe===0?"ok":"pendiente"}`,children:Se(pe)})]})]}),D.jsxs("div",{className:"progress-wrapper",children:[D.jsx("div",{className:"progress-bar",children:D.jsx("div",{className:"progress-fill",style:{width:`${fe}%`}})}),D.jsxs("span",{className:"progress-text",children:[Math.round(fe),"% pagado"]})]}),me>0?D.jsxs("div",{className:"pago-ok-row",children:[D.jsx("span",{className:"badge ok",children:"Adelanto confirmado"}),D.jsx("button",{className:"btn-secondary",onClick:Ne,children:"Revertir adelanto"})]}):D.jsxs("div",{className:"pago-actions",children:[D.jsxs("div",{className:"pago-input",children:[D.jsxs("label",{children:["Monto de adelanto (",P,")"]}),D.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Ej: 3500",value:d,onChange:N=>y(N.target.value)})]}),D.jsx("button",{className:"btn-primary",onClick:Te,children:"Registrar adelanto"})]})]}),D.jsxs("section",{className:"detalle-card",children:[D.jsx("h3",{children:"Estado de la operacin"}),D.jsxs("div",{className:"estado-actions",children:[D.jsx("select",{value:o,onChange:N=>u(N.target.value),children:ON.map(N=>D.jsx("option",{value:N,children:N.replace("_"," ")},N))}),D.jsx("button",{className:"btn-secondary",onClick:We,children:"Actualizar estado"})]})]}),D.jsxs("section",{className:"detalle-card",children:[D.jsx("h3",{children:"Documentos"}),D.jsxs("ul",{className:"docs-list",children:[(n.documentos||[]).length===0&&D.jsx("li",{className:"empty",children:"No hay documentos cargados"}),(n.documentos||[]).map((N,M)=>D.jsxs("li",{className:"doc-item",children:[D.jsxs("div",{children:[D.jsx("strong",{children:N.nombre}),D.jsxs("span",{className:"doc-meta",children:[N.tipo," "," ",new Date(N.fecha).toLocaleDateString()]})]}),D.jsx("span",{className:`doc-status ${N.estado.toLowerCase()}`,children:N.estado})]},M))]}),D.jsxs("div",{className:"doc-actions",children:[D.jsx("input",{type:"text",placeholder:"Nombre del documento",value:v,onChange:N=>E(N.target.value)}),D.jsxs("select",{value:R,onChange:N=>I(N.target.value),children:[D.jsx("option",{value:"FACTURA",children:"Factura"}),D.jsx("option",{value:"BL",children:"B/L"}),D.jsx("option",{value:"PACKING_LIST",children:"Packing List"}),D.jsx("option",{value:"OTRO",children:"Otro"})]}),D.jsx("button",{className:"btn-secondary",onClick:Ye,children:"Agregar documento"})]})]}),D.jsxs("section",{className:"detalle-card",children:[D.jsx("h3",{children:"Historial"}),D.jsxs("ul",{className:"timeline",children:[(n.historial||[]).length===0&&D.jsx("li",{className:"empty",children:"Sin movimientos registrados"}),(n.historial||[]).map((N,M)=>D.jsxs("li",{children:[D.jsx("span",{className:"time",children:new Date(N.fecha).toLocaleString()}),D.jsx("span",{children:N.evento})]},M))]})]}),D.jsx("section",{className:"detalle-actions",children:!n.finalizada&&D.jsx("button",{className:"btn-danger",onClick:st,children:"Finalizar operacin"})})]})}function xN(){const[i,e]=oe.useState([]);oe.useEffect(()=>{iu().then(e).catch(console.error)},[]);const n=oe.useMemo(()=>{let o=0,u=0,d=0,y=0;return i.forEach(v=>{const E=Number(v.totalOperacion||0),R=Number(v.adelantoMonto||0);o+=E,u+=R,d+=Math.max(0,E-R),E-R>0&&y++}),{total:o,cobrado:u,pendiente:d,conPendiente:y}},[i]),a=(o,u="USD")=>new Intl.NumberFormat("es-AR",{style:"currency",currency:u,maximumFractionDigits:2}).format(Number(o||0));return D.jsxs("section",{className:"finanzas-page",children:[D.jsxs("header",{className:"finanzas-header",children:[D.jsx("h1",{children:"Finanzas"}),D.jsx("p",{children:"Estado financiero de todas las operaciones"})]}),D.jsxs("div",{className:"finanzas-kpis",children:[D.jsxs("div",{className:"kpi-card",children:[D.jsx("span",{children:"Total de operaciones"}),D.jsx("strong",{children:a(n.total)})]}),D.jsxs("div",{className:"kpi-card ok",children:[D.jsx("span",{children:"Adelantos pagados"}),D.jsx("strong",{children:a(n.cobrado)})]}),D.jsxs("div",{className:"kpi-card pendiente",children:[D.jsx("span",{children:"Saldo a pagar"}),D.jsx("strong",{children:a(n.pendiente)})]}),D.jsxs("div",{className:"kpi-card alerta",children:[D.jsx("span",{children:"Operaciones con saldo pendiente"}),D.jsx("strong",{children:n.conPendiente})]})]}),D.jsx("div",{className:"finanzas-table-wrapper",children:D.jsxs("table",{className:"finanzas-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Operacin"}),D.jsx("th",{children:"Proveedor"}),D.jsx("th",{children:"Total"}),D.jsx("th",{children:"Adelanto"}),D.jsx("th",{children:"Saldo"}),D.jsx("th",{children:"Progreso"})]})}),D.jsxs("tbody",{children:[i.length===0&&D.jsx("tr",{children:D.jsx("td",{colSpan:"6",className:"empty",children:"No hay datos financieros"})}),i.map(o=>{const u=Number(o.totalOperacion||0),d=Number(o.adelantoMonto||0),y=Math.max(0,u-d),v=u>0?Math.min(100,d/u*100):0;return D.jsxs("tr",{children:[D.jsx("td",{className:"mono",children:o.id}),D.jsx("td",{children:o.proveedor}),D.jsx("td",{children:a(u,o.moneda)}),D.jsx("td",{children:a(d,o.moneda)}),D.jsx("td",{className:y===0?"saldo-ok":"saldo-pendiente",children:a(y,o.moneda)}),D.jsxs("td",{children:[D.jsx("div",{className:"progress-mini",children:D.jsx("div",{className:"progress-fill",style:{width:`${v}%`}})}),D.jsxs("span",{className:"progress-label",children:[Math.round(v),"%"]})]})]},o.id)})]})]})})]})}function NN(){const[i,e]=oe.useState([]),[n,a]=oe.useState("TODOS"),[o,u]=oe.useState("TODOS"),d=$l();oe.useEffect(()=>{iu().then(e).catch(console.error)},[]);const y=oe.useMemo(()=>i.flatMap(E=>(E.documentos||[]).map((R,I)=>({id:`${E.id}_${I}`,operacionId:E.id,proveedor:E.proveedor,nombre:R.nombre,tipo:R.tipo,estado:R.estado,fecha:R.fecha}))),[i]),v=oe.useMemo(()=>y.filter(E=>!(n!=="TODOS"&&E.estado!==n||o!=="TODOS"&&E.tipo!==o)),[y,n,o]);return D.jsxs("section",{className:"documentos-page",children:[D.jsxs("header",{className:"documentos-header",children:[D.jsx("h1",{children:"Documentos"}),D.jsx("p",{children:"Vista global de documentacin por operacin"})]}),D.jsxs("div",{className:"documentos-filtros",children:[D.jsxs("select",{value:n,onChange:E=>a(E.target.value),children:[D.jsx("option",{value:"TODOS",children:"Todos los estados"}),D.jsx("option",{value:"PENDIENTE",children:"Pendientes"}),D.jsx("option",{value:"OK",children:"Completos"})]}),D.jsxs("select",{value:o,onChange:E=>u(E.target.value),children:[D.jsx("option",{value:"TODOS",children:"Todos los tipos"}),D.jsx("option",{value:"FACTURA",children:"Factura"}),D.jsx("option",{value:"BL",children:"B/L"}),D.jsx("option",{value:"PACKING_LIST",children:"Packing List"}),D.jsx("option",{value:"OTRO",children:"Otro"})]})]}),D.jsx("div",{className:"documentos-table-wrapper",children:D.jsxs("table",{className:"documentos-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Documento"}),D.jsx("th",{children:"Tipo"}),D.jsx("th",{children:"Estado"}),D.jsx("th",{children:"Operacin"}),D.jsx("th",{children:"Proveedor"}),D.jsx("th",{children:"Fecha"}),D.jsx("th",{})]})}),D.jsxs("tbody",{children:[v.length===0&&D.jsx("tr",{children:D.jsx("td",{colSpan:"7",className:"empty",children:"No hay documentos para mostrar"})}),v.map(E=>D.jsxs("tr",{children:[D.jsx("td",{children:D.jsx("strong",{children:E.nombre})}),D.jsx("td",{children:E.tipo}),D.jsx("td",{children:D.jsx("span",{className:`doc-status ${E.estado.toLowerCase()}`,children:E.estado})}),D.jsx("td",{className:"mono",children:E.operacionId}),D.jsx("td",{children:E.proveedor}),D.jsx("td",{children:E.fecha?new Date(E.fecha).toLocaleDateString():"-"}),D.jsx("td",{children:D.jsx("button",{className:"btn-link",onClick:()=>d(`/operaciones/${E.operacionId}`),children:"Ver operacin"})})]},E.id))]})]})})]})}const s0=["ORIGEN","EMBARCADO","EN_TRANSITO","ARRIBO_PUERTO","EN_DEPOSITO","LIBERADO"];function MN(){const[i,e]=oe.useState([]),n=$l();oe.useEffect(()=>{iu().then(e).catch(console.error)},[]);const a=oe.useMemo(()=>i.map(u=>({id:u.id,proveedor:u.proveedor,activo:u.activo,etapa:u.logistica?.etapa||"ORIGEN",eta:u.logistica?.eta||null,origen:u.logistica?.origen||"-",destino:u.logistica?.destino||"-",medio:u.logistica?.medio||"MARTIMO"})),[i]),o=async(u,d)=>{const y=i.find(E=>E.id===u);if(!y)return;const v={...y,logistica:{...y.logistica||{},etapa:d},historial:[...y.historial||[],{fecha:new Date().toISOString(),evento:`Logstica: etapa cambiada a ${d.replace("_"," ")}`}]};await Zs(v),e(E=>E.map(R=>R.id===u?v:R))};return D.jsxs("section",{className:"logistica-page",children:[D.jsxs("header",{className:"logistica-header",children:[D.jsx("h1",{children:"Logstica"}),D.jsx("p",{children:"Seguimiento fsico de las operaciones"})]}),D.jsx("div",{className:"logistica-table-wrapper",children:D.jsxs("table",{className:"logistica-table",children:[D.jsx("thead",{children:D.jsxs("tr",{children:[D.jsx("th",{children:"Operacin"}),D.jsx("th",{children:"Proveedor"}),D.jsx("th",{children:"Activo"}),D.jsx("th",{children:"Origen"}),D.jsx("th",{children:"Destino"}),D.jsx("th",{children:"Medio"}),D.jsx("th",{children:"Etapa"}),D.jsx("th",{children:"ETA"}),D.jsx("th",{})]})}),D.jsxs("tbody",{children:[a.length===0&&D.jsx("tr",{children:D.jsx("td",{colSpan:"9",className:"empty",children:"No hay operaciones logsticas"})}),a.map(u=>D.jsxs("tr",{children:[D.jsx("td",{className:"mono",children:u.id}),D.jsx("td",{children:u.proveedor}),D.jsx("td",{children:u.activo}),D.jsx("td",{children:u.origen}),D.jsx("td",{children:u.destino}),D.jsx("td",{children:u.medio}),D.jsx("td",{children:D.jsx("select",{value:u.etapa,onChange:d=>o(u.id,d.target.value),children:s0.map(d=>D.jsx("option",{value:d,children:d.replace("_"," ")},d))})}),D.jsx("td",{children:u.eta?new Date(u.eta).toLocaleDateString():"-"}),D.jsx("td",{children:D.jsx("button",{className:"btn-link",onClick:()=>n(`/operaciones/${u.id}`),children:"Ver operacin"})})]},u.id))]})]})}),D.jsxs("section",{className:"pipeline-section",children:[D.jsx("h3",{children:"Pipeline logstico"}),D.jsx("div",{className:"pipeline",children:s0.map(u=>D.jsxs("div",{className:"pipeline-col",children:[D.jsx("span",{className:"pipeline-title",children:u.replace("_"," ")}),D.jsx("span",{className:"pipeline-count",children:a.filter(d=>d.etapa===u).length})]},u))})]})]})}function VN(){const i=$l(),[e,n]=oe.useState({id:"",proveedor:"",activo:"",moneda:"USD",totalOperacion:"",observaciones:""}),a=u=>{n({...e,[u.target.name]:u.target.value})},o=async()=>{if(!e.id||!e.proveedor||!e.activo){alert("Complet los campos obligatorios");return}const u={id:e.id,proveedor:e.proveedor,activo:e.activo,moneda:e.moneda,totalOperacion:Number(e.totalOperacion||0),estado:"CREADA",adelantoMonto:0,documentos:[],historial:[{fecha:new Date().toISOString(),evento:"Operacin creada"}],observaciones:e.observaciones,createdAt:new Date().toISOString()};await Zs(u),i(`/operaciones/${e.id}`)};return D.jsxs("section",{className:"crear-operacion-page",children:[D.jsxs("header",{className:"crear-header",children:[D.jsx("h1",{children:"Nueva operacin"}),D.jsx("p",{children:"Creacin de una nueva operacin de importacin"})]}),D.jsxs("div",{className:"form-card",children:[D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:"ID de operacin *"}),D.jsx("input",{name:"id",placeholder:"op_2026_001",value:e.id,onChange:a})]}),D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:"Proveedor *"}),D.jsx("input",{name:"proveedor",placeholder:"GIVA",value:e.proveedor,onChange:a})]}),D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:"Activo / Mercadera *"}),D.jsx("input",{name:"activo",placeholder:"3 thermas + silln",value:e.activo,onChange:a})]}),D.jsxs("div",{className:"form-row",children:[D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:"Moneda"}),D.jsxs("select",{name:"moneda",value:e.moneda,onChange:a,children:[D.jsx("option",{value:"USD",children:"USD"}),D.jsx("option",{value:"EUR",children:"EUR"})]})]}),D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:"Total operacin"}),D.jsx("input",{name:"totalOperacion",type:"number",placeholder:"12500",value:e.totalOperacion,onChange:a})]})]}),D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:"Observaciones"}),D.jsx("textarea",{name:"observaciones",placeholder:"Notas internas de la operacin",value:e.observaciones,onChange:a})]}),D.jsxs("div",{className:"form-actions",children:[D.jsx("button",{className:"btn-secondary",onClick:()=>i(-1),children:"Cancelar"}),D.jsx("button",{className:"btn-primary",onClick:o,children:"Crear operacin"})]})]})]})}function kN(){return QT(),D.jsxs("div",{className:"app-layout",children:[D.jsx(gN,{userEmail:"ariel@ptm.cl"}),D.jsx("main",{className:"main-content",children:D.jsxs(bA,{children:[D.jsx(Ys,{path:"/",element:D.jsx(RN,{})}),D.jsx(Ys,{path:"/operaciones",element:D.jsx(IN,{})}),D.jsx(Ys,{path:"/operaciones/:id",element:D.jsx(DN,{})}),D.jsx(Ys,{path:"/finanzas",element:D.jsx(xN,{})}),D.jsx(Ys,{path:"/documentos",element:D.jsx(NN,{})}),D.jsx(Ys,{path:"/logistica",element:D.jsx(MN,{})}),D.jsx(Ys,{path:"/operaciones/nueva",element:D.jsx(VN,{})})]})})]})}Sw.createRoot(document.getElementById("root")).render(D.jsx(pw.StrictMode,{children:D.jsx(KA,{children:D.jsx(mN,{children:D.jsx(kN,{})})})}));
